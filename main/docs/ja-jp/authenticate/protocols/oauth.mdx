---
og:description: Learn how Auth0 works with the OAuth 2.0 Authorization Framework.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: OAuth 2.0の認可フレームワーク
og:url: https://auth0.com/docs/
permalink: oauth
title: OAuth 2.0の認可フレームワーク
twitter:description: Learn how Auth0 works with the OAuth 2.0 Authorization Framework.
twitter:title: OAuth 2.0の認可フレームワーク
---

<Card title="Overview">

Key Concepts

* Auth0 supports the OAuth 2.0 protocol drafted by the Internet Engineering Task Force (IETF).
* Read about roles, grant types (or workflows), and endpoints from the OAuth 2.0 spec.

</Card>

The [OAuth 2.0](https://tools.ietf.org/html/rfc6749) authorization framework is a protocol that allows a user to grant a third-party web site or application access to the user's protected resources, without necessarily revealing their long-term credentials or even their identity.

<Tooltip tip="OAuth 2.0: Authorization framework that defines authorization protocols and workflows." cta="View Glossary" href="/docs/glossary?term=OAuth">OAuth</Tooltip> introduces an authorization layer and separates the role of the client from that of the <Tooltip tip="Resource Owner: Entity (such as a user or application) capable of granting access to a protected resource." cta="View Glossary" href="/docs/glossary?term=resource+owner">resource owner</Tooltip>. In OAuth, the client requests access to resources controlled by the resource owner and hosted by the <Tooltip tip="Resource Server: Server hosting protected resources. Resource servers accept and respond to protected resource requests." cta="View Glossary" href="/docs/glossary?term=resource+server">resource server</Tooltip> and is issued a different set of credentials than those of the resource owner. Instead of using the resource owner's credentials to access protected resources, the client obtains an <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=access+token">access token</Tooltip> - a string denoting a specific scope, lifetime, and other access attributes. Access tokens are issued to third-party clients by an <Tooltip tip="Authorization Server: Centralized server that contributes to defining the boundaries of a user’s access. For example, your authorization server can control the data, tasks, and features available to a user." cta="View Glossary" href="/docs/glossary?term=authorization+server">authorization server</Tooltip> with the approval of the resource owner. Then the client uses the access token to access the protected resources hosted by the resource server.

Auth0 generates access tokens for API authorization scenarios, in [JSON web token (JWT) format](/docs/secure/tokens/json-web-tokens/json-web-token-structure). The permissions represented by the access token, in OAuth terms, are known as [scopes](/docs/get-started/apis/scopes). When an application authenticates with Auth0, it specifies the scopes it wants. If those scopes are authorized by the user, then the access token will represent these authorized scopes.

## OAuth 2.0のフローには以下のロールがあります。

**Resource Owner（リソース所有者）**：保護されたリソースへのアクセスを付与できるエンティティ。大抵の場合、エンドユーザーです。

* **Resource Server（リソースサーバー）**：保護されたリソースをホストするサーバー。アクセスしたいAPIのことです。
* **Client （クライアント）**：リソース所有者の代わりに保護されたリソースへのアクセス権を要求するアプリケーション。
* **Authorization Server（認可サーバー）**：リソース所有者を認証し、適切な認可を得た後にアクセストークンを発行するサーバー。この例では、Auth0です。
* 付与タイプ

## OAuth 2.0はアクセストークンの取得に4つのフローを定義しています。これらのフローは付与タイプと呼ばれています。[どのフローが状況に適しているかを決める](/login/flows/which-oauth-2-0-flow-should-i-use)際に、考慮されるのは主にアプリケーションタイプです。

OAuth 2.0 defines four flows to get an access token. These flows are called grant types. [Deciding which one is suited for your case](/docs/get-started/authentication-and-authorization-flow/which-oauth-2-0-flow-should-i-use) depends mostly on your application type.

* [Authorization Code Flow](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow): used by Web Apps executing on a server. This is also used by mobile apps, using the [Proof Key for Code Exchange (PKCE) technique](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow-with-pkce).
* [Implicit Flow with Form Post](/docs/get-started/authentication-and-authorization-flow/implicit-flow-with-form-post): used by JavaScript-centric apps (Single-Page Applications) executing on the user's browser.
* [Resource Owner Password Flow](/docs/get-started/authentication-and-authorization-flow/resource-owner-password-flow): used by highly-trusted apps.
* [Client Credentials Flow](/docs/get-started/authentication-and-authorization-flow/client-credentials-flow): used for machine-to-machine communication.

The specification also provides an extensibility mechanism for defining additional grant types. To learn more about how each grant type works and when it should be used, see [Authentication and Authorization Flows](/docs/get-started/authentication-and-authorization-flow).

## OAuth 2.0は、`/authorize`エンドポイントおよび`/oauth/token`エンドポイントの2つのエンドポイントを使用します。

認可エンドポイント

### アプリケーションがユーザーを認証するために`/authorize`エンドポイントを最初に呼び出すときに、カスタムクエリパラメーターを構成できます。カスタムクエリパラメーターを使用すると、ユニバーサルログインエクスペリエンスのページテンプレートに追加でコンテキストを提供することができます。

このエンドポイントは認可コードと暗黙の付与タイプに使用されます。発行する証明書の種類に影響するため、認可サーバーはアプリケーションが使いたい付与タイプを知る必要があります。

認可コード付与の場合、認可サーバーは認可コードを発行します（その後、それが`/oauth/token`エンドポイントでアクセストークンと交換できます）。

<table class="table"><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>response_type</code></td>
<td>Tells the authorization server which grant to execute.</td>
</tr>
<tr>
<td><code>response_mode</code></td>
<td>(Optional) How the result of the authorization request is formatted. Values: <br/>- <code>query</code>: for Authorization Code grant. <code>302 Found</code> triggers redirect. <br/>- <code>fragment</code>: for Implicit grant. <code>302 Found</code> triggers redirect. <br/>- <code>form_post</code>: <code>200 OK</code> with response parameters embedded in an HTML form as hidden parameters. <br/>- <code>web_message</code>: For Silent Authentication. Uses HTML5 web messaging.</td>
</tr>
<tr>
<td><code>client_id</code></td>
<td>The ID of the application that asks for authorization.</td>
</tr>
<tr>
<td><code>redirect_uri</code></td>
<td>Holds a URL. A successful response from this endpoint results in a redirect to this URL.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td>A space-delimited list of permissions that the application requires.</td>
</tr>
<tr>
<td><code>state</code></td>
<td>An opaque value, used for security purposes. If this request parameter is set in the request, then it is returned to the application as part of the <code>redirect_uri</code>.</td>
</tr>
<tr>
<td><code>connection</code></td>
<td>Specifies the connection type for Passwordless connections</td>
</tr>
</tbody>
</table>

You can configure custom query parameters when your application makes the initial call to the `/authorize` endpoint to authenticate a user. You can use custom query parameters to provide additional context to the page template for the <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> experience.

You must enable ID First to use the `connection` parameter. For more information on the `connection` parameter and the Universal Login experience, review [Passwordless for Universal Login](/docs/authenticate/passwordless/passwordless-with-universal-login).

Query parameters prefixed with `ext-` automatically appear in the [page template context](/docs/customize/login-pages/universal-login/customize-templates#custom-query-parameters).

暗黙的付与の場合には`response_type=token`を使用してアクセストークンを含めます。別の方法としては、`response_type=id_token token`を使用してアクセストークンとIDトークンの両方を含めます。

* IDトークンはJWTで、ログインしたユーザーについての情報が含まれています。OpenID Connect（OIDC）によって導入されました。
* For the Implicit grant, it will issue an access token, which is an opaque string (or a <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JWT">JWT</Tooltip> in an Auth0 implementation) that denotes who has authorized which permissions (scopes) to which application.

認可コードフローでは、アプリケーションは、認可エンドポイントから取得した認可コードをアクセストークンと交換します。

* クライアントの資格情報フローとリソース所有者のパスワード資格情報付与交換では、アプリケーションは資格情報のセットを使って認証し、アクセストークンを取得します。
* For the Implicit grant, use `response_type=token` to include an access token. An alternative is to use `response_type=id_token token` to include both an access token and an <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=ID+token">ID token</Tooltip>.

An ID token is a JWT that contains information about the logged in user. It was introduced by <Tooltip tip="OpenID: Open standard for authentication that allows applications to verify users' identities without collecting and storing login information." cta="View Glossary" href="/docs/glossary?term=OpenID">OpenID</Tooltip> Connect (OIDC).

The [OAuth 2.0 Multiple Response Type Encoding Practices specification](https://openid.net/specs/oauth-v2-multiple-response-types-1_0.html) added a parameter that specifies how the result of the authorization request is formatted. This parameter is called `response_mode`. It is optional and can take the following values:

<table class="table"><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>query</code></td>
<td>This is the default for Authorization Code grant. A successful response is <code>302 Found</code> which triggers a redirect to the <code>redirect_uri</code>. The response parameters are embedded in the query component (the part after <code>?</code>) of the <code>redirect_uri</code> in the <code>Location</code> header. <br/>For example: <br/><code>HTTP/1.1 302 Found</code> <br/><code>Location: https://my-redirect-uri.callback?code=js89p2x1</code> where the authorization code is <code>js89p21</code>.</td>
</tr>
<tr>
<td><code>fragment</code></td>
<td>This is the default for Implicit grant. A successful response is <code>302 Found</code>, which triggers a redirect to the <code>redirect_uri</code> (which is a request parameter). The response parameters are embedded in the fragment component (the part after <code>#</code>) of the <code>redirect_uri</code> in the <code>Location</code> header. <br/>For example: <br/><code>HTTP/1.1 302 Found</code><br/><code>Location: https://my-redirect-uri/callback#access_token=eyB...78f&amp;token_type=Bearer&amp;expires_in=3600</code>.</td>
</tr>
<tr>
<td><code>form_post</code></td>
<td>The response mode is defined by the <a href="https://openid.net/specs/oauth-v2-form-post-response-mode-1_0.html">OAuth 2.0 Form Post Response Mode specification</a>. A successful response is <code>200 OK</code> and the parameters are embedded in an HTML form as hidden params. The <code>action</code> of the form is the <code>redirect_uri</code> and the <code>onload</code> attribute is configured to submit the form. After the HTML is loaded by the browser, a redirect to the <code>redirect_uri</code> is done.</td>
</tr>
<tr>
<td><code>web_message</code></td>
<td>This response mode is defined in <a href="https://tools.ietf.org/html/draft-sakimura-oauth-wmrm-00">OAuth 2.0 Web Message Response Mode specification</a>. It uses HTML5 Web Messaging instead of the redirect for the authorization response from the /authorization endpoint. This is particularly useful when using Silent Authentication. To do this response mode, you must register your app's URL at the <strong>Allowed Web Origins</strong> field in your Auth0 <a href="https://manage.auth0.com/#/applications/{yourClientId}/settings">application settings</a>.</td>
</tr>
</tbody>
</table>

### Token endpoint

The `/oauth/token` endpoint is used by the application in order to get an access token or a <Tooltip tip="Refresh Token: Token used to obtain a renewed Access Token without forcing users to log in again." cta="View Glossary" href="/docs/glossary?term=refresh+token">refresh token</Tooltip>. It is used by all flows except for the Implicit Flow because in that case an access token is issued directly.

* In the Authorization Code Flow, the application exchanges the authorization code it got from the authorization endpoint for an access token.
* In the Client Credentials Flow and Resource Owner Password Credentials Grant Exchange, the application authenticates using a set of credentials and then gets an access token.

## State parameters

Authorization protocols provide a `state` parameter that allows you to restore the previous state of your application. The `state` parameter preserves some state object set by the client in the Authorization request and makes it available to the client in the response. The primary reason for using the state parameter is to mitigate CSRF attacks. See [Use OAuth 2.0 State Parameters](/docs/secure/attack-protection/state-parameters) for details.

## Learn more

* [Prevent Attacks and Redirect Users with OAuth 2.0 State Parameters](/docs/secure/attack-protection/state-parameters)
* [Which OAuth 2.0 Flow Should I Use?](/docs/get-started/authentication-and-authorization-flow/which-oauth-2-0-flow-should-i-use)