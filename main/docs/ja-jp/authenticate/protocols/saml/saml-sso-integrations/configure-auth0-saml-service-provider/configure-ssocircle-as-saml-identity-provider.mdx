---
og:description: Learn how to configure an application to use Auth0 for SAML Single
  Sign-on (SSO), authenticating users against SSOCircle.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: SSOCircleをSAML IDプロバイダーとして構成する
og:url: https://auth0.com/docs/
permalink: configure-ssocircle-as-saml-identity-provider
title: SSOCircleをSAML IDプロバイダーとして構成する
twitter:description: Learn how to configure an application to use Auth0 for SAML Single
  Sign-on (SSO), authenticating users against SSOCircle.
twitter:title: SSOCircleをSAML IDプロバイダーとして構成する
---

Configure SSOCircle as an <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+provider">identity provider</Tooltip> by completing the following steps:

1. Obtain SSOCircle metadata.
2. Configure enterprise connection in Auth0.
3. Configure SSOCircle as identity provider.
4. Test connection.

## 前提条件

You must have a [SSOCircle](https://idp.ssocircle.com/) account.

## Auth0でエンタープライズ接続を構成

1. Navigate to [SSOCircle's IDP page](https://idp.ssocircle.com/) to see the metadata required for integration. You will be shown an XML file.
2. From this page, you will need to save the following attributes:

   1. The Location URL for the `SingleSignOnService` attribute with an `HTTP-Redirect` type.
   2. The Location URL for the `SingleLogoutService` attribute with an `HTTP-Redirect` type.
3. [Download](http://www.ssocircle.com/en/idp-tips-tricks/public-idp-configuration) and save the SSOCircle CA Certificate.

## Auth0 SAML接続のメタデータへは、以下のフォーマットでURLを使用してアクセスできます。：

1. Go to [Dashboard > Authentication > Enterprise > SAMLP](https://manage.auth0.com/#/connections) and click the **plus** icon to go to the page that allows you to create a new connection.
2. Provide the appropriate configuration settings for this connection. The only mandatory fields are as follows:

<table class="table"><thead>
<tr>
<th><strong>Setting</strong></th>
<th><strong>Description</strong></th>
<th><strong>Example</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Connection name</td>
<td>Auth0 connection name.</td>
<td><code>myoktaconnection</code></td>
</tr>
<tr>
<td>Sign In URL</td>
<td>Okta URL where user login requests are sent.<br/><br/>This is the <strong>Identity Provider Single Sign-On URL</strong> value you recorded previously.</td>
<td>`https://my_okta_tenant_name.okta.com/app/` <code>my_okta_tenant_namemy_okta_saml_app_integration_name/</code> <code>dakflkbzevu5i5zBi939/sso/saml</code></td>
</tr>
<tr>
<td>X509 Signing Certificate</td>
<td>Okta tenant public key signing certificate.<br/><br/>Upload the <strong>X509 Certificate</strong> you downloaded previously.</td>
<td><code>myOktaTenantSigningCertificate.pem</code></td>
</tr>
</tbody>
</table>
3. When setting up mappings, use the following JSON to properly map SAML attributes from SSO Circle:

   ```json lines
   {
         "email": "EmailAddress",
         "given_name": "FirstName",
         "family_name": "LastName"
       }
   ```


   

   
4. Click **Save**. In the next window, you'll be provided two options:

   1. If you are a domain administrator, click **Continue** for additional instructions on SAML identity provider configuration.
   2. If you are not, you can give your domain administrator the provided URL so that they can finish the configuration.

You can access the metadata for an Auth0 <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> connection using a URL with the following format:
`https://{yourDomain}/samlp/metadata?connection={yourConnectionName}`.

SSOCircleをIDプロバイダーとして構成

## 接続をテストする

1. Log in to your [SSOCircle](http://ssocircle.com) account. You will be directed to your user profile, and to the left of that is a navigation bar.
2. Click **Manage Metadata**.
3. Select **Add New Service Provider**, and provide the following information to configure the new service provider which, in this case, is Auth0:

<table class="table"><thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>FQDN of the ServiceProvider</strong></td>
<td><code>auth0.com</code></td>
</tr>
<tr>
<td><strong>Attributes to send in assertion</strong></td>
<td>Check the box for <code>EmailAddress</code></td>
</tr>
<tr>
<td><strong>Insert your metadata information:</strong></td>
<td>Paste in the XML metadata that you downloaded after you configured your Auth0 connection.</td>
</tr>
</tbody>
</table>
4. Click **Submit**.

## Auth0アプリケーションの作成

### エンタープライズ接続のテスト

1. Go to the **Applications** page on the [Auth0 Dashboard](https://manage.auth0.com/#) and click **+ New Application**.
2. Provide some basic information about your new application. Choose **Regular Web Applications** as the application type.
3. Click **Create** to finish configuration and begin the Application creation process. You will be directed to the application details page.
4. Click **Settings**.
5. In the **Allowed Callback URL** field, enter the list of allowed callback URLs includes those to which users will be redirected after authentication. The URL(s) entered here must match the **callback URL** in the HTML code you will create in a later step. Normally, you would enter a URL for your application, but to keep this example simple, users will simply be sent to the Auth0 JWT Tool.
6. Click **SAVE CHANGES**.
7. Return to the top of **Settings** and click **Connections**.
8. Scroll to the **Enterprise** section. Find the row for the SAML connection you created above and turn on toggle to enable the SAML connection.

### アプリケーションにログインできない場合は、ご利用のブラウザーの履歴とクッキーをクリアしてからもう一度テストしてください。ブラウザーがHTMLの最新バージョンを選択していない場合もあります。

1. To test your connection, follow the steps in [Test Enterprise Connections](/docs/authenticate/identity-providers/enterprise-identity-providers/test-enterprise-connections).
2. During this process you will be asked to log in and consent.
3. Additionally, if you see a message that says, "Your session has timed out," click the **Return to Login page** link below the message.

SSOをトラブルシュートする際は、多くの場合インタラクションのHTTPトレースが役立ちます。HTTPトラフィックをブラウザーからキャプチャして分析するツールはさまざまです（「HTTPトレース」でニーズに合ったツールを検索してみてください）。HTTPトレーサーを取得した後、ログインシーケンスを最初から最後までキャプチャしてトレースを分析し、`GET`要求のシーケンスでエラーがどこで発生したかを確認します。以下を確認します：

When troubleshooting <Tooltip tip="Single Sign-On (SSO): Service that, after a user logs into one applicaton, automatically logs that user in to other applications." cta="View Glossary" href="/docs/glossary?term=SSO">SSO</Tooltip>, it is often helpful to capture an HTTP trace of the interaction. There are many tools that will capture the HTTP traffic from your browser for analysis (search for "HTTP Trace" to find one appropriate for your needs). Once you have an HTTP tracer, capture the login sequence from start to finish and analyze the trace to see the sequence of `GET` requests to see where the error occurs. You should see:

* 資格情報のポスト（ログインが求められた場合）
* コールバックURLへのリダイレクト。
* お使いのブラウザーでは必ずクッキーとJavaScriptを有効にしてください。

HTMLで指定されているコールバックURLが、 Auth0アプリケーション**［Settings（設定）］**タブの**［Allowed Callback URLs（許可されているコールバックURL）］**のリストと一致することを確認してください。

Check to make sure that the callback URL specified in the HTML is also listed in the **Allowed Callback URLs** field in the **Settings** tab of the Auth0 Application.