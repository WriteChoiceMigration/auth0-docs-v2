---
og:description: Provides examples how to map SAML attributes when Auth0 is the identity
  provider.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: SAML属性をIdP/SAMLアドオンとしてAuth0にマッピングする
og:url: https://auth0.com/docs/
permalink: saml-attribute-mapping-examples
title: SAML属性をIdP/SAMLアドオンとしてAuth0にマッピングする
twitter:description: Provides examples how to map SAML attributes when Auth0 is the
  identity provider.
twitter:title: SAML属性をIdP/SAMLアドオンとしてAuth0にマッピングする
---

Auth0がIdPである場合には、Auth0のSAML2アドオンを使ってユーザー属性をマッピングすることができます。属性の構成に誤りがあると、エラーが発生することがあります。たとえば、ユーザーがユーザー名とパスワードを正常に入力し、Auth0 Dashboardのログに正常なログインイベントが記録されていても、アプリケーションへのサインインが失敗します。または、アプリケーションに名前やメールなどのユーザー情報が見つからない結果になります。

## ユースケース

以下のユーザープロファイルは、これから説明するシナリオについての例です。



#### マッピングオブジェクトの欠如

SAML2アドオンの使用では、空のマッピングオブジェクトがデフォルトで生成されます。

この例では、`fav_genre`と`user_metadata.fav_streaming_service`が未定義ですが、カスタマイズして、Auth0が送信するSAML応答にマッピングできます。

以下の例では、`"fav_genre":"fiction"`がSAML応答の[http://schemas.auth0.com/fav_genre](http://schemas.auth0.com/fav_food)属性に`fiction`値でマッピングされ、`"user_metadata":{"fav_streaming_service":"hulu"}`がSAMLレスポンスには一切なくなります。

そのため、IdPが送信するSAML応答は以下になります。



#### 標準マッピングの例

上の例では、マッピングオブジェクトをカスタマイズしなかったため、SAML応答の[http://schemas.auth0.com/fav_genre](http://schemas.auth0.com/fav_food)属性が`"fiction"`値となる結果になりました。

今回は、SAML2アドオン設定のマッピングオブジェクトで属性をマッピングして、これに対処します。

そうすると、SAML応答にある`"fiction"`値は前回と同様ですが、属性名がデフォルトの[http://schemas.auth0.com/fav_fiction](http://schemas.auth0.com/fav_food)から[http://schemas.auth0.com/books](http://schemas.auth0.com/dinner)に変わっています。

SAML2アドオンのマッピングオブジェクトを以下のように構成します。



このマッピングでは、以下のような応答になります。



#### 同じ値を複数の属性にマッピングする

SAML応答を複数の属性に同じ値でマッピングしなければならないシナリオがあるかもしれません。

そのような場合には、ユーザープロファイルからの同じ値をSAML応答にある複数の属性にマッピングすることができます。

SAML2アドオンのマッピングオブジェクトを以下のように構成します。



このマッピングでは、以下のような応答になります。