---
og:description: Learn how to log user out with the OIDC Logout Endpoint.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: OIDCエンドポイントを使用してユーザーをAuth0からログアウトさせる
og:url: https://auth0.com/docs/
permalink: log-users-out-of-auth0
title: OIDCエンドポイントを使用してユーザーをAuth0からログアウトさせる
twitter:description: Learn how to log user out with the OIDC Logout Endpoint.
twitter:title: OIDCエンドポイントを使用してユーザーをAuth0からログアウトさせる
---

Auth0 implements <Tooltip tip="OpenID: Open standard for authentication that allows applications to verify users' identities without collecting and storing login information." cta="View Glossary" href="/docs/glossary?term=OpenID">OpenID</Tooltip> Connect’s [RP-Initiated Logout 1.0](https://openid.net/specs/openid-connect-rpinitiated-1_0.html) for end-user logout. This standard is part of the OpenID Connect collection of [final specifications](https://openid.net/developers/specs/).

## 仕組み

RP-Initiated Logout is a scenario in which a <Tooltip tip="Relying Party: Entity (such as a service or application) that depends on a third-party identity provider to authenticate a user." cta="View Glossary" href="/docs/glossary?term=relying+party">relying party</Tooltip> (user) requests the OpenID provider (Auth0) to log them out.

1. The user initiates a logout request in your application.
2. Your application directs the user to the Auth0 Authentication API [OIDC Logout](https://auth0.com/docs/api/authentication#oidc-logout) endpoint.
3. Auth0 redirects the user to the appropriate destination based on the provided [OIDC Logout endpoint parameters](#oidc-logout-endpoint-parameters).

## RP起点のログアウトを構成する

To configure RP-Initiated Logout, you must ensure that your application can find the `end_session_endpoint` parameter in your Auth0 tenant’s [discovery metadata document](https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfig), and that it calls the OIDC Logout endpoint with the necessary parameters.

### エンドポイント検出を有効にする

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

For Auth0 tenants created on or after 14 November 2023, **RP-Initiated Logout End Session Endpoint Discovery** is enabled by default.

</Callout>

You can enable **RP-Initiated Logout End Session Endpoint Discovery** in the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip> or with the Auth0 <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>.

<Tabs><Tab title="Dashboard">

To enable **RP-Initiated Logout End Session Endpoint Discovery** in the Dashboard:

1. Go to [Dashboard > Settings > Advanced](https://manage.auth0.com/#/tenant/advanced).
2. Locate the **Login and Logout** section.
3. Enable the **RP-Initiated Logout End Session Endpoint Discovery** toggle.

</Tab><Tab title="Management API">

To enable **RP-Initiated Logout End Session Endpoint Discovery** with the Management API:

1. [Get a Management API access token](/docs/secure/tokens/access-tokens/management-api-access-tokens/get-management-api-access-tokens-for-production) that includes the `update:tenant_settings` scope.
2. Call the Management API [Update tenant settings](https://auth0.com/docs/api/management/v2/tenants/patch-settings) endpoint with the following payload:

   ```json JSON lines
   {
     "oidc_logout": {
       "rp_logout_end_session_endpoint_discovery": true
     }
   }
   ```


   

   

</Tab></Tabs>

### OIDCログアウトエンドポイントを呼び出す

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Most of Auth0’s [SDK libraries](/docs/libraries) are OIDC-compliant and support RP-Initiated Logout by design.

</Callout>

OIDCログアウトエンドポイントを呼び出す際に、Auth0では`id_token_hint`パラメーターの提供を推奨しています。

If your application cannot securely store <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=ID+tokens">ID tokens</Tooltip>, you may provide the `logout_hint` and `client_id` parameters instead.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

You may call the OIDC Logout endpoint with redundant information.

For example, you may send the `id_token_hint` and `logout_hint` parameters, or the `id_token_hint` and `client_id` parameters.

In all cases, Auth0 checks for consistent user and session data, and returns an error if there are any discrepancies.

</Callout>

#### OIDCログアウトエンドポイントのパラメーター

The Authentication API [OIDC Logout](https://auth0.com/docs/api/authentication#oidc-logout) endpoint supports the following parameters:

<table class="table"><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Required?</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id_token_hint</code></td>
<td>Recommended</td>
<td>ID token previously issued for the user. That indicates which user to log out.</td>
</tr>
<tr>
<td><code>logout_hint</code></td>
<td>Optional</td>
<td>Session ID (<code>sid</code>) value that indicates which user to log out.</td>
</tr>
<tr>
<td><code>post_logout_redirect_uri</code></td>
<td>Optional</td>
<td>Redirect URL value that indicates where to redirect the user after logout.</td>
</tr>
<tr>
<td><code>client_id</code></td>
<td>Optional</td>
<td>Client ID of your application.</td>
</tr>
<tr>
<td><code>federated</code></td>
<td>Optional</td>
<td>Directs Auth0 to log the user out of their identity provider.</td>
</tr>
<tr>
<td><code>state</code></td>
<td>Optional</td>
<td>Opaque value that the application adds to the initial logout request, and that Auth0 includes when redirecting the back to the <code>post_logout_redirect_uri</code>.</td>
</tr>
<tr>
<td><code>ui_locales</code></td>
<td>Optional</td>
<td>Space-delimited list of locales used to constrain the language list for the request. The first locale on the list must match the enabled locale in your tenant.</td>
</tr>
</tbody>
</table>

#### id_token_hintパラメーター

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Auth0 recommends that you use the `id_token_hint` parameter when you call the OIDC Logout endpoint.

</Callout>

このIDトークンには、登録クレームの発行者（`iss`）、オーディエンス（`aud`）、Auth0セッションID（`sid`）が検証のために含まれています。IDトークンのクレームについては、「[IDトークンの構造](/security/tokens/id-tokens/id-token-structure)」をお読みください。

The ID token contains the registered claims issuer (`iss`), <Tooltip tip="Audience: Unique identifier of the audience for an issued token. Named aud in a token, its value contains the ID of either an application (Client ID) for an ID Token or an API (API Identifier) for an Access Token." cta="View Glossary" href="/docs/glossary?term=audience">audience</Tooltip> (`aud`), and the Auth0 session ID (`sid`) for verification. To learn more about ID token claims, read [ID Token Structure](/docs/secure/tokens/id-tokens/id-token-structure).

##### logout_hintパラメーター

<CodeGroup>
```http HTTP wrap lines
https://{yourDomain}/oidc/logout?id_token_hint={yourIdToken}&post_logout_redirect_uri={yourCallbackUrl}
```

```bash cURL lines
curl --request GET \
  --url 'https://{yourDomain}/oidc/logout' \
  --header 'content-type: application/x-www-form-urlencoded' \
  --data 'id_token_hint={yourIdToken}' \
  --data 'post_logout_redirect_uri={yourCallbackUrl}'
```
</CodeGroup>

#### このセッションID（`sid`）は登録クレームとして提供され、ユーザーの認証後にAuth0がユーザーに対して発行したIDトークンに含まれています。

例

post_logout_redirect_uriパラメーター

<Warning>

You must use the session ID (`sid`) associated with the ID token issued by Auth0 at the time the current session began. Auth0 disregards requests with values that are random or do not reflect current session data.

</Warning>

##### テナントのAllowed Logout URLs（許可されているログアウトURL）を更新する

{/* codeblockOld.header.login.logInButton codeblockOld.header.login.configureSnippet */}


```http wrap lines
https://{yourDomain}/oidc/logout?{clientId}={yourClientId}&logout_hint={sessionId}
```






#### アプリケーションのAllowed Logout URLs（許可されているログアウトURL）を更新する

URLをアプリケーションの**Allowed Logout URLs（許可されているログアウトURL）**リストに登録するには、Auth0 DashboardまたはAuth0 Management APIを使用することができます。

1. [Application settings](/docs/get-started/applications/application-settings#application-uris): If you provide the `id_token_hint` parameter, or the `logout_hint` and `client_id` parameters.
2. [Tenant settings](/docs/get-started/tenant-settings#login-and-logout): If you provide only the `logout_hint` parameter.

##### テナントのAllowed Logout URLs（許可されているログアウトURL）を更新する

```bash HTTP wrap lines
https://{yourDomain}/oidc/logout?post_logout_redirect_uri=http%3A%2F%2Fwww.example.com
```






##### URLをテナントの**Allowed Logout URLs（許可されているログアウト）**リストに登録するには、Auth0 DashboardまたはAuth0 Management APIを使用することができます。

Allowed Logout URLs（許可されているログアウトURL）のガイドライン

<Tabs><Tab title="Dashboard">

To register a URL with your application’s list of **Allowed Logout URLs** in the Dashboard:

1. Go to [Dashboard > Applications > Applications](https://manage.auth0.com/#/applications).
2. Select your application.
3. Locate the **Application URIs** section.
4. Update **Allowed Logout URLs** following the [provided guidelines](#allowed-logout-urls-guidelines).

</Tab><Tab title="Management API">

<Warning>

When you call the Management API [Update a client](https://auth0.com/docs/api/management/v2/clients/patch-clients-by-id) endpoint, it overwrites all existing configuration data for the fields provided in the request body.

To avoid accidental loss of data, call the Management API [Get a client](https://auth0.com/docs/api/management/v2/clients/get-clients-by-id) endpoint first to retrieve your application’s current configuration data.

</Warning>

To register a URL with your application’s list of **Allowed Logout URLs** with the Management API:

1. [Get a Management API access token](/docs/secure/tokens/access-tokens/management-api-access-tokens/get-management-api-access-tokens-for-production) that includes the `update:clients` scopes.
2. Call the Management API [Update a client](https://auth0.com/docs/api/management/v2/clients/patch-clients-by-id) endpoint, and ensure that you include the URL in the value of the `allowed_logout_urls` field within the request body.

   ```json lines
   PATCH https://{yourDomain}/api/v2/clients/{clientId}
   Authorization: Bearer {yourMgmtApiAccessToken}
   Content-Type: application/json

   {
     "allowed_logout_urls": [
       "https://www.example.com",
       "https://www.example.com/logout"
     ]
   }
   ```


   

   

</Tab></Tabs>

##### **Allowed Logout URLs（許可されているログアウト）**の更新では、検証エラーを避けるために以下のガイドラインに従ってください。

複数のURL値はカンマ（`,`）で区切ります。

<Tabs><Tab title="Dashboard">

To register a URL with your tenant’s list of **Allowed Logout URLs** in the Dashboard:

1. Go to [Dashboard > Settings > Advanced](https://manage.auth0.com/#/tenant/advanced).
2. Locate the **Login and Logout** section.
3. Update **Allowed Logout URLs** following the [provided guidelines](#allowed-logout-urls-guidelines).

</Tab><Tab title="Management API">

<Warning>

When you call the Management API [Update tenant settings](https://auth0.com/docs/api/management/v2/tenants/patch-settings) endpoint, it overwrites all existing configuration data for the fields provided in the request body.

To avoid accidental loss of data, call the Management API [Get tenant settings](https://auth0.com/docs/api/management/v2/tenants/tenant-settings-route) endpoint to retrieve your tenant’s current configuration data first.

</Warning>

To register a URL with your tenant’s list of **Allowed Logout URLs** with the Management API:

1. [Get a Management API access token](/docs/secure/tokens/access-tokens/management-api-access-tokens/get-management-api-access-tokens-for-production) that includes the `update:tenant_settings` scopes.
2. Call the Management API [Update tenant settings](https://auth0.com/docs/api/management/v2/tenants/patch-settings) endpoint, and ensure that you include the URL in the value of the `allowed_logout_urls` field within the request body.

   ```json lines
   PATCH https://{yourDomain}/api/v2/tenants/settings
   Authorization: Bearer {yourMgmtApiAccessToken}
   Content-Type: application/json

   {
     "allowed_logout_urls": [
       "https://www.example.com",
       "https://www.example.com/logout"
     ]
   }
   ```


   

   

</Tab></Tabs>

##### URLのスキーム部分を含めます（例：`

サブドメインにはアスタリスク（`*`）をワイルドカードとして使用（例：`)」をお読みください。

* post_logout_redirect_uriにクエリ文字列パラメーターを追加する
* Include the URL scheme part (for example, `https://`).

You may use an asterisk (`*`) as a wildcard for subdomains (such as `https://*.example.com`), but we recommend that you do not use wildcards in production environments. For more information, read [Subdomain URL Placeholders](/docs/get-started/applications/wildcards-for-subdomains#wildcard-url-placeholders).

##### たとえば、` Logout URLs（許可されているログアウトURL）**に含める必要があります。

ui_localesパラメーター

リストにある最初の値は、[テナントのデフォルト言語設定](/docs/get-started/tenant-settings#languages)と一致しなければなりません。

For example, if you pass `https://example.com/logout?myParam=1234` to the `post_logout_redirect_uri` parameter (encoded as `https%3A%2F%2Fexample.com%2Flogout%3FmyParam%3D1234`), you must include `https://example.com/logout?myParam` in your **Allowed Logout URLs**.

#### OIDCログアウトエンドポイントの呼び出しにfederatedパラメーターを含めた場合、Auth0はそれらの[IDプロバイダーからユーザーをログアウト](/logout/log-users-out-of-idps)させようとします。

ログアウト同意プロンプト

OIDC仕様では、エンドユーザーがログアウト要求を行ったということを、OpenIDプロバイダーが確認できない場合には、ログアウトフローがユーザーの同意を求めるために中断されると定義されています。

#### Auth0では、以下のいずれかの条件を検出した場合に、ログアウト同意プロンプトを表示することでこの動作を強制します。

`id_token_hint`パラメーターと`logout_hint`パラメーターがどちらも提供されていない

If you include the `federated` parameter when you call the OIDC Logout endpoint, Auth0 attempts to [log the user out of their identity provider](/docs/authenticate/login/logout/log-users-out-of-idps).

## `logout_hint`パラメーターの値が現在のセッションデータと一致していない

ユーザーがログアウト要求を確認すると、Auth0はログアウトフローを続行します。

ログアウトの同意プロンプトを無効にする

* ログアウトの同意プロンプトは無効にすることができます。無効にすると、Auth0は異常な動作を検出しようとしないで、ログアウト要求を自動的に受け入れます。
* Dashboardを使ってログアウトの同意プロンプトを無効にするには、以下を行います。
* The value of the `logout_hint` parameter does not match current session data.

<Frame>![](/images/cdy7uua7fh8z/5Sycg1aMJ1CLZwJj19Omv4/655fa33b439217d0410fba1335c63a63/Logout_-_English.png)</Frame>

If the user confirms the logout request, Auth0 continues the logout flow.

### Disable the logout consent prompt

You may disable the logout consent prompt. If you do, Auth0 does not attempt to detect anomalous behavior and accepts logout requests automatically.

To disable the logout consent prompt in the Dashboard:

1. Go to [Dashboard > Settings > Advanced](https://manage.auth0.com/#/tenant/advanced).
2. Disable the **Show RP-Initiated Logout End-User Confirmation** toggle.

   <Frame>![](/images/cdy7uua7fh8z/37K4hLjhSBMGvdGP9OEP7W/5ca88519a0c7b04951f880fa2fc47bd7/Login_and_Logout_-_English.png)</Frame>

## Learn more

* [Log Users Out of Applications](/docs/authenticate/login/logout/log-users-out-of-applications)
* [Log Users Out of Identity Providers](/docs/authenticate/login/logout/log-users-out-of-idps)
* [Log Users Out of SAML Identity Providers](/docs/authenticate/login/logout/log-users-out-of-saml-idps)
* [Redirect Users with Alternative Logout](/docs/authenticate/login/logout/redirect-users-after-logout)