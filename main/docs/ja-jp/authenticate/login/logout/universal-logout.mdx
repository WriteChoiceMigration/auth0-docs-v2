---
og:description: Learn how to configure global token revocation for Auth0 connections.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: ユニバーサルログアウト
og:url: https://auth0.com/docs/
permalink: universal-logout
title: ユニバーサルログアウト
twitter:description: Learn how to configure global token revocation for Auth0 connections.
twitter:title: ユニバーサルログアウト
---

Auth0はOkta Workforce Identity Cloudとのユニバーサルログアウト統合に対応しています。この機能は管理イベントやセキュリティイベントが発生したときに、ユーザーをアプリケーションからログアウトさせます。

Universal Logout implements the [Global Token Revocation](https://www.ietf.org/archive/id/draft-parecki-oauth-global-token-revocation-02.html) specification, which goes beyond the established <Tooltip tip="OpenID: Open standard for authentication that allows applications to verify users' identities without collecting and storing login information." cta="View Glossary" href="/docs/glossary?term=OpenID">OpenID</Tooltip> Connect back-channel logout standards by revoking <Tooltip tip="OpenID: Open standard for authentication that allows applications to verify users' identities without collecting and storing login information." cta="View Glossary" href="/docs/glossary?term=refresh+tokens">refresh tokens</Tooltip> in addition to user sessions. This comprehensive logout solution spans traditional web applications, single-page applications (SPAs), and native applications that use a mix of refresh tokens, application sessions, and <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+provider">identity provider</Tooltip> sessions to get new tokens and keep the user logged in.

If you use the [Okta](/docs/authenticate/identity-providers/enterprise-identity-providers/okta), [SAML](/docs/authenticate/identity-providers/enterprise-identity-providers/saml), or [OpenID Connect](/docs/authenticate/identity-providers/enterprise-identity-providers/oidc) connection types to federate with Workforce Identity, you no longer need to build a [global token revocation](https://developer.okta.com/docs/guides/oin-universal-logout-overview/) endpoint to work with Okta Universal Logout. You can instead provide Auth0’s connection-specific endpoint URL to the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する administrator, and leverage Auth0’s [OpenID Connect Back-Channel Logout](/docs/authenticate/login/logout/back-channel-logout) to terminate application sessions if necessary.

## Auth0のグローバルトークン取り消しエンドポイントは、[アプリにログアウトを構築する]()ドキュメントに記載のプロファイルに従っています。ログアウト要求内でユーザーを特定するために`iss_sub`の形式と、次のURL形式を使用します：

The Auth0 global token revocation endpoint follows the profile documented at [Build Logout for your app](https://developer.okta.com/docs/guides/oin-universal-logout-overview/). It uses the `iss_sub` format to identify users in the logout request, and uses the following URL format:

`https://{yourDomain}/oauth/global-token-revocation/connection/{yourConnectionName}`

When Auth0 receives a request to log out a user, it validates the request using the same key set used to validate <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=ID+tokens">ID tokens</Tooltip> or <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> assertions issued from Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity. It then terminates all [Auth0 sessions](/docs/manage-users/sessions/session-layers) for the user, revokes Auth0-issued [refresh tokens](/docs/secure/tokens/refresh-tokens), and, if configured, triggers [OpenID Connect Back-Channel Logout](/docs/authenticate/login/logout/back-channel-logout) to revoke application sessions.

<Frame>![User workflow using Universal Logout](/images/cdy7uua7fh8z/4tcRn1VmydyBGORCHlKuvt/725b95df1cddae8ed3b2d36f0c3495bb/universal_logout_flow_diagram.png)</Frame>

The time it takes for an application user to lose access depends on the application's type and how it is integrated with Auth0. Auth0 supports a wide range of [application architectures](/docs/get-started/applications) via support for the OIDC and <Tooltip tip="OAuth 2.0: Authorization framework that defines authorization protocols and workflows." cta="View Glossary" href="/docs/glossary?term=OAuth+2.0">OAuth 2.0</Tooltip> identity standards and Auth0's [Quickstarts and SDKs](/docs/quickstarts). This includes:

* Traditional Web applications that create their own [application sessions](/docs/manage-users/sessions/session-layers) may use refresh tokens and <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=access+tokens">access tokens</Tooltip> to access APIs through a secure backend.
* Browser-based JavaScript applications that leverage the [Auth0 session layer](/docs/authenticate/login/configure-silent-authentication) or use techniques like [refresh token rotation](/docs/secure/tokens/refresh-tokens/refresh-token-rotation) to get access tokens needed to access APIs within a Web browser.
* リフレッシュトークンとAuth0のユーザーセッションを取り消す

### ユニバーサルログアウト統合を有効化すると、アプリケーションがリフレッシュトークンやAuth0セッションを利用する場合にセキュリティの面でメリットがあります。

[Auth0セッション](/login/configure-silent-authentication)を利用するブラウザーベースのアプリでは、アプリケーションが次回に[Auth0セッションをポーリング]()するとユーザーがアクセスを失ってしまうため、Auth0はリダイレクト時にユーザーに再度認証を求めます。

* For browser-based apps leveraging [the Auth0 session](/docs/authenticate/login/configure-silent-authentication), the user loses access the next time the application [polls the Auth0 session](/docs/authenticate/login/configure-silent-authentication#poll-with-checksession-), and Auth0 prompts the user to sign in again when redirected
* For apps that use refresh tokens, the user loses access as soon as their current access token expires, which ranges from a few seconds up to the [maximum access token lifetime](/docs/secure/tokens/access-tokens/update-access-token-lifetime) configured in Auth0.

### Webアプリケーションが作成したセッションについては、Auth0に既存の[OpenID Connectのバックチャネルログアウト](/back-channel-logout/configure-back-channel-logout)機能を使用して、ユニバーサルログアウトがAuth0のユーザーセッションを終了したときに終了します。詳細については、「[Auth0 SDK実装の例]()」をお読みください。

For sessions created by web applications, you should use Auth0’s existing [OpenID Connect Back-Channel Logout](/docs/authenticate/login/logout/back-channel-logout/configure-back-channel-logout)  feature to terminate those sessions when Universal Logout terminates the Auth0 user session. To learn more, read the [Auth0 SDK implementation examples](/docs/authenticate/login/logout/back-channel-logout#auth0-sdks).

## ユニバーサルログアウトはAuth0の接続タイプごとに構成します。

Okta Workforce Identity Cloudでユニバーサルログアウトを構成する

### Okta Workforce Identity Cloudでユニバーサルログアウトを構成する

1. [Connect your Auth0 tenant to Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity](/docs/authenticate/identity-providers/enterprise-identity-providers/okta).
2. In Auth0 Dashboard, navigate to [**Authentication > Enterprise > Okta Workforce**](https://manage.auth0.com/#/connections/enterprise/okta). Select your connection and choose **Settings**.
3. Copy the **Revocation Endpoint URL** you will provide to the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する administrator.

### Okta Workforce Identity Cloudでユニバーサルログアウトを構成する

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

We strongly recommend using the branded **Okta Workforce** connection type for new Okta Workforce Identity Cloudでユニバーサルログアウトを構成する integrations. However, Universal Logout can still be enabled on older integrations using the generic Okta Workforce Identity Cloudでユニバーサルログアウトを構成する connection type in the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する **Settings** of Auth0 Dashboard.

</Callout>

1. In Auth0 Dashboard, navigate to [**Authentication > Enterprise > OpenID Connect**](https://manage.auth0.com/#/connections/enterprise/oidc)**.** Select your connection and choose **Settings**.
2. Copy the **Revocation Endpoint URL** you will provide to the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する administrator.

### Okta Workforce Identity Cloudでユニバーサルログアウトを構成する

1. [Configure Okta as a Okta Workforce Identity Cloudでユニバーサルログアウトを構成する identity provider](/docs/authenticate/protocols/saml/saml-sso-integrations/configure-auth0-saml-service-provider/configure-okta-as-saml-identity-provider).
2. In Auth0 Dashboard, navigate to [**Authentication > Enterprise > SAML**](https://manage.auth0.com/#/connections/enterprise/samlp). Select your connection and choose **Settings**.
3. For **Subject**, enter the Application ID of the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する application registered in Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity. Example: `0oagcc12354688xxxx`. To learn more, read [How to Obtain an Application ID](https://support.okta.com/help/s/article/How-to-obtain-an-application-ID?language=en_US).
4. For **Issuer**, navigate to the registered Okta Workforce Identity Cloudでユニバーサルログアウトを構成する application in the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity organization and copy the [issuer URI](https://developer.okta.com/docs/guides/oin-universal-logout-overview/#endpoint-authentication).

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   To retrieve this value, WIC admins can navigate to the **Applications** > **Applications > [Application] > Authentication > Sign-on settings > Sign-on methods > Okta Workforce Identity Cloudでユニバーサルログアウトを構成する 2.0 > More details** section of the Okta portal.

   </Callout>
5. Copy the **Revocation Endpoint URL**, which you will provide to the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する administrator.

## Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity Cloudでユニバーサルログアウトを構成して、Auth0の接続を使用しているアプリケーションにログアウト信号が送信できるようにします。これはOkta管理者が実行する必要があります。

前提条件

### [Identity Threat Protection]()が有効化されたOkta Workforce Identity Cloudの組織、または[無料トライアル版]()が必要です。

You need:

* An Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity organization with [Identity Threat Protection](https://www.okta.com/products/identity-threat-protection/) enabled, or a [free trial](https://www.okta.com/free-trial/).
* Early access to Universal Logout for Generic Okta Workforce Identity Cloudでユニバーサルログアウトを構成する and OIDC apps must be enabled for your Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity organization. To learn more, read [Configure Universal Logout for supported apps](https://help.okta.com/oie/en-us/content/topics/itp/config-universal-logout.htm).

### ユニバーサルログアウトをテストする

Enable Universal Logout in an [Okta Workforce organization](/docs/authenticate/identity-providers/enterprise-identity-providers/okta) for the Auth0 connection.

1. In the Okta portal, select **Applications** > **Applications**.
2. Select the application you registered for the Auth0 integration.
3. Under the **General** tab, select **Logout > Edit**.

   <Frame>![Okta Dashboard image for Universal Logout configuration](/images/cdy7uua7fh8z/M957prYUhjyMxXgpdA8pB/224812ce3a76ac9d032abe50c4be3a1d/2025-01-23_13-03-21.png)</Frame>
4. Choose **Okta system or admin initiates logout**.
5. Enter the URL copied from Auth0 in **Logout Endpoint URL**.
6. Select **Issuer and Subject Identifier** as the **Subject Format**.
7. Select **Save**.

### ログと通知

Auth0テナントの管理者はAuth0が受信したユニバーサルログアウト要求のステータスや詳細を確認することができます。これを行うには、[［Auth0 Dashboard］>［Monitoring（モニタリング）］>［Logs（ログ）］](%24%7Bmanage_url%7D/*/logs)に移動します。ユニバーサルログアウトで出力されるログイベントの種類は、「[ログインベントタイプのコード](/logs/log-event-type-codes)」に記載されています。

1. In the Okta portal, select **Directory > People**.
2. Select a user that is signed into an Auth0 application.
3. Select **More Actions > Clear User Sessions**.

   <Frame>![Test Universal Logout in Okta Dashboard](/images/cdy7uua7fh8z/Z8an5lN6WAlSAdgiBkKLa/fde264f71615c5eb7e07e0c48d8426bf/2025-01-23_13-08-29.png)</Frame>
4. In the dialog, select **Also include logout enabled apps and Okta API tokens**.
5. Select **Clear and Revoke**.

## また、[カスタムログストリーム](/monitor-auth0/streams)で統合して、発生したユニバーサルログアウトのイベントを外部システムに通知することもできます。

Auth0 tenant administrators can view the status and details of each Universal Logout request Auth0 receives in [Auth0 Dashboard > Monitoring > Logs](https://manage.auth0.com/#/*/logs). The emitted log event types for Universal Logout are documented in [Log Event Type Codes](/docs/deploy-monitor/logs/log-event-type-codes).

You can also integrate with [Custom Log Streams](/docs/customize/log-streams) to notify external systems when Universal Logout events occur.

## SAML接続ではエンドポイントのURLを共有する他にも、以下の属性を`connection`オブジェクに設定してユニバーサルログアウトを構成する必要があります。

You can also use the [Management API](https://auth0.com/docs/api/management/v2) to configure Universal Logout programatically. This is useful for automating configurations or building your own configuration outside of the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip>.

For Okta Workforce Identity Cloudでユニバーサルログアウトを構成する and OpenID Connections, no input into the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> is required, as only the Auth0 global token revocation endpoint needs to be presented to the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する administrator.

これらの属性を含めてManagement APIを呼び出し、SAML接続を[更新]()または[作成]()します。要求を作成する際には、以下のJSONの例を参考にしてください。

* **options.global_token_revocation_jwt_iss** - The [issuer ID](https://developer.okta.com/docs/guides/oin-universal-logout-overview/#endpoint-authentication) of the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する application registered in Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity. Example value: `http://www.okta.com/exkhwkmkwhZUnuA6xxxx`.
* **options.global_token_revocation_jwt_sub** - The [application ID](https://support.okta.com/help/s/article/How-to-obtain-an-application-ID?language=en_US) of the Okta Workforce Identity Cloudでユニバーサルログアウトを構成する application registered in Okta Workforce Identity Cloudでユニバーサルログアウトを構成する Identity. Example value: `0oagcc12354688xxxx`.

You can use these attributes in SAML接続ではエンドポイントのURLを共有する他にも、以下の属性を`connection`オブジェクに設定してユニバーサルログアウトを構成する必要があります。 calls to [update](https://auth0.com/docs/api/management/v2#!/Connections/patch_connections_by_id) or [create](https://auth0.com/docs/api/management/v2/connections/post-connections)  Okta Workforce Identity Cloudでユニバーサルログアウトを構成する connections. Review the following JSON example to create a request:

```json JSON lines
{
	"strategy": "samlp",
  	"name": "CONNECTION_NAME",
  	"options": {
    	"global_token_revocation_jwt_iss": "ISS_VALUE", 
     	"global_token_revocation_jwt_sub":  "SUB_VALUE",
    	"signInEndpoint": "SIGN_IN_ENDPOINT_URL",
    	"signOutEndpoint": "SIGN_OUT_ENDPOINT_URL",
    	"signatureAlgorithm": "rsa-sha256",
    	"digestAlgorithm": "sha256",
    	"fieldsMap": {
     		...
    	},
    	"signingCert": "BASE64_SIGNING_CERT"
  	}
}
```






To learn more, read [Create an Enterprise connection using the Management API](/docs/authenticate/identity-providers/enterprise-identity-providers/saml#create-an-enterprise-connection-using-the-management-api).