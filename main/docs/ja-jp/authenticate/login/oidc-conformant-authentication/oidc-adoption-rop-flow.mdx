---
og:description: Learn how the OIDC-conformant pipeline affects the Resource Owner
  Password (ROP) Flow.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: OIDCでのリソース所有者のパスワードフロー
og:url: https://auth0.com/docs/
permalink: oidc-adoption-rop-flow
title: OIDCでのリソース所有者のパスワードフロー
twitter:description: Learn how the OIDC-conformant pipeline affects the Resource Owner
  Password (ROP) Flow.
twitter:title: OIDCでのリソース所有者のパスワードフロー
---

[リソース所有者のパスワードフロー](/login/flows/resource-owner-password-flow)（リソース所有者のパスワード付与（ROPG）と呼ばれることもある）は、信頼性の高いアプリケーションでアクティブな認証を行うために使用されます。認可コードや暗黙的付与とは異なり、この認証メカニズムではユーザーはAuth0にリダイレクトされず、単一の要求でユーザーを認証し、パスワード資格情報をトークンと交換します。

OIDC準拠のパイプラインがリソース所有者のパスワード（ROP）フローに影響を与えるエリアは以下のとおりです。

* 認証要求
* 認証応答
* IDトークンの構造
* アクセストークンの構造

## 認証要求

### 旧



`device`パラメーターは、`offline_access`スコープを渡してリフレッシュトークンを要求する場合にのみ必要です。

### OIDC準拠



* 資格情報交換を実行するエンドポイントは`/oauth/token`です。
* Auth0の独自の付与タイプは、特定の接続（`realm`）からユーザーを認証するために使用されます。標準のOIDCパスワード付与もサポートされていますが、`realm`などAuth0固有のパラメーターは受け入れません。
* `favorite_color`は有効なスコープでなくなりました。
* `device`パラメーターは削除されています。
* `audience`パラメーターは任意です。

## 認証応答

### 旧



* 返されるアクセストークンは、[`/userinfo`](/api/authentication#get-user-info)エンドポイントの呼び出しに対してのみ有効です。
* リフレッシュトークンは、`device`パラメーターが渡され、`offline_access`スコープが要求された場合にのみ返されます。

### OIDC準拠



* 返されるアクセストークンは、`/userinfo`エンドポイント（`audience`パラメーターで指定したAPIが`RS256`を[署名アルゴリズム](/applications/signing-algorithms)として使用していることを条件とする）と、`audience`パラメーターで指定したリソースサーバー（任意）の呼び出しに対してのみ有効です。
* IDトークンは、公開アプリケーションによって要求されると、`RS256`を使用して強制的に署名されます。詳細については、「[機密アプリケーションとパブリックアプリケーション](/applications/confidential-and-public-applications)」をお読みください。
* リフレッシュトークンは、`offline_access`スコープが付与された場合にのみ返されます。

## IDトークンの構造

### 旧



### OIDC準拠



* IDトークンは、公開アプリケーションによって要求されると、`RS256`を使用して強制的に署名されます。
* `favorite_color`クレームには名前空間が存在し、ルールを通じて追加される必要があります。詳細については、「[名前空間カスタムクレームを作成する](/security/tokens/json-web-tokens/create-custom-claims)」をお読みください。

## アクセストークンの構造（任意）

### 旧



返されるアクセストークンは不透明で、`/userinfo`エンドポイントの呼び出しに対してのみ有効です。

### OIDC準拠



* 返されるアクセストークンは、`/userinfo`エンドポイント（`audience`パラメーターで指定したAPIが`RS256`を署名アルゴリズムとして使用していることを条件とする）と、`audience`パラメーターで指定したリソースサーバーの呼び出しに対してのみ有効です。
* `/userinfo`が唯一指定されたオーディエンスである場合でも、不透明なアクセストークンが返されることがあります。

## 標準のパスワード付与要求

Auth0のパスワードレルム付与は標準のOIDCによって定義されてはいませんが、Auth0固有の`realm`パラメーターをサポートしているため、レガシーのリソース所有者エンドポイントの代わりとして推奨されます。OIDC認証を使用する場合には、[標準のOIDCフローもサポートされます](/login/flows/resource-owner-password-flow)。