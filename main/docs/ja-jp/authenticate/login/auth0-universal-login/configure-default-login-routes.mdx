---
og:description: Learn how to configure your tenant's and application's default login
  routes.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: デフォルトのログインルートを設定する
og:url: https://auth0.com/docs/
permalink: configure-default-login-routes
title: デフォルトのログインルートを設定する
twitter:description: Learn how to configure your tenant's and application's default
  login routes.
twitter:title: デフォルトのログインルートを設定する
---

場合によっては（以下を参照）、Auth0がOIDCサードパーティ起点のログインを使って、アプリケーションのログイン開始エンドポイントにリダイレクトしなければならないことがあります。詳細については、[OpenID Foundation](https://openid.net/specs/openid-connect-core-1_0.html#ThirdPartyInitiatedLogin)の「[Initiating Login from a Third Party](https://openid.net)」をお読みください。

これらのURIは、Dashboardの[［Application Settings（アプリケーション設定）］](%24%7Bmanage_url%7D/#/applications/settings)や[［Tenant Advanced Settings（高度なテナント設定）］](%24%7Bmanage_url%7D/#/tenant/advanced)、またはManagement APIで構成することができます。



---

`login_url`は、Auth0の`/authorize`エンドポイントにリダイレクトされるアプリケーションのルートをポイントします（例：`https://mycompany.org/login`）。これには`https`が必須で、`localhost`はポイントできません。`login_url`には、クエリパラメーターとURIフラグメントを含めることができます。

OIDCサードパーティ起点のログイン仕様に基づいて、リダイレクトの前に、発行者識別子が含まれる`iss`パラメーターが、クエリ文字列パラメーターとして`login_url`に追加されます。

## デフォルトのログインルートにリダイレクトするシナリオ

### ユーザーがログインページをブックマーク

アプリケーションがログインプロセスが開始すると、[必要なパラメーター](/api/authentication#login)セットを使って`https://${account.namespace}/authorize`に移動します。Auth0は、エンドユーザーを`https://${account.namespace}/login`ページにリダイレクトし、URLは次のようになります。

`https://${account.namespace}/login?state=g6Fo2SBjNTRyanlVa3ZqeHN4d1htTnh&...`

`state`パラメーターは内部データベースのレコードをポイントし、ここで認可トランザクションのステータスを追跡します。トランザクション完了時または一定時間の経過後、レコードは内部データベースから削除されます。

Organizationsを使用している場合、エンドユーザーが組織のログインプロンプトをブックマークに登録すると、Auth0がユーザーをデフォルトのログインルートにリダイレクトする際に`organization`パラメーターも含めます。

ユーザーがログインページをブックマークに登録して、その`/login` URLに移動すると、トランザクションレコードがなくなっているため、Auth0がログインフローを続行できないことがあります。この場合、Auth0はデフォルトのクライアントURL（構成されている場合）またはテナントレベルのURL（構成されていない場合）にリダイレクトします。デフォルトのログインURLが設定されていない場合は、エラーページが表示されます。

### パスワードリセットフローを完了する

パスワードリセットフローを完了し、アプリケーションまたはテナントのデフォルトのURIが構成されると、ユーザーにログインページに戻るためのボタンが表示されます。

この動作は、ユニバーサルログインエクスペリエンスが有効な場合にのみ起こります。クラシックログインでは、Change Password（パスワード変更）テンプレートでリダイレクトURLを構成する必要があります。詳細については、「[メールテンプレートをカスタマイズする](/brand-and-customize/email/customize-email-templates)」をお読みください。

ユニバーサルログインを使うテナントの場合、[`/post-password-change`](/api/management/v2/#!/Tickets/post_password_change)エンドポイントは、ユーザーを特定のアプリケーションにリダイレクトする動作に対応しています。`client_id`が指定され、アプリケーションのログインURIが設定されている場合は、パスワードのリセット完了後にユーザーをアプリケーションに送り返すボタンが表示されます。



### メール検証フローを完了する

サインアッププロセスの一環として、識別子にメールを選択したユーザーは、メールアドレスの確認メールを受信します。リンクをクリックすると、メールが確認されたことを示すページに移動し、アプリケーションに戻るためのボタンが提供されます。クリックすると、ログインページにリダイレクトされます。有効なセッションがすでに存在する場合は、アプリケーションにリダイレクトされることになります。

この動作は、ユニバーサルログインエクスペリエンスが有効な場合にのみ起こります。クラシックログインでは、Verification Email（確認メール）テンプレートでリダイレクトURLを構成する必要があります。

### 組織メンバーを招待する

ユーザーが[組織](/organizations/organizations-overview)への参加に招待されると、メールで招待リンクを受け取ります。リンクを選択すると、招待に特定のパラメーターが追加された構成済みのデフォルトログインルートにリダイレクトされます。

たとえば、組織対応のアプリケーションで**［Application Login URI（アプリケーションログインURI）］**が`https://myapp.com/login`に設定されている場合、エンドユーザーが受け取る招待メールには、以下のリンクが含まれます。`https://myapp.com/login?invitation={invitation_ticket_id}&organization={organization_id}&organization_name={organization_name}`

そのため、アプリケーションのルートは、クエリ文字列で`invitation`パラメーターと`organization`パラメーターを受け入れる必要があります。招待受諾トランザクションを開始するには、エンドユーザーとともに両方のパラメーターをAuth0の`/authorize`エンドポイントに転送します。

### 無効になったクッキー

ブラウザーでクッキーが無効になった状態で、ユーザーが`https://{yourDomain}/authorize`に移動すると、Auth0はユーザーをアプリケーションのログインURIにリダイレクトします。アプリケーションのログインURIが設定されていない場合、リダイレクトはテナントのログインURIに送信されます。

ユーザーをログインページに送り返すと、リダイレクトのループが発生する恐れがあります。この問題を回避するには、ランディングページを使ってクッキーの可用性を確認します。無効な場合は、続行にクッキーの有効化が必要なことをユーザーに警告します。