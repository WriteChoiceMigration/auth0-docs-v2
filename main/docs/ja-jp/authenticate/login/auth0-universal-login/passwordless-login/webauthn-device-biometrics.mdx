---
og:description: Learn how to configure WebAuthn with device biometrics for passwordless
  authentication.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: パスワードレス認証のための生体認証デバイスによるWebAuthnの構成
og:url: https://auth0.com/docs/
permalink: webauthn-device-biometrics
title: パスワードレス認証のための生体認証デバイスによるWebAuthnの構成
twitter:description: Learn how to configure WebAuthn with device biometrics for passwordless
  authentication.
twitter:title: パスワードレス認証のための生体認証デバイスによるWebAuthnの構成
---

You can configure <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> to let users authenticate using [WebAuthn](/docs/secure/multi-factor-authentication/fido-authentication-with-webauthn) with Device Biometrics instead of a password.

生体認証デバイスによるWebAuthnは、現在利用可能なものの中で最もセキュアな認証要素であり、セキュリティを犠牲にすることなく、ログインの手間を大幅に軽減します。

<Warning>

You must use this feature with an Auth0 database connection. Navigate to [Auth0 Dashboard > Authentication > Database](https://manage.auth0.com/#/connections/database) to choose a database connection. To learn more, read [Database Connections](/docs/authenticate/database-connections).

</Warning>

## 前提条件

To enable <Tooltip tip="Passwordless: Form of authentication that does not rely on a password as the first factor." cta="View Glossary" href="/docs/glossary?term=Passwordless">Passwordless</Tooltip> with WebAuthn Device Biometrics, you need to:

1. Make sure the Universal Login experience is enabled and that the HTML for the login page is not customized in [Dashboard > Universal Login](https://manage.auth0.com/#/login_settings).
2. Select **Identifier First + Biometrics** in the [Dashboard > Authentication Profile](https://manage.auth0.com/#/authentication-profiles). This will automatically [enable WebAuthn with Device Biometrics](/docs/secure/multi-factor-authentication/fido-authentication-with-webauthn/configure-webauthn-device-biometrics-for-mfa) in the Multi-Factor authentication section if it is not enabled yet.
3. If you use a [custom database connection](/docs/authenticate/database-connections/custom-db), ensure **Import Mode** is set to **On.** If it's not, you can run the [getUser script](/docs/authenticate/database-connections/custom-db/templates/get-user) to the same effect.

## 仕組み

Users that authenticate with username/email and password and have a device that [is capable of using WebAuthn with Device Biometrics](https://webauthn.me/browser-support), are given the option of enrolling their device:

<Frame>![Example of setting up a Face ID login for specific domain using WebAuthn](/images/cdy7uua7fh8z/1JfsIYEo3O7xmTAxLRwNSs/2f2ba478ff32b0aa86f4f01cd6c0cf3b/2023-01-31_16-34-09.png)</Frame>

この機能を有効にすると、［このデバイスで手早くログイン（Login Faster on This Device）］ダイアログボックスでユーザーにいくつかのオプションを提供します。ユーザーは、デバイスを登録するか、エンロールメントをスキップして、プロンプトが表示される回数を減らすことができます。

<table class="table"><thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Continue</code></td>
<td>Prompts the user for Biometric Factor Enrollment</td>
</tr>
<tr>
<td><code>Remind me later</code></td>
<td>Skips enrollment and prompts for enrollment again in two weeks</td>
</tr>
<tr>
<td><code>Not on this device</code></td>
<td>Does not prompt enrollment for 1 year or as long as the Auth0 cookies are stored in the users' browser</td>
</tr>
</tbody>
</table>

<Frame>![Login - webauthn biometrics - log in faster on this device](/images/cdy7uua7fh8z/1w3jwsf0ihbTD0BNudRXN9/6ee65674ffa41e5e9537129bb3f98e79/2023-01-31_16-34-09.png)</Frame>

顧客が自分のデバイスを登録することを決定した場合、次にそのデバイスから認証する際、デバイス生体認証またはパスワードのどちらを使うか選択できます。

<Frame>![Example of using Fingerprint or Face Recognition to login to a domain](/images/cdy7uua7fh8z/4DkewyodXBQ3gncybz7KPI/873d6a3eafb644ee605daa209006d1b3/Docs_Login.png)</Frame>

この機能は「プログレッシブ登録」と呼ばれ、開発者とユーザーの両方にとってWebAuthnベース認証への移行ができるだけ簡単になるように設計されています。

## 多要素認証

WebAuthn with Device Biometrics allows avoiding requiring another authentication method for performing <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=multi-factor+authentication">multi-factor authentication</Tooltip>. **WebAuthn with Device Biometrics combines two factors in one**: something you have (the device), and something you are (biometrics) or something you know (the passcode).

それによって、以下の結果が得られます。

* ダッシュボードでMFAを有効にすると、ユーザーが生体認証によるWebAuthnを第一要素として認証した場合、Auth0はMFAのプロンプトを表示しません。
* MFAが有効化され、ユーザーが新しいアカウントを作成すると、以下の手順を行います。

  + ユーザー名/パスワードでユーザーを作成します。
  + どのデバイスでもMFAを完了できるように、生体認証以外の認証方法でMFAに登録します。
  + オプションとして生体認証デバイスで登録できます。

次にログインする際、パスワード + 別の認証方法、または生体認証デバイスでログインできます。

* When users authenticate using WebAuthn Biometrics as their only authentication method, the `amr` value in the <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=ID+Token">ID Token</Tooltip> will be set to `mfa`.
* If you want to enable MFA from our extensibility platform, you’ll be able to consider how users authenticated to decide if they should be prompted for MFA or not. The rule below will only perform MFA if the user did not authenticate with the `webauthn-platform` authentication method:

```javascript javascript lines
function (user, context, callback) {
  let authMethods = context.authentication.methods;

  const amr = authMethods.find((method) => method.name === 'webauthn-platform');

  if (!amr) {
    context.multifactor = {
      provider: 'any',
      allowRememberBrowser: false
    };
  }
  return callback(null, user, context);
}
```


このログイン後のアクションでも効果は同じです。

```javascript javascript lines
exports.onExecutePostLogin = async (event, api) => {
  let authMethods = event.authentication.methods;

  let amr = authMethods.find((method) => method.name === 'webauthn-platform');

   if (!amr) {
     api.multifactor.enable('any');
  }
};
```

## デバイス認識

Auth0 will use the rules to determine if the device is already enrolled or not, and prompt the user for enrollment. To learn more, read [Device recognition](/docs/secure/multi-factor-authentication/fido-authentication-with-webauthn/configure-webauthn-device-biometrics-for-mfa#device-recognition) in the article [Configure WebAuthn with Device Biometrics for MFA](/docs/secure/multi-factor-authentication/fido-authentication-with-webauthn/configure-webauthn-device-biometrics-for-mfa).

ユーザー列挙攻撃を避けるため、Auth0は、ユーザーが既知のデバイスからログインする場合にのみ、ユーザーに第一要素として生体認証を指示します。それ以外の場合、パスワードを使用してログインする必要がある。

ユーザーがWindowsのChromeからログインし、Windows Helloで登録されます。エンロールメント情報の一部として、Auth0は、ユーザーがWindowsデバイスから登録したことを認識し、ユーザーエージェントを認識するために「既知のデバイス」を保存します。

* 次にChromeからログインする際、パスワードの代わりにWindows Helloを使用するよう指示します。
* ユーザーが後でWindowsのFirefoxからログインする場合、「既知のデバイス」クッキーが存在しないため、ユーザーはパスワードでログインする必要があります。すでにWindows Helloに登録されているため、再登録を促すプロンプトは表示されません。
* 次にFirefoxからログインする際、Windows Helloの使用を指示します。
* これによって、攻撃者は、ユーザーがアカウントを持っているかどうか、そして、サイトへの認証にWebAuthn生体認証デバイスを使用したかどうかを知ることができなくなります。

Auth0は、WebAuthnに関する[詳細な情報]()と、WebAuthnをサポートしているブラウザの最新のリストがある[webauthn.me]()を維持しています。

## Auth0は、WebAuthnに関する[詳細な情報]()と、WebAuthnをサポートしているブラウザの最新のリストがある[webauthn.me]()を維持しています。

Auth0 maintains [webauthn.me](https://a0.to/webauthme-auth0-docs), which has [detailed information](https://webauthn.me/introduction) about WebAuthn and an up-to-date list of browsers supporting WebAuthn.

## Learn more

* [Configure Universal Login with Passwordless](/docs/authenticate/login/auth0-universal-login/passwordless-login)
* [Configure Email or SMS for Passwordless Authentication](/docs/authenticate/login/auth0-universal-login/passwordless-login/email-or-sms)
* [Configure WebAuthn with Device Biometrics for MFA](/docs/secure/multi-factor-authentication/fido-authentication-with-webauthn/configure-webauthn-device-biometrics-for-mfa)
* [FIDO Authentication with WebAuthn](/docs/secure/multi-factor-authentication/fido-authentication-with-webauthn)