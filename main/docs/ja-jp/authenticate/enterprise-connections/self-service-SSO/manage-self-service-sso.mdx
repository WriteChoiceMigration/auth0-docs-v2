---
og:description: Use Self-Service SSO to delegate SSO setup to your B2B customers.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: セルフサービスシングルサインオン (1)
og:url: https://auth0.com/docs/
permalink: manage-self-service-sso
title: セルフサービスシングルサインオン (1)
twitter:description: Use Self-Service SSO to delegate SSO setup to your B2B customers.
twitter:title: セルフサービスシングルサインオン (1)
---

Self-Service <Tooltip tip="Single Sign-On (SSO): Service that, after a user logs into one applicaton, automatically logs that user in to other applications." cta="View Glossary" href="/docs/glossary?term=Single+Sign-On">Single Sign-On</Tooltip> (SSO) provides business-to-business (B2B) customers with the tools needed to delegate SSO setup to their enterprise customers.

Self-Service SSO requires minimal configuration in your Auth0 tenant and provides your customers with a self-service assistant that guides them through the enablement process. After a customer completes their setup, the SSO integration is automatically added to your tenant as an [Enterprise connection](/docs/authenticate/enterprise-connections).

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Self-Service SSO is only available to B2B customers on Professional or Enterprise plans.

Users with the following Dashboard roles can engage with this feature:

* **Admin** and **Editor - Connections** users can create and manage self-service profiles.
* **Viewer - Config** users can view self-service profiles only.

</Callout>

To facilitate Self-Service SSO, you will configure the following components using either the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> or the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip>:

* **Self-service profile**: Defines key elements of customer SSO implementations, including the <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+providers">identity providers</Tooltip> (IdPs) they can use and which user attributes they must capture, such as email. You can create up to 20 profiles in your tenant for different customers or segments.
* **Self-service access ticket**: Grants customer admins access to the [**self-service assistant**](/docs/authenticate/enterprise-connections/self-service-SSO#self-service-assistant-experience) and sets specific details for their resulting Enterprise connection. Access tickets allow customer admins to either create new or modify existing connections.

Entra ID

## Google Workspace（OIDCを使用）

Keycloak

Microsoft Active Directoryフェデレーションサービス（ADFS）

* PingFederate
* Generic OIDC
* Generic SAML

仕組み

<Tabs><Tab title="Auth0 Dashboard">

To create a self-service profile on the Auth0 Dashboard:

1. Navigate to [Authentication > Enterprise](https://manage.auth0.com/#/connections/enterprise) and open the **Self-Service SSO** section. Then, select **Create Profile**.
2. In the space provided, enter a name and optional description for the profile. Then, select **Create**.
3. On the **Settings** tab, complete the sections below. Then, select **Save**.

   * **Identity Providers**: Enable one or more identity providers. In the self-service assistant, customer admins can select their preferred option from the list of enabled providers.
   * **Branding**: Provide a logo and primary color for the self-service assistant.
   * **Custom Introduction**: Modify or replace the default message as needed. This introduction text displays to customer admins on the landing page of the self-service assistant. Your messaging can include basic formatting options, such as bolding or hyperlinks, and is limited to 2000 characters.
4. On the **User Profile** tab, add up to 20 user attributes that your customers should capture through SSO, such as email or family name. You can set each attribute as `required` or `optional`.

   * During the self-service assistant flow, customer admins will be prompted to map these defined user attributes to their identity provider to ensure the necessary values are passed to Auth0.

</Tab><Tab title="Management API">

To create a self-service profile, first call the Self-Service Profiles endpoint to create the profile. Then, use a PUT call to optionally modify its introduction text.

#### Create a self-service profile:

1. Make a POST call to the [Self-Service Profiles](https://auth0.com/docs/api/management/v2/self-service-profiles/post-self-service-profiles) endpoint.
2. Specify the following parameters in the request body, as needed:

<table class="table"><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Required?</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>Yes</td>
<td>String. Maximum length is 100.<br/><br/>A user-friendly name for the self-service profile.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>No</td>
<td>String. Maximum length is 140.<br/><br/>A description of the self-service profile.</td>
</tr>
<tr>
<td><code>allowed_strategies</code></td>
<td>No</td>
<td>Array.<br/><br/>One or more identity providers that customer admins can use to implement SSO. If no parameters are selected, all are passed by default. <br/><br/>Options include: <br/><br/><ul><li><code>okta</code> for Okta Workforce Identity</li><li><code>waad</code>for Entra ID</li><li><code>google-apps</code> for Google Workspace</li><li><code>keycloak-samlp</code> for Keycloak</li><li><code>adfs</code> for Microsoft Active Directory Federation Services</li><li><code>pingfederate</code> for PingFederate</li><li><code>oidc</code> for generic OIDC</li><li><code>samlp</code> for generic SAML</li></ul></td>
</tr>
<tr>
<td><code>user_attributes</code></td>
<td>No</td>
<td>Object. Maximum length is 20.<br/><br/>Stores mapping information presented to customer admins during the self-service assistant flow. Customer admins are instructed to map these attributes to their identity provider to ensure the specified attributes are passed to Auth0.</td>
</tr>
<tr>
<td><code>user_attributes[].name</code></td>
<td>Yes, when defining user_attributes.</td>
<td>String. Maximum length is 255.<br/><br/>Name of the user attribute in Auth0.</td>
</tr>
<tr>
<td><code>user_attributes[].description</code></td>
<td>Yes, when defining user attributes.</td>
<td>String. Maximum length is 255.<br/><br/>Human-readable description of the user attribute.</td>
</tr>
<tr>
<td><code>user_attributes[].is_optional</code></td>
<td>Yes, when defining user attributes.</td>
<td>Boolean.<br/><br/>Indicates whether an attribute is optional or required by the customer in order for the application to function.<br/><br/><ul><li>To set an attribute as required, use <code>true</code>.</li><li>For optional attributes, use <code>false</code>.</li></ul></td>
</tr>
<tr>
<td><code>branding</code></td>
<td>No</td>
<td>Object. <br/><br/>Used to customize the styling of the self-service assistant presented to customer admins.</td>
</tr>
<tr>
<td><code>branding.logo_url</code></td>
<td>No</td>
<td>String. Maximum length is 1024.<br/><br/>An HTTPS URL that points to a logo image. If provided, this logo displays to the top right of the self-service assistant.</td>
</tr>
<tr>
<td><code>branding.colors</code></td>
<td>No</td>
<td>Object.<br/><br/>Sets a primary color for certain elements of the self-service assistant, such as interactive buttons.</td>
</tr>
<tr>
<td><code>branding.colors.primary</code></td>
<td>Yes, when defining branding.colors.</td>
<td>String.<br/><br/>Specifies the hex value of the primary color used for the self-service assistant.</td>
</tr>
</tbody>
</table>

**Example Request Body**

```json lines
{
  "name": "Example Profile",
  "description": "An example profile for all customers",
  "allowed_strategies": ["okta","adfs","google-apps"],
  "user_attributes": [
    {
      "name": "email",
      "description": "User's email",
      "is_optional": false,
    }
  ],
  "branding": {
     "logo_url": "https://example.com/logo.png",
     "colors": {
       "primary": "#334455"
     }
  }
}
```






#### Customize your introduction text

When a customer admin accesses the self-service assistant, they first land on an introduction page that welcomes them to the experience. By default, the following message is provided:

"You are a few simple steps away from setting up SSO. This setup process involves making some changes to your identity provider. Before you begin, open your identity provider in a separate browser tab or window."

You can modify this text by making a PUT call to the [Custom Text for Self-Service Profiles](https://auth0.com/docs/api/management/v2/self-service-profiles/put-self-service-profile-custom-text) endpoint.

<Warning>

Be aware that this call **overwrites** any messaging currently set for the self-service profile. Ensure your call includes the complete text you wish to display to your customer admins.

</Warning>

1. Call `PUT /api/v2/self-service-profiles/{id}/custom-text/{language}/{page}`, where

   * `id` is the profile ID of the self-service profile
   * `language` is set to `en`
   * `page` is set to `get-started`
2. In the request body, specify the following:

<table class="table"><thead>
<tr>
<th><strong>Property</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>introduction</code></td>
<td>String. Maximum length is 2000.<br/><br/>Full introduction text to display on the landing page of the self-service assistant. Text can include basic formatting options, such as bolding or hyperlinks.<br/><br/>Custom text provided through this parameter completely overwrites any previous messaging. For best results, ensure you provide the full message you wish to display to customer admins.<br/><br/>Sending an empty body <code>\{}</code> resets any customized messaging to the default text.</td>
</tr>
</tbody>
</table>
3. In response, the created entity is returned.

**Example Call**

```js lines
PUT /api/v2/self-service-profiles/ssp_1234567890/custom-text/en/get-started

{
  introduction: "Welcome! With <b>only a few steps</b>, you'll be able to setup your new connection. For assistance, contact <a href="https://www.examplesupportsite.com"> our support team </a>." 
}
```






**Example Response**

```js lines
{
  introduction: "Welcome! With <b>only a few steps</b>, you'll be able to setup your new connection. For assistance, contact <a href="https://www.examplesupportsite.com"> our support team </a>." 
}
```






</Tab></Tabs>

## セルフサービスSSOは、以下のコンポーネントを使用してセットアップを顧客に委任します。

**セルフサービスプロファイル**：SSOに使用するIDプロバイダーや、メールアドレスなどの取得が必要なユーザー属性など、顧客のSSO実装の主要な要素を定義します。

**セルフサービスアクセスチケット**：SSOセットアップアシスタントへのアクセス権を顧客の管理者に付与し、結果として得られるSSO統合の具体的な詳細を設定します。

* **SSOセットアップアシスタント**：SSOセットアッププロセスについて顧客の管理者をガイドします。
* セルフサービスSSOワークフローには、以下のタスクが含まれます。

When generating access tickets, you can also enable certain features such as <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> IdP-initated SSO, home realm discovery, and domain verification.

#### セルフサービスSSOの使用

以下のセクションでは、セルフサービスプロファイルの構成および顧客の管理者と共有するセルフサービスアクセスチケットの生成の手順について詳しく説明します。

セルフサービスプロファイルを作成する

To learn more about these options, review [Configure SAML Identity Provider-Initiated Single Sign-On](/docs/authenticate/protocols/saml/saml-sso-integrations/identity-provider-initiated-single-sign-on).

#### 顧客の管理者がSSOに使用できるIDプロバイダー

メールアドレスや姓など、SSOを通して取得する必要があるユーザー属性

SSOセットアップアシスタントの外観をカスタマイズするブランディングオプション

##### さまざまな顧客やセグメントに対応するため、必要に応じて複数のプロファイルを作成できます。

[Home realm discovery](/docs/get-started/architecture-scenarios/business-to-business/authentication#home-realm-discovery) allows you to enter a list of known email domains for your customer. Domains specified in this list are automatically considered verified, and the customer admin does not need to complete manual verification.

セルフサービスアクセスチケットを管理する

* セルフサービスプロファイルを少なくとも1つ作成したら、Management APIを使用してセルフサービスアクセスチケットを生成できます。セルフサービスアクセスチケットは、主に2つの役目を果たします。
* 顧客の管理者にSSOセットアップアシスタントへのアクセス権を付与します。顧客の管理者はこれを通して新規のSSO接続を構成したり、既存の接続を修正したりできます。

新規接続で有効にするアプリケーションや組織など、顧客の管理者が構成する新規SSO接続の主な詳細情報および動作を事前定義します。

##### アクセスチケットを生成する

セルフサービスアクセスチケットを生成するには以下を行います。

要求本文で、以下の表で説明されているパラメーターを指定します。

* **要求本文の例**
* 応答で、セルフサービスアクセスチケットへのURLを受け取ります。

チケットURLを受け取ったら、顧客の管理者にそのリンクを共有して、SSOセットアップアシスタントへのアクセス権を付与します。後はセットアップアシスタントがSSO接続の構成についてガイドしてくれます。

* アクセスチケット生成を独自のセルフサービスポータルにラップするか、チケットURLをメール、チャット、その他のコミュニケーションチャネルを通して直接顧客の管理者に送信することができます。
* アクセスチケットを取り消す
* デフォルトでは、アクセスチケットURLは5日間有効です。顧客の管理者は、URLにアクセスしたら5時間以内にセットアップを完了する必要があります。必要に応じて、この有効期限の前にアクセスチケットを取り消すことができます。たとえば、アクセスチケットが誤ったオーディエンスと共有されてしまった場合、SSOセットアップアシスタントへの不正アクセスを防ぐためにチケットを取り消すことができます。

  + アクセスチケットが取り消されると、そのURLは直ちに無効になり、関連セッションがすべて終了されます。URLを共有した顧客の管理者は、SSOセットアップアシスタントにアクセスできなくなります。その後、必要に応じて新しいアクセスチケットを生成して共有することができます。

アクセスチケットを取り消すには以下を行います。

### 応答で、`202 Accepted`が返されます。

リファレンス

<Warning>

By default, access ticket URLs remain valid for five days after generation. After accessing the ticket URL, the customer admin has five hours to complete their setup. An access ticket URL can be accessed a maximum of 10 times; once this limit is reached, a new access ticket must be requested.

If needed, you can revoke an access ticket prior to its expiration to immediately cease access to the self-service assistant.

</Warning>

<Tabs><Tab title="Auth0 Dashboard">

To generate an access ticket through the Auth0 Dashboard:

1. Navigate to [Authentication > Enterprise](https://manage.auth0.com/#/connections/enterprise) and access the **Self-Service SSO** section. Then, select the self-service profile with which you want to create an access ticket.
2. Select **Generate Ticket** to open the ticket form. Under **Select ticket type**, choose **Create a new connection**.
3. Under **Ticket configuration**, provide a required name for the connection your customer admin will configure.
4. In the **Settings** section, configure additional options as needed for the new connection:

   * **Display Name**: A user-friendly name for the connection that displays on Universal Login prompts.
   * **Enabled Clients**: A comma-separated list of client IDs to associate with the connection.
   * **Enabled Organizations**: A comma-separated list of organization IDs to associate with the connection.
   * **Display connection a as button**: Displays the connection as an authentication option on the login screen.
   * **Display connection as a button for organizations**: Displays the connection as an authentication option on the login screen for the specified organizations.
   * **Assign membership on login for organizations**: Automatically grant organization membership to users who authenticate with the connection.
   * **Enable as a domain level connection**: Allow 3rd-party applications to use the connection; requires [Dynamic Client Registration](/docs/get-started/applications/dynamic-client-registration).
   * **Accept SAML IdP-initiated SSO**: Enables [SAML Identity Provider-initiated SSO](/docs/authenticate/protocols/saml/saml-sso-integrations/identity-provider-initiated-single-sign-on).
5. Under **Home Realm Discovery**, optionally provide a comma-separated list of IdP domains to compare to users’ email domains. For customers to use Home Realm Discovery, you must set Domain Verification to either `Optional` or `Required`. For more information, review [Home Realm Discovery](#home-realm-discovery).
6. Under **Time to Live**, set an expiration period for the access ticket in seconds. By default, time to live is set to 432000 seconds (which equals five days).

   * Time to Live determines how long an access ticket URL is active **before** a customer admin launches the self-service assistant. It does not determine how long the customer admin has access to the assistant after it’s been launched. The expiration of the self-service assistant itself is 5 hours and cannot be configured.
7. Under **Domain Verification**, choose your desired level of verification:

   * **Off**: When set to Off, customer admins are not prompted to verify their domain when setting up SSO. This option is selected by default for new access tickets.
   * **Optional**: When set to Optional, customer admins are prompted to verify their domain when setting up SSO. However, they can skip this step and enable their connection without completing verification.
   * **Required**: When set to Required, customer admins must verify their domain when setting up SSO. They will not be able to enable their connection until verification is complete.
8. Under **Metadata**, add up to 10 metadata associated with the connection.
9. Review your access ticket configuration for accuracy. Then, select **Create Ticket**.

A Ticket Information popup containing the access ticket URL then displays. Copy and save this URL somewhere safe, as you cannot retrieve this URL again after closing the popup.

You can share the access ticket URL with your customer admin through email, chat, or another communication channel to grant them access to the self-service assistant. The assistant will then guide them through configuring the SSO connection. To learn more about that experience, review [Self-service assistant experience](/docs/authenticate/enterprise-connections/self-service-SSO#self-service-assistant-experience).

</Tab><Tab title="Management API">

To generate an access ticket through the Management API.

1. Retrieve the ID of the self-service profile you want to associate with the access ticket through the [Retrieve Self-Service Profiles](https://auth0.com/docs/api/management/v2/self-service-profiles/get-self-service-profiles) endpoint.
2. Call the [SSO Access Ticket](https://auth0.com/docs/api/management/v2/self-service-profiles/post-sso-ticket) endpoint using the ID of the appropriate self-service profile:

`POST  /api/v2/self-service-profiles/{id}/sso-ticket`

In the request body, specify the parameters described in the table below.

<table class="table"><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>connection_config</code></td>
<td>Object.<br/><br/>Required when generating an access ticket for <strong>a new SSO connection</strong>. Customer admins will be able to modify key elements of the connection, such as the SAML certificate or OIDC ID or secret.</td>
</tr>
<tr>
<td><code>connection_config.name</code></td>
<td><strong>Required</strong>. String.<br/><br/>Name for the connection created through the SSO setup assistant. Maximum length is 128.</td>
</tr>
<tr>
<td><code>connection_config.display_name</code></td>
<td><strong>Optional</strong>. String.<br/><br/>User-friendly name for the new connection created through the self-service assistant. This name displays on Universal Login prompts. Maximum length is 128.</td>
</tr>
<tr>
<td><code>connection_config.is_domain_connection</code></td>
<td><strong>Optional</strong>. Boolean.<br/><br/>Set to <code>true</code> if the connection is at the domain level; requires <a href="/docs/get-started/applications/dynamic-client-registration">Dynamic Client Registration</a>.</td>
</tr>
<tr>
<td><code>connection_config.show_as_button</code></td>
<td><strong>Optional</strong>. Boolean.<br/><br/>When <code>true</code>, the connection displays as an authentication option on your application's login screen.</td>
</tr>
<tr>
<td><code>connection_config.metadata</code></td>
<td><strong>Optional</strong>. Object[].<br/><br/>Metadata associated with the new connection.<br/><br/> Object can contain up to 10 key-value pairs. String values limited to 255 characters.</td>
</tr>
<tr>
<td><code>connection_config.options</code></td>
<td><strong>Optional</strong>. Object[].<br/><br/>Options for the new connection, including:<br/><br/><ul><li><code>icon_url</code></li><li><code>domain_aliases[]</code></li><li><code>idpinitiated</code></li></ul></td>
</tr>
<tr>
<td><code>connection_config.options.icon_url</code></td>
<td><strong>Optional</strong>. String.<br/><br/>URL of the icon image to use if <code>connection_config.show_as_button</code> is enabled. Must use HTTPS.</td>
</tr>
<tr>
<td><code>connection_config.options.domain_aliases</code></td>
<td><strong>Optional</strong>. String[].<br/><br/>Domains to use for home realm discovery.<br/><br/>Domains entered into <code>domain_aliases</code> are automatically marked as verified. To have a customer admin verify a domain themselves, do not specify this attribute and instead use <code>domain_aliases_config</code> (described further on in this table). This option allows you to prompt the customer admin to verify their domain through the self-service assistant.<br/><br/>For more information, review <a href="/docs/authenticate/enterprise-connections/self-service-SSO/manage-self-service-sso#domain-verification-and-home-realm-discovery">Domain Verification and Home Realm Discovery</a>.</td>
</tr>
<tr>
<td><code>connection_config.options.idpinitiated</code></td>
<td><strong>Optional</strong>. Object.<br/><br/>Allows <a href="/docs/authenticate/enterprise-connections/self-service-SSO/manage-self-service-sso#saml-idp-initiated-sso">SAML IdP-initiated SSO</a> and includes the following attributes:<br/><br/><ul><li><code>enabled</code></li><li><code>client_id</code></li><li><code>client_protocol</code></li><li><code>client_authorizequery</code></li></ul><br/>For full details, review the <a href="https://auth0.com/docs/api/management/v2/self-service-profiles/post-sso-ticket">SSO Access Ticket</a> endpoint in the Management API Explorer.</td>
</tr>
<tr>
<td><code>enabled_clients</code></td>
<td><strong>Optional</strong>. String[].<br/><br/>A list of application client IDs to associate with the new connection.</td>
</tr>
<tr>
<td><code>enabled_organizations</code></td>
<td><strong>Optional</strong>. Object[].<br/><br/>A list of organizations to associate with the new connection.</td>
</tr>
<tr>
<td><code>enabled_organizations[].organization_id</code></td>
<td><strong>Required</strong> when using <code>enabled_organizations</code>.<br/><br/> String.<br/><br/> ID of a specific organization to associate with the new connection.<br/><br/>You can retrieve IDs through the Organizations section of the <a href="https://manage.auth0.com/#/organizations">Auth0 Dashboard</a>, the <a href="https://auth0.com/docs/api/management/v2/organizations/get-organizations">Get Organizations</a> endpoint, or the <a href="https://auth0.com/docs/api/management/v2/organizations/get-name-by-name">Get Organization by Name</a> endpoint.</td>
</tr>
<tr>
<td><code>enabled_organizations[].assign_membership_on_login</code></td>
<td><strong>Optional</strong>. Boolean.<br/><br/>When <code>true</code>, users who log in with the new connection are automatically granted membership to the specified organization.</td>
</tr>
<tr>
<td><code>enabled_organizations[].show_as_button</code></td>
<td><strong>Optional</strong>. Boolean.<br/><br/>When <code>true</code>, the new connection displays as an authentication option on the Organization login screen for your application.</td>
</tr>
<tr>
<td><code>ttl_sec</code></td>
<td><strong>Optional</strong>. Number.<br/><br/>Number of seconds an access ticket URL remains active before a customer admin launches the self-service assistant. If unspecified or set to 0, the value defaults to <code>432000</code> (which equals 5 days).<br/><br/>Note that this expiration period does not determine how long a customer admin has access to the self-service after it’s been launched. The expiration of the assistant itself is 5 hours and cannot be configured.</td>
</tr>
<tr>
<td><code>domain_aliases_config</code></td>
<td><strong>Optional</strong>. Object.<br/><br/>Contains domain_verification which is used to determine whether domain verification is required, optional, or disabled.<br/><br/>Options for domain_verification include:<br/><br/><ul><li><code>none</code>: Disables domain verification. You can also disable domain verification by leaving the <code>domain_aliases_config</code> object out of your request.</li><li><code>optional</code>: Allows customer admins to skip domain verification during setup.</li><li><code>required</code>: Requires customer admins to verify their domain during setup.</li></ul><br/>To learn more, review <a href="/docs/authenticate/enterprise-connections/self-service-SSO/manage-self-service-sso#domain-verification-and-home-realm-discovery">Domain Verification and Home Realm Discovery</a>.</td>
</tr>
</tbody>
</table>

**Example Request Body**

```json lines expandable
{
   "connection_config":{
      "name":"string",
      "display_name":"string",
      "is_domain_connection":true,
      "show_as_button":true,
      "metadata":{
         "key1":"value1",
         "key2":"value2"
      },
      "options":{
         "icon_url":"string",
         "domain_aliases":[
            "acme.corp",
            "okta.com"
         ],
         "idpinitiated": { 
            "enabled": true, 
            "client_id": "string", 
            "client_protocol": "string", 
            "client_authorizequery": "string" 
        }
      }
   },
   "enabled_clients":[
      "string"
   ],
   "enabled_organizations":[
      {
         "organization_id":"string",
         "assign_membership_on_login":true,
         "show_as_button":true
      }
   ],
   "ttl_sec":0,
   "domain_aliases_config": {
       "domain_verification": "string"
    }
}
```






In response, you receive a URL to the self-service access ticket:

```json lines
{
  "ticket": "https://{domain}/self-service/connections-flow?ticket={id}"
}
```






After you receive the ticket URL, share the link with your customer admin to grant them access to the self-service assistant. The assistant will then guide them through configuring the SSO connection. To learn more about that experience, review [Self-service assistant experience](/docs/authenticate/enterprise-connections/self-service-SSO#self-service-assistant-experience).

You can wrap access ticket generation in your own self-service portal or send ticket URLs directly to customer admins through email, chat, or other communication channels.

</Tab></Tabs>

### API

セルフサービスSSOの管理には、以下の[Management API](/api/management/v2/introduction)エンドポイントが使用できます。

<Warning>

By default, access ticket URLs remain valid for five days after generation. After accessing the ticket URL, the customer admin has five hours to complete their setup. An access ticket URL can be accessed a maximum of 10 times; once this limit is reached, a new access ticket must be requested.

If needed, you can revoke an access ticket prior to its expiration to immediately cease access to the self-service assistant.

</Warning>

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

If a customer admin initiates **domain verification** through the self-service assistant, they may require an additional access ticket to complete the setup process.

アクセスチケットを生成する occurs as the final step of the self-service assistant. At this point in the workflow, the connection has been created but not enabled. If domain verification is required, the customer admin cannot enable their connection until verification is complete.

While verification typically occurs in a timely manner, it may take 24-48 hours in some cases. If this occurs, the customer admin will not be able to use their original access ticket to enable their connection, as tickets expire five hours after they are first accessed.

To complete this process, you can generate an access ticket that allows the customer admin to modify the connection they configured with their initial ticket. When creating this ticket, ensure you specify the Connection ID of the connection they configured with their first access ticket.

</Callout>

<Tabs><Tab title="Auth0 Dashboard">

To generate an access ticket through the Auth0 Dashboard:

1. Navigate to [Authentication > Enterprise](https://manage.auth0.com/#/connections/enterprise) and access the Self-Service SSO section. Then, select the self-service profile with which you want to create an access ticket.
2. Select **Generate Ticket** to open the ticket form. Under **Select ticket type**, choose **Edit an existing connection**.
3. Under **Ticket configuration**, provide the ID of the existing connection you want the customer admin to modify.
4. Under **Domain Verification**, choose your desired level of verification:

   1. **Off**: Customer admins are not prompted to verify their domain when setting up SSO. This option is selected by default for new access tickets.
   2. **Optional**: Customer admins are prompted to verify their domain when setting up SSO. However, they can skip this step and enable their connection without completing verification.
   3. **Required**: Customer admins must verify their domain when setting up SSO. They will not be able to enable their connection until verification is complete.
5. Under **Time to Live**, set an expiration period for the access ticket in seconds. By default, time to live is set to 432000 seconds (which equals five days).

   1. Time to Live determines how long an access ticket URL is active **before** a customer admin launches the self-service assistant. It does not determine how long the customer admin has access to the assistant after it’s been launched. The expiration of the self-service assistant itself is 5 hours and cannot be configured.
6. Review your access ticket configuration for accuracy. Then, select **Create Ticket**.

A Ticket Information popup containing the access ticket URL then displays. Copy and save this URL somewhere safe as you cannot retrieve this URL again after closing the popup.

You can share the access ticket URL with your customer admin through email, chat, or another communication channel to grant them access to the self-service assistant. The assistant will then guide them through configuring the SSO connection. To learn more about that experience, review [Self-service assistant experience](/docs/authenticate/enterprise-connections/self-service-SSO#self-service-assistant-experience).

</Tab><Tab title="Management API">

To generate an access ticket through the Management API, follow the steps below.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

You cannot update `connection_config` details for an existing connection through the [SSO Access Ticket](https://auth0.com/docs/api/management/v2/self-service-profiles/post-sso-ticket) endpoint. If you need to modify this information for an existing connection, use the [Update a Connection](https://auth0.com/docs/api/management/v2/connections/patch-connections-by-id) endpoint instead.

</Callout>

1. Retrieve the ID of the self-service profile you want to associate with the access ticket through the [Retrieve Self-Service Profiles](https://auth0.com/docs/api/management/v2/self-service-profiles/get-self-service-profiles) endpoint.
2. Call the [SSO Access Ticket](https://auth0.com/docs/api/management/v2/self-service-profiles/post-sso-ticket) endpoint using the ID of the appropriate self-service profile:

   `POST /api/v2/self-service-profiles/{id}/sso-ticket`

   In the request body, specify the following parameters:

<table class="table"><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>connection_id</code></td>
<td><strong>Required</strong>. String.<br/><br/>ID of the connection a customer admin can update through the self-service assistant. Customer admins can modify key elements of the connection, such as the SAML certificate or OIDC ID and secret.<br/><br/>Connection IDs can be retrieved through the Authentication section of the <a href="https://manage.auth0.com/#/connections/enterprise">Auth0 Dashboard</a> or the <a href="https://auth0.com/docs/api/management/v2/connections/get-connections">Get All Connections</a> endpoint.**</td>
</tr>
<tr>
<td><code>ttl_sec</code></td>
<td><strong>Optional</strong>. Number.<br/><br/>Number of seconds an access ticket URL remains active before a customer admin launches the self-service assistant. If unspecified or set to <code>0</code>, the value defaults to <code>432000</code> (which equals 5 days). <br/><br/>Note that this expiration period does not determine how long a customer admin has access to the self-service assistant after it's been launched. The expiration of the assistant itself is 5 hours and cannot be configured.</td>
</tr>
<tr>
<td><code>domain_aliases_config</code></td>
<td><strong>Optional</strong>. Object.<br/><br/>Contains domain_verification which is used to determine whether domain verification is required, optional, or disabled.<br/><br/>Options for domain_verification include:<br/><br/><ul><li><code>none</code>: Disables domain verification. You can also disable domain verification by leaving the <code>domain_aliases_config</code> object out of your request.</li><li><code>optional</code>: Allows customer admins to skip domain verification during setup.</li><li><code>required</code>: Requires customer admins to verify their domain during setup.</li></ul><br/>To learn more, review <a href="/docs/authenticate/enterprise-connections/self-service-SSO/manage-self-service-sso#domain-verification-and-home-realm-discovery">Domain Verification and Home Realm Discovery</a>.</td>
</tr>
</tbody>
</table>

**Example Request Body**

```json lines
{
  "connection_id": "string",
   "ttl_sec":0,
   "domain_aliases_config": {
       "domain_verification": "string"
    }
}
```






In response, you receive a URL to the self-service access ticket:

```json lines
{
  "ticket": "https://{domain}/self-service/connections-flow?ticket={id}"
}
```






After you receive the ticket URL, share the link with your customer admin to grant them access to the self-service assistant. The assistant will then guide them through configuring the SSO connection. To learn more about that experience, review [Self-service assistant experience](/docs/authenticate/enterprise-connections/self-service-SSO#self-service-assistant-experience).

You can wrap access ticket generation in your own self-service portal or send ticket URLs directly to customer admins through email, chat, or other communication channels.

</Tab></Tabs>

### [セルフサービスプロファイル取得](/api/management/v2/self-service-profiles/get-self-service-profiles)

[セルフサービスプロファイル作成](/api/management/v2/self-service-profiles/post-self-service-profiles)

If needed, you can revoke an access ticket prior to its expiration. For example, if an access ticket is shared with the wrong <Tooltip tip="Audience: Unique identifier of the audience for an issued token. Named aud in a token, its value contains the ID of either an application (Client ID) for an ID Token or an API (API Identifier) for an Access Token." cta="View Glossary" href="/docs/glossary?term=audience">audience</Tooltip>, you can revoke the ticket to prevent unauthorized access to the self-service assistant.

[IDでのセルフサービスプロファイル削除](/api/management/v2/self-service-profiles/delete-self-service-profiles-by-id)

[セルフサービスプロファイル更新](/api/management/v2/self-service-profiles/patch-self-service-profiles-by-id)

1. Retrieve the ID of the self-service profile associated with the access ticket using the [Retrieve Self-Service Profiles](https://auth0.com/docs/api/management/v2/self-service-profiles/get-self-service-profiles) endpoint.
2. Locate the ID of the access ticket you wish to revoke. IDs can be found at the end of the access ticket URL.
3. Call the [Revoke SSO Access Ticket](https://auth0.com/docs/api/management/v2/self-service-profiles/post-revoke) endpoint using the appropriate IDs:

`POST  /api/v2/self-service-profiles/{id}/sso-ticket/{id}/revoke`

[セルフサービスプロファイルのカスタムテキスト取得](/api/management/v2/self-service-profiles/get-self-service-profile-custom-text)

## [セルフサービスプロファイルのカスタムテキスト設定](/api/management/v2/self-service-profiles/put-self-service-profile-custom-text)

### [セルフサービスSSOフロー開始のアクセスチケット作成](/api/management/v2/self-service-profiles/post-sso-ticket)

To manage Self-Service SSO, the following [Management API](https://auth0.com/docs/api/management/v2/introduction) endpoints are available:

* [Get self-service profiles](https://auth0.com/docs/api/management/v2/self-service-profiles/get-self-service-profiles)
* [Create a self-service profile](https://auth0.com/docs/api/management/v2/self-service-profiles/post-self-service-profiles)
* [Get a self-service profile by ID](https://auth0.com/docs/api/management/v2/self-service-profiles/get-self-service-profiles-by-id)
* [Delete a self-service profile by ID](https://auth0.com/docs/api/management/v2/self-service-profiles/delete-self-service-profiles-by-id)
* [Update a self-service profile](https://auth0.com/docs/api/management/v2/self-service-profiles/patch-self-service-profiles-by-id)
* [Get custom text for a self-service profile](https://auth0.com/docs/api/management/v2/self-service-profiles/get-self-service-profile-custom-text)
* [Set custom text for a self-service profile](https://auth0.com/docs/api/management/v2/self-service-profiles/put-self-service-profile-custom-text)
* [Create an SSO-access ticket to initiate the self-service SSO flow](https://auth0.com/docs/api/management/v2/self-service-profiles/post-sso-ticket)
* [Revoke an SSO access ticket](https://auth0.com/docs/api/management/v2/self-service-profiles/post-revoke)

### Rate Limits

When using Self-Service SSO, the following rate limits apply:

<table class="table"><thead>
<tr>
<th>Description</th>
<th>Endpoint</th>
<th>Limits</th>
</tr>
</thead>
<tbody>
<tr>
<td>Manage SSO profiles</td>
<td><code>/api/v2/self-service-profiles</code></td>
<td>Review the <a href="/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/rate-limit-configurations">Management API rate limits</a> for your subscription type.</td>
</tr>
<tr>
<td>Create an access ticket</td>
<td><code>/api/v2/self-service-profiles/{id}/sso-ticket</code></td>
<td>Review the <a href="/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/rate-limit-configurations">Management API rate limits</a> for your subscription type.</td>
</tr>
<tr>
<td>Consume an access ticket</td>
<td><code>/self-service/connection-flows?ticket={id}</code></td>
<td>6 / min / IP</td>
</tr>
<tr>
<td>Load the webapp (including setup assistant) and webapp endpoints</td>
<td><code>/self-service/*</code></td>
<td>50 / min / IP<br/>90 / min / tenant</td>
</tr>
</tbody>
</table>