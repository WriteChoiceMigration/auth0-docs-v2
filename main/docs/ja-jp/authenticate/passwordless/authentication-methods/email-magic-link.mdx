---
og:description: Learn how to use Passwordless connections with the magic link authentication
  factor.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: メールマジックリンクでのパスワードレス認証
og:url: https://auth0.com/docs/
permalink: email-magic-link
title: メールマジックリンクでのパスワードレス認証
twitter:description: Learn how to use Passwordless connections with the magic link
  authentication factor.
twitter:title: メールマジックリンクでのパスワードレス認証
---

You can configure a <Tooltip tip="Passwordless: Form of authentication that does not rely on a password as the first factor." cta="View Glossary" href="/docs/glossary?term=Passwordless">Passwordless</Tooltip> connection to send a Magic Link to a user through email to complete authentication.

To learn more, read [Configure Email or SMS for Passwordless Authentication](/docs/authenticate/login/auth0-universal-login/passwordless-login/email-or-sms).

## 仕組み

ユーザーがメールマジックリンクを開くと、Auth0が直接ログインさせます。ワンタイムパスワード（OTP）をメールで受け取り、アプリに戻ってOTPを入力する機能に似ているものの、実際にこの手順を踏む必要はありません。

### 制限事項

Magic Links are not supported for <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip>.

クラシックログインでメールマジックリンクを利用する際、当初の要求とその応答の両方が同じブラウザで発生することが必要で、これに該当しない場合、トランザクションは失敗します。特に、デフォルトのウェブブラウザを変更できないiOSユーザーにおいてこの影響が顕著にみられます。

例えば、ユーザーが当初の要求をChromeブラウザで行うものの、メールでマジックリンクを開くとiOSは自動的にSafari（デフォルトのブラウザ）でこれを開きます。この場合、トランザクションは失敗します。

### メールマジックリンクでのクラシックログインフロー

<Frame>![](/images/cdy7uua7fh8z/yYsZhaG5uzmVg1MwVCRix/0b735f499987539856fa9a251e2b09d1/Magic_Link_Flow.png)</Frame>

続いてユーザーがメールのボタンまたはリンクをクリックすると、アプリケーションに自動的にサインインします。

## 接続を構成する

1. In the Auth0 Dashboard, go to [Authentication > Passwordless](https://manage.auth0.com/#/connections/passwordless), and then enable the **Email** toggle.
2. Select **Email** to open the configuration window, switch to the **Settings** view, and enter your email's **From**, **Subject**, and **Message** text.

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

   You must change the **From** value to an email address that does not use the `auth0.com` domain for Auth0 to send your custom email templates. If you do not, Auth0 sends the default email template.

   </Callout>
3. Enter any **Authentication Parameters** you would like to include in the generated sign-in link.
4. Decide if you want to **Disable Sign Ups**. If you enable this setting, you can allow passwordless access for only existing users, but may expose your application to the threat of user enumeration attacks. To learn more, read [Passwordless Connections Best Practices](/docs/authenticate/passwordless/best-practices).
5. Select **Save**.

### 多言語対応

**［Message（メッセージ）］**エリアは、多言語に対応しています。

To specify a language, call the [Auth0 Authentication API Get Code or Link endpoint](https://auth0.com/docs/api/authentication#get-code-or-link) and set the value of the `x-request-language` header. When this header is not set, the language is extracted from the `accept-language` header, which is automatically set by the browser.

### メッセージ構文

**［Message（メッセージ）］**エリアは、Liquid構文を受け付けます。この構文にパラメーターバリューを組み合わせて使え、メッセージの要素をプログラム的に構築できます。

例えば、`request_language`パラメーターを参照し、メッセージの言語を変更できます：

```liquid lines
{% if request_language contains 'dutch' %}
   Hier is uw verificatie code: {{ code }}
{% endif %}
{% if request_language contains 'fr-FR' %}
   Ceci est votre code: {{ code }}
{% endif %}
```






メッセージのテンプレートの定義の際、次のパラメーターをご利用になれます。

<table class="table"><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>code</code></td>
<td>The password to use.</td>
</tr>
<tr>
<td><code>link</code></td>
<td>The generated sign-in link.</td>
</tr>
<tr>
<td><code>application.name</code></td>
<td>The name of the application with which the user is signing up.</td>
</tr>
<tr>
<td><code>request_language</code></td>
<td>The requested language for message content.</td>
</tr>
<tr>
<td><code>operation</code></td>
<td>Indicates when the template has been triggered by an update to a user's email through the API. When triggered, the value is <code>change_email</code>, otherwise it is <code>null</code>.</td>
</tr>
</tbody>
</table>

## クラシックログイン設定の更新

アプリケーションでクラシックログインを利用している場合、メールマジックリンクを実装するにはページテンプレートを更新する必要があります。

1. In the Auth0 Dashboard, go to [**Branding > Universal Login > Advanced Options**](https://manage.auth0.com/#/login_settings).
2. Switch to the **Login** view, locate the **Default Templates** dropdown, and select **Lock (passwordless).**
3. Next, update the `Auth0LockPasswordless` section of code with a new parameter. Add the `passwordlessMethod` to your template.

   ```bash lines
   passwordlessMethod: 'link',
   ```


   

   
4. Select **Save**.

To learn more about embedded login configuration options, read [Passwordless Authentication with Embedded Login](/docs/authenticate/passwordless/implement-login/embedded-login).

## アプリケーションを有効化する

**［Applications（アプリケーション）］**ビューに切り替え、パスワードレスメールを利用したいアプリケーションを有効化します。

## メールプロバイダー

Auth0は、デフォルトで自身のSMTPプロバイダーからメールを送信します。Auth0の内蔵メールプロバイダーは、テスト目的でのみのものであrい、メールテンプレートのカスタマイズには対応していません。

[Configure your own SMTP email provider](/docs/customize/email/smtp-email-providers) to manage, monitor, and troubleshoot your email communications, and customize email templates.

メールによるコミュニケーションの管理、監視、トラブルシュート、およびメールテンプレートのカスタマイズには、[自身のSMTPメールプロバイダーを構成](/brand-and-customize/email/smtp-email-providers)してください。

* [Mandrill](/docs/customize/email/smtp-email-providers/configure-mandrill-as-external-smtp-email-provider)
* [Amazon SES](/docs/customize/email/smtp-email-providers/configure-amazon-ses-as-external-smtp-email-provider)
* [SendGrid](/docs/customize/email/smtp-email-providers/configure-sendgrid-as-external-smtp-email-provider)
* [SparkPost](/docs/customize/email/smtp-email-providers/configure-sparkpost-as-external-smtp-email-provider)
* [Mailgun](/docs/customize/email/smtp-email-providers/configure-mailgun-as-external-smtp-email-provider)
* [Custom SMTP external email provider](/docs/customize/email/smtp-email-providers/configure-custom-external-smtp-email-provider)