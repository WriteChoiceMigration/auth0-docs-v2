---
og:description: Describes how to troubleshoot invalid token errors.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 無効なトークンエラーのトラブルシューティング
og:url: https://auth0.com/docs/
permalink: invalid-token-errors
title: 無効なトークンエラーのトラブルシューティング
twitter:description: Describes how to troubleshoot invalid token errors.
twitter:title: 無効なトークンエラーのトラブルシューティング
---

## アクセストークンを使うことなく、HS256署名されたIDトークンを解析する

**Error Message**: The <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=ID+token">ID token</Tooltip> cannot be validated because it was signed using the HS256 algorithm and public applications (such as a browser) can’t store secrets.

### 原因

**auth0.jsバージョン9**および**Lockバージョン11**以降、HS256で署名されたIDトークンは破棄され、ユーザー情報の取得には`/userinfo`が呼び出されます。

Calling `/userinfo` requires an <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=Access+Token">Access Token</Tooltip>. If you don't ask for an access token when authenticating, you will receive the following error:
`The id_token cannot be validated because it was signed with the HS256 algorithm
このエラーを修正するには次の2つの方法があります。
アプリケーションの署名アルゴリズムをHS256ではなく、RS256に変更するには、以下を行います。

### APIの呼び出しにIDトークンを使用していて、このオプションを有効化する場合には、サーバーのコードを変更し、HS256ではなく、RS256署名アルゴリズムを使ってトークンを検証するようにします。IDトークンでのAPI呼び出しが非推奨であることに注意してください。

JWTのデコード、検証と生成には[JWTツール]()を使用することができます。

1. **(RECOMMENDED)** Change the application signature algorithm to RS256 instead of HS256.
2. Change the value of your `responseType` parameter to `token id_token` (instead of the default), so that you receive an access token in the response.

To change the application signature algorithm to RS256 instead of HS256:

1. Go to [Auth0 Dashboard > Applications > Applications](https://manage.auth0.com/#/applications), and select the name of the application to view.
2. Scroll to the bottom of the **Settings** page, and select **Show Advanced Settings**.
3. Select the **OAuth** view, change the value of **JsonWebToken Signature Algorithm** to **RS256**, and select **Save Changes**.

If you proceed with this option and you are using the ID token to call your APIs, be sure to change your server code so that it validates tokens using the RS256 algorithm instead of HS256. Note that using ID tokens to call APIs is not recommended.

You can decode, verify and generate <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JWTs">JWTs</Tooltip> using the [JWT Tool](https://jwt.io/).