---
og:description: Describes the Yahoo API changes that affect the structure of the user
  profile.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Yahoo APIの変更
og:url: https://auth0.com/docs/
permalink: yahoo-api-changes
title: Yahoo APIの変更
twitter:description: Describes the Yahoo API changes that affect the structure of
  the user profile.
twitter:title: Yahoo APIの変更
---

Yahoo changed the API that applications need to use to retrieve the User Profile from their [Social Directory API](https://developer.yahoo.com/oauth/social-directory-eol/) to a Yahoo `/userinfo` endpoint. This change implies that the structure of the user profile for Yahoo users in Auth0 will change.

以前は、Auth0ではYahooから返されたすべてのプロファイルデータを読み込み、Yahooのプロファイルからマッピングされたこれらのフィールドを追加していました。

Yahoo stopped returning `url`, `profileUrl`, `isConnected`, and a set of other fields listed in [Yahoo’s documentation](https://developer.yahoo.com/oauth/social-directory-eol/) (see "List Of Attributes Deprecated in Social Directory Profile Api"). Those other fields will also not be part of the profile.

The Yahoo `/userinfo` endpoint returns different fields depending on the API permissions that you configure in the [Yahoo Application](https://developer.yahoo.com/apps/) definition. Yahoo lets you grant one of four permissions in the **Profile (Social Directory)** permissions section:

* Read Public Basic（公開されている基本情報を読み取る権限）
* Read Public Extended（公開されている詳細情報を読み取る権限）
* Read Write Public（公開情報の読み取り/書き込み権限）
* Read Write Public（公開情報の読み取り/書き込み権限） and Private（公開および非公開情報の読み取り/書き込み権限）

## アクション

When configuring the Yahoo Connection in your <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip>, select the attribute that corresponds to the permissions you granted in your Yahoo setup. If you choose an attribute that does not match what you specified on Yahoo, the login transaction will fail.

Auth0接続設定で権限を選択しないと、Auth0はデフォルトで`openid`スコープを要求し、これによりYahooアプリケーションで指定されたAPI権限に対応するプロファイルフィールドが返されます。たとえば、Yahooアプリケーションが**Read Public Extended**権限で構成されている場合、Yahooは以下のフィールドを返します。

* `sub, name`
* `given_name`
* `family_name`
* `locale`
* `email`
* `email_verified`
* `birthdate`
* `profile_images`
* `picture`
* `preferred_username`
* `phone_number`
* `nickname`

Yahoo接続を使用してユーザーを認証し、基本情報を取得する場合、アプリケーションは変更することなく動作を続けます。

アプリケーションが利用できなくなったユーザープロファイルのフィールドにアクセスしている場合、Auth0 Dashboardで正しい**接続属性**を有効にし、アプリケーションコードを調整して適切なフィールド名を使用する必要があります。