---
og:description: Describes Auth0's rate limit policy.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: レート制限ポリシー
og:url: https://auth0.com/docs/
permalink: rate-limit-policy
sidebarTitle: レート制限ポリシー
title: レート制限ポリシー
twitter:description: Describes Auth0's rate limit policy.
twitter:title: レート制限ポリシー
---

Auth0 limits the use of services to assure optimal performance and protection from <Tooltip tip="Bad Actors: Entity (a person or group) that poses a threat to the business or environment with the intention to cause harm." cta="View Glossary" href="/docs/glossary?term=bad+actors">bad actors</Tooltip>, technical errors, or excessive legitimate traffic.  We recommend you review how Auth0 enforces limits to configure your application for the best user experience.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

To find rate limits associated with your account, see [Rate Limit Configurations](/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/rate-limit-configurations) for a matrix of all rate limit policies.

</Callout>

## レート制限について

Auth0 enforces limitations to protect services from excessive requests and protect customers from service interruptions or degradation.

Auth0は、観察した上で、以下を含む一連の制限を適用します。

* 環境への要求（プライベートクラウドのみ）
* APIまたはAPIエンドポイントを介したテナントへの要求
* その他の制限

### 環境要求の制限（プライベートクラウドのみ）

In Private Cloud, environment request limits are based on the Private Cloud Performance Tier.  To learn more, read [Private Cloud for AWS](/docs/deploy-monitor/deploy-private-cloud/private-cloud-on-aws) or [Private Cloud for Azure](/docs/deploy-monitor/deploy-private-cloud/private-cloud-on-azure).

現在、プライベートクラウド環境のレート制限は、Auth0製品がSLAを満たす範囲での最大負荷に設定されています。しかし、Auth0は、現時点では環境内の特定のテナントにのみレート制限を課し、制限を超えると顧客に通知しています。プライベートクラウドのほとんどのユースケースでは、顧客が1つの運用テナントを管理しているため問題になりませんが、複数の運用テナントをセットアップしている場合には、環境にあるすべてのテナントで予期される負荷を考慮しなくてはならないため、モニタリングを追加で実装することになります。

<table class="table"><thead>
<tr>
<th><strong>Feature</strong></th>
<th><strong>Authentication API</strong></th>
<th><strong>All Other APIs (including 認証 API)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Tenant Rate Limits</td>
<td>All tenants consume from a shared, environment-wide global limit for the API, but the environment rate limit is a hard cap. Exceeding the environment limit due to the combined load across tenants will result in rate limiting of the excess requests.</td>
<td>Tenant rate limits are enforced independently, and the environment rate limit acts as a threshold for potential performance degradation and SLA impact, but does <strong>not</strong> directly cause rate limiting at the tenant level.</td>
</tr>
<tr>
<td>Environment Rate Limit Exceeded (Example)</td>
<td>With an environment limit of 1500 rps, Tenant 1 at 1400 rps and Tenant 2 at 900 rps (combined 2300 rps) will result in 800 requests being rate limited.</td>
<td>With an environment limit of 1500 rps, Tenant 1 at 1400 rps and Tenant 2 at 900 rps (combined 2300 rps) will <strong>not</strong> cause individual tenants to be rate limited, but the overall environment may experience degraded performance and potential SLA issues.</td>
</tr>
</tbody>
</table>

<Warning>

Exceeding an environment rate limit invalidates the Service Level Agreement (SLA).

</Warning>

For Private Cloud load testing considerations, refer to [Private Cloud on AWS](/docs/deploy-monitor/deploy-private-cloud/private-cloud-on-aws) and [Private Cloud on Azure](/docs/deploy-monitor/deploy-private-cloud/private-cloud-on-azure).

### プライベートクラウドでの負荷テストで考慮するべき事柄については、「[AWSのプライベートクラウド](/private-cloud-on-aws)」と「[Azureのプライベートクラウド](/deploy/private-cloud-on-azure)」を参照してください。

テナントでの要求の制限

#### Auth0は、テナントで実行できる要求の数を制限しています。これらの制限は、APIに応じて、さらには各APIのエンドポイントに応じて構成されています。

APIレート制限

* API

  + API
  + 認証
* 管理
* 本番、開発、ステージング）

For example, a free, non-production tenant could have different limits than a production tenant with a paid subscription. For specific rate limit configurations, see [Rate Limit Configurations](/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/rate-limit-configurations).

### たとえば、無料の非本番テナントの制限は有料サブスクリプションの本番テナントの制限とは異なります。特定のレート制限の構成については、「[レート制限の構成](/rate-limit-configurations)」を参照してください。

ユーザー要求

* 認証されているエンティティ（マシン、エンドユーザーの携帯電話、デスクトップアプリケーションなど）
* API Experience (e.g., New <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> or Classic Login)
* 認証フロー（ログイン、サインアップ、パスワード変更など）
* 認証フローの種類（ユーザー名/パスワードでのログイン、ソーシャルログインを使ったログイン、既存の認証トークンがすでに存在するときのログインなど）

Customers leveraging Extensibility could add still more requests, not only to the API API, but also the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>, depending on the Extensibility Configuration.
See [Rate Limit Use Cases](/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/rate-limit-use-cases) for guidance on how to estimate how your Auth0 configuration can impact your API usage.

#### エンドポイントのレート制限

Auth0は、APIエンドポイントに対して行われる要求の数を制限しており、エンドポイント運用の数を制限していることもあります。APIエンドポイントでの制限も以下によって異なります。

* API
* ソースIP
* サブスクリプションレベル

たとえば、無料の非運用テナントに対する制限は、有料のサブスクリプションを持つ運用テナントとは異なります。

### テナントでの要求の制限順序

テナントに対して要求が行われると、Auth0は、まずAPI全体の制限と、次に特定のAPIエンドポイントの制限と照らし合わせて、要求を評価します。

### その他の制限

#### データベースのログイン制限

データベース接続の場合、ユーザーアカウントやIPアドレスによっては、ある種のログイン試行の反復が制限されます。Auth0は、システムの全体的な健全性を保護するために、ユーザー/パスワードのレート制限を適用して負荷を軽減します。Auth0を過度にカスタマイズすると、サービスの質が低下する可能性があります。これは次のような原因で起こります。

* 負荷の高いストレステスト
* ベンチマークテスト
* ユーザーに何度もログインを要求する非効率なコード

Auth0 APIの各ポリシーに記載されているように、要求に制限が適用されます。

また、同一ユーザーのログインに対するレート制限もあります。1つのIPアドレスが同一のユーザーアカウントへ1分間に20回のログイン試行を行うと、レート制限が適用され、そのユーザーに対して許可されるログイン試行は1分当たり10回になります。この制限数には、成功と失敗両方のログイン試行がカウントされます。

<Card title="Limits that protect users">

Auth0's [brute-force protection](/docs/secure/attack-protection/brute-force-protection) and [suspicious IP throttling](/docs/secure/attack-protection/suspicious-ip-throttling) can also limit logins and signups, but are independent of rate limits. To learn more about how Auth0 detects and handles potentially malicious anomalies, read [Attack Protection](/docs/secure/attack-protection).

</Card>

#### 多要素認証でのSMSメッセージの制限（エンドユーザーのみ）

メッセージの制限を超えた場合、最初のメッセージ要求から少なくとも1時間待たないと、次のメッセージ要求を行えません。1時間が経過するごとに、1回の試行が許可されます。

ネイティブのソーシャルログインの制限

#### ネイティブのソーシャルログインフローの要求に適用される制限は、要求のボディーに基づいて特定され、以下の基準に従います。

パブリックパフォーマンス

<table class="table"><thead>
<tr>
<th>Request Type</th>
<th>Body</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>grant_type</code></td>
<td><code>urn:ietf:params:oauth:grant-type:token-exchange</code></td>
</tr>
<tr>
<td><code>subject_token_type</code></td>
<td><code>http://auth0.com/oauth/token-type/apple-authz-code</code></td>
</tr>
</tbody>
</table>

#### パブリックパフォーマンスオファリングは、エンタープライズサブスクリプションに利用できるアドオンで、既存のパブリッククラウドのデプロイメントを拡張します。このオファリングにより、1ヵ月​に48時間までAuthentication APIの要求制限をエンタープライズのデフォルト要求制限100 RPSの乗数へ動的に増やすことが許可されます。

現在、3つのパブリックパフォーマンス修飾子（2x、3x、4x）があり、1ヵ月​に48時間までAuthentication APIにそれぞれ200、300、400 RPSを許可します。月間割り当てから1分間隔で48時間がカウントされ差し引かれ、毎月1分間隔で2880の乗数レベルでAPIの使用を可能にします。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

This add-on only extends the API API request limits and does NOT apply to the 認証 API or other endpoints that are rate-limited outside the scope of the API API.

</Callout>

Currently, there are three パブリックパフォーマンスオファリングは、エンタープライズサブスクリプションに利用できるアドオンで、既存のパブリッククラウドのデプロイメントを拡張します。このオファリングにより、1ヵ月​に48時間までAuthentication APIの要求制限をエンタープライズのデフォルト要求制限100 RPSの乗数へ動的に増やすことが許可されます。 modifiers (2x, 3x, and 4x) allowing 200, 300, and 400 RPS, respectively, for the API API for up to 48 hours monthly. The 48 hours are counted and deducted from the monthly allowed quota in 5-minute intervals, which enables usage of the API at the multiplier level for 576 5-minute intervals each month.

When the volume of requests for the API API exceeds the default of 100 RPS, a 5-minute interval is deducted from the monthly allowance, and traffic is allowed at the rate associated with the multiplier. Traffic can stay within the multiplier range for the complete contiguous 5 minutes from that point without triggering additional deductions.

Monitoring of the interval deduction events is possible through [tenant logs](/docs/deploy-monitor/logs/log-event-type-codes). Each deduction generates an associated `appi` tenant log event type containing information about the already consumed and remaining allowance.

For more information, see the API API section in [Rate Limits - Enterprise](/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/rate-limit-configurations/enterprise-public).

#### プライベートパフォーマンスバーストオファリング（現在、AWSで30xおよび60xのレベルで​利用可能）は、最大30x（3,000 RPS）または60x（6,000 RPS）のバースト（ピーク）パフォーマンス容量を月あたり最大80時間利用できます。バーストパフォーマンス容量の半分である基本パフォーマンス容量は、その月の残りの期間利用でき​ます。

基本容量：全月1,500 RPS

バースト/ピーク容量：月間最大80時間まで3,000 RPS

* 認証トランザクションが基本API要求制限を超えてバーストした場合、月間許容量から1時間が差​し引かれます。その時点から、連続1時間にわたってトラフィックが高い率で継続する可能性があります。しきい値を再び超えると、上記の方法で追加の控除が行われます。
* 拡張性の同時並行処理制限

Auth0では、APIに対してレート制限とバースト制限が設定されます。レート制限は、システムが持続的に許可する持続可能な最大のトラフィック量で、バースト制限は、1つの時間間隔においてシステムが許可する短期的な最大のトラフィック量です。Auth0のレート制限とバースト制限は連携し、動的なトラフィック量に対して効果的な制限機能を提供します。

Auth0のレート制限は、以下の構成を含むトークンバケットアルゴリズムを使用しています。

#### この2つの数値からバースト制限と持続的レート制限が算出されます。

持続的レート制限がリスエスト毎秒（RPS）で算出される場合、新しい要求はミリ秒単位で追加されます。持続的レート制限がリスエスト毎分（RPM）で算出される場合、新しい要求は秒単位で追加されます。

<table class="table"><thead>
<tr>
<th>Subscription</th>
<th>Concurrency limit (per Tenant)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Public Cloud</td>
<td>250</td>
</tr>
<tr>
<td>Tier Dev Private Cloud</td>
<td>100</td>
</tr>
<tr>
<td>Private Cloud Basic 100 RPS (1x)</td>
<td>200</td>
</tr>
<tr>
<td>Private Cloud Performance 500 RPS (5x)</td>
<td>400</td>
</tr>
<tr>
<td>Private Cloud Performance 1500 RPS (15x)</td>
<td>1200</td>
</tr>
<tr>
<td>Private Cloud Performance 3000 RPS (30x) and 3000 RPS Burst (30x Burst)</td>
<td>1200</td>
</tr>
<tr>
<td>Private Cloud Performance 6000 RPS (60x) and 6000 RPS Burst (60x Burst)</td>
<td>1200</td>
</tr>
</tbody>
</table>

Concurrency can be calculated by multiplying expected RPS by the latency of each request. For example, a tenant that has two bound post-login Actions, which each take 250ms with a total login RPS of 400 have an expected concurrency of (2 \* (400 requests / 1 second) \* (.25 seconds / 1 request)) = 200.

Auth0はAPIに対してレート制限とバースト制限を設定しています。レート制限はシステムが持続的に許可する持続可能な最大のトラフィック量で、バースト制限は1つの時間間隔においてシステムが許可する短期的な最大のトラフィック量です。Auth0のレート制限とバースト制限は連携し、動的なトラフィック量に対して効果的な制限機能を提供します。

## Auth0のレート制限は、以下の構成を含むトークンバケットアルゴリズムを使用しています。

**バースト制限：**バケットのサイズに等しい

一般的に、レート制限のキーは2つの主要な要素に基づきます。

* **Limit keys:**

  + テナントタイプ

    - 場合によっては、以下の要素も使用されます。
    - ソースIP
  + ターゲットユーザーID

    - **持続的レート制限：**1分または1秒当たりの要求数で表した補充率
    - **バケットサイズ：** 新しい要求が追加される前に、APIまたはエンドポイントが全般に受信する要求の最大数、または特定のユーザーやIPアドレスから受信する要求の最大数です。
* **補充率：**バケットに新しい要求が追加される割合です。

  + この2つの数値からバースト制限と持続的レート制限が算出されます。
  + **Refill rate:** The rate new requests are added to the bucket.

**持続的レート制限：**1分または1秒当たりの要求数で表した補充率です。

* **Burst limit:**  Equal to bucket size.
* **Sustained rate limit:** Refill rate in requests per minute or second.

If the sustained rate limit is calculated in Requests per Second, new requests are added by milliseconds. If the sustained rate limit is calculated in Requests per Minute, new requests are added on a second basis.

## Learn more

* [Entity Limit Policy](/docs/troubleshoot/customer-support/operational-policies/entity-limit-policy)
* [Rate Limit Use Cases](/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/rate-limit-use-cases)