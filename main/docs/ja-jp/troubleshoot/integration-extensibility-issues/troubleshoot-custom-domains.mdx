---
og:description: Learn how to troubleshoot issues with custom domains.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: カスタムドメインのトラブルシューティング
og:url: https://auth0.com/docs/
permalink: troubleshoot-custom-domains
title: カスタムドメインのトラブルシューティング
twitter:description: Learn how to troubleshoot issues with custom domains.
twitter:title: カスタムドメインのトラブルシューティング
---

See the following video on common issues with <Tooltip tip="Custom Domain: Third-party domain with a specialized, or vanity, name." cta="View Glossary" href="/docs/glossary?term=custom+domains">custom domains</Tooltip> and refer to the sections below for troubleshooting steps for specific scenarios.

<iframe width="100%" height="316" src="https://www.youtube.com/embed/f6fkOkS1RFA" title="Custom Domain Issues" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

## カスタムドメインが検証待ちのままである

DNSが伝播するまでに最大48時間かかる場合があります。

* ダッシュボードにこのエラーが引き続き表示される場合は、ドメイン管理サービスでCNAMEレコードが正しく設定されていることを確認してください。CNAMEレコードの設定は、次の方法で確認できます：

  + A tool like [Mxtoolbox](https://mxtoolbox.com/DNSLookup.aspx) or [Google](https://dns.google.com)
  + ターミナルでの`dig`コマンド
* ドメイン名がAレコードにまだ関連付けられていないことを確認します。
* CNAMEレコードのドメイン名または値を入力またはコピーするときにエラーが発生していないことを確認します。

上記のことを確認してもカスタムドメインの検証がまだ保留中の場合は、ドメインを再検証する前に4時間待ってください。サービスの中断を避けるため、再検証時にカスタムドメインを再作成しないでください。

## CloudflareでのCNAMEフラット化

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Auth0 recommends turning off CNAME flattening unless it's strictly necessary, according to the Cloudflare documentation, [Understand and configure CNAME flattening](https://support.cloudflare.com/hc/en-us/articles/200169056-Understand-and-configure-CNAME-Flattening). CNAME flattening for Auth0 managed certificates is an unsupported configuration and as such may cause the custom domain to break without notice if CNAME flattening is enabled.

</Callout>

CNAMEフラット化は、DNSレコードの処理方法により、Auth0の検証および証明書の更新プロセスに影響します。カスタムドメインを設定した後、CloudfareでCNAMEフラット化を有効にしても、証明書の更新は**［not prevent（妨げられません）］**。

If you need to enable CNAME flattening for all subdomains managed by Cloudfare and also configure a specific subdomain to be an Auth0 custom domain, consider delegating the subdomain for Auth0 to another DNS provider. To learn more, read [Delegating Subdomains Outside of Cloudflare](https://support.cloudflare.com/hc/en-us/articles/360021357131-Delegating-Subdomains-Outside-of-Cloudflare) in the Cloudflare documentation. This will enable you to use CNAME flattening for all subdomains except the one used for Auth0.

## 「このエンドポイントに到達しないでください」

If you see this error when configuring a custom domain, you must perform additional configurations, which varies depending on your setup. To learn more, see [Configure Features to Use Custom Domains](/docs/customize/custom-domains/configure-features-to-use-custom-domains).

## 「サービスが見つかりません」

If your application issues an `/authorize` request with `audience=https://login.northwind.com/userinfo`, the server will return a `Service not found: https://login.northwind.com/userinfo` error. This is because even if you set a custom domain the API identifier for the `/userinfo` endpoint remains `https://{yourOriginalAuth0Domain}/userinfo`.

Similarly, using your custom domain in calls to the [Auth0 Management API](https://auth0.com/docs/api/management/v2) will error for the same reason.

To fix this your app should instead use `audience=https://{yourOriginalAuth0Domain}/userinfo`. You can also remove this `audience=[...]/userinfo` parameter altogether if your application is flagged as **OIDC-Conformant** in the **OAuth2** tab of the application's **Advanced Settings**.

## Internet Explorerに関連するエラー

Internet Explorerを使用している場合は、次のいずれかのエラーメッセージが表示されることがあります：

* 「クライアントから検証が返されませんでした」
* 「Originヘッダーが必要です」
* 「クロスオリジン認証に失敗しました」

Auth0ドメインとアプリドメインの両方が同じ信頼済みゾーンまたはローカルイントラネットゾーンにある場合、Internet Explorerは要求をクロスドメイン要求として扱わず、クロスオリジンヘッダーを送信しません。

これらのエラーのいずれかが表示され、埋め込みログインを使用している場合は、サイトの1つを信頼済みゾーンまたはローカルイントラネットゾーンから移動することができます。このためには、次の手順に従います。

1. Go to **Internet Options > Security**.
2. Select the **Local Intranet Zone** tab and go to Sites > Advanced. Add your domain.
3. Return to the **Security** tab, and make sure the proper zone has been selected.
4. Click **Custom Level** and look for **Access data sources across domains** under the **Miscellaneous** section. Check the radio button next to **Enable**.

Alternatively, you can remove reliance on cross-origin authentication by implementing [Auth0 Universal Login](/docs/authenticate/login/auth0-universal-login).

## Learn more

* [Configure Features to Use Custom Domains](/docs/customize/custom-domains/configure-features-to-use-custom-domains)
* [Configure Custom Domains with Auth0-Managed Certificates](/docs/customize/custom-domains/auth0-managed-certificates)
* [Configure Custom Domains with Self-Managed Certificates](/docs/customize/custom-domains/self-managed-certificates)
* [TLS (SSL) Versions and Ciphers](/docs/customize/custom-domains/self-managed-certificates/tls-ssl)