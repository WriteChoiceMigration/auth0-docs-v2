---
og:description: Describes how to troubleshoot common SAML related errors.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: SAMLエラーのトラブルシューティング
og:url: https://auth0.com/docs/
permalink: saml-errors
title: SAMLエラーのトラブルシューティング
twitter:description: Describes how to troubleshoot common SAML related errors.
twitter:title: SAMLエラーのトラブルシューティング
---

## 無効な要求 - 接続が無効です

### 理由

このメッセージは、アプリケーションにアクティブな接続が関係付けられていないことを示しています。

### 解決策

1. Go to [Authentication > Enterprise](https://manage.auth0.com/#/connections/enterprise).
2. Click **SAML**.
3. Click on the connection you want to check.
4. Click the **Applications** tab.
5. Enable at least one application (if you don't see any in the list, you will need to [create an application](/docs/get-started/applications) before proceeding).

## IdP起点のデフォルトアプリが構成されていません

### 理由

This error appears if you haven't provided the necessary information to support <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=IdP">IdP</Tooltip>-initiated login flows.

### 解決策

1. Go to [Authentication > Enterprise](https://manage.auth0.com/#/connections/enterprise).
2. Click **SAML**
3. Click on the connection you want to check.
4. Switch to the **IdP-Initiated SSO** tab.
5. Select **Accept Requests** and select the **Default Application** and the **Response Protocol** used by that application, and (optionally) specify any additional parameters you want to be passed to the application.
6. Click **Save Changes**.

<Card title="Troubleshooting SP-initiated login">

If you see this error when using a SP-initiated flow, one of the following is missing or empty:

* The `RelayState` parameter
* The `InResponseTo` attribute in the SAML response

If these are missing or empty, Auth0 treats the login as IdP-initiated. You can fix this error by checking your configuration to ensure that both fields are populated and returned appropriately.

</Card>

## RelayStateパラメーターがありません

### 理由

このエラーは、IDプロバイダーが応答で`RelayState`パラメーターを返さない場合に発生します。

### 解決策

IDプロバイダーに問い合わせて、`RelayState`パラメーターが必ず返されるようにしてください。

## オーディエンスが無効です

This error occurs if the value of the `audience` element from the identity provider's <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> response doesn't match the value expected by Auth0. Auth0 expects the value to be the Entity ID for the connection.

### 解決策

1. Go to [Authentication > Enterprise](https://manage.auth0.com/#/connections/enterprise).
2. Click **SAML**.
3. Click on the connection you want to check.
4. On the **Setup** tab, under the **Common Settings** section, your **Entity ID** is the second parameter provided. Make sure that the identity provider sends the correct `audience` value in the SAML response.

## 不正なプロトコルが指定されました

There is an incorrect response protocol on the **IdP-Initiated** tab. The response protocol is the one used between Auth0 and the Application (not the remote identity provider). For example, if you set this value to **SAML** when your application expects **<Tooltip tip="OpenID: Open standard for authentication that allows applications to verify users' identities without collecting and storing login information." cta="View Glossary" href="/docs/glossary?term=OpenID">OpenID</Tooltip> Connect** or **<Tooltip tip="OpenID: Open standard for authentication that allows applications to verify users' identities without collecting and storing login information." cta="View Glossary" href="/docs/glossary?term=WS-Fed">WS-Fed</Tooltip>** results in errors due to the incorrect configuration.

### 解決策

1. Go to [Authentication > Enterprise](https://manage.auth0.com/#/connections/enterprise).
2. Click **SAML**.
3. Click on the connection you want to check.
4. On the **Settings** tab, check the value you have set in the **Response Protocol** field.

## ユーザーがIdPからログアウトしていません

ADFSがSAML IdPとして構成されている場合、ADFSの証明書利用者信頼の`Name ID`属性がマッピングされていないと、ログアウトフローが失敗します。たとえば、フェデレーションパラメーターの`v2/logout?federated&...`では、ユーザーはADFS SAMLログアウトエンドポイントにリダイレクトされずに、アプリケーションのコールバックURLに直接リダイレクトで戻されます。この場合、結果的に、ユーザーはIdPからログアウトされません。

### 解決策

IdP起点のSSOを使用したい場合には、［SAML Identity Provider（SAML IDプロバイダー）］に移動して、接続パラメーターを必ずポストバックURL（別称Assertion Consumer Service URL）[推奨されるCallback URL]に含めます。