---
og:description: Learn how to call your API from a machine-to-machine (M2M) application
  using the Client Credentials Flow.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: クライアントの資格情報フローを使用してAPIを呼び出す
og:url: https://auth0.com/docs/
permalink: call-your-api-using-the-client-credentials-flow
title: クライアントの資格情報フローを使用してAPIを呼び出す
twitter:description: Learn how to call your API from a machine-to-machine (M2M) application
  using the Client Credentials Flow.
twitter:title: クライアントの資格情報フローを使用してAPIを呼び出す
---



Auth0では、アプリケーションがクライアントの資格情報フローを手軽に実装できます。認証に成功すると、アプリケーションはアクセストークンを使用して、保護されたAPIを呼び出せるようになります。アクセストークンの詳細については、「[アクセストークン](/security/tokens/access-tokens)」をお読みください。

## 前提条件

**このチュートリアルを始める前に：**

* [APIをAuth0に登録する](/get-started/set-up-apis)

* [適切なAPIのアクセス許可を追加](/apis/add-api-permissions)
* [Auth0にM2Mアプリケーションを登録する](/get-started/create-apps/machine-to-machine-apps)

* **［Application Type（アプリケーションの種類）］**に**［Machine to Machine Applications（マシンツーマシンアプリケーション）］**を選択します。
* 以前に登録したAPIを選択します。
* M2MアプリケーションがAPIを呼び出せるように認可します。

## 手順

1. [トークンを要求する](#request-tokens)： 
認可済みのアプリケーションからAPIのアクセストークンを要求します。
2. [APIを呼び出す](#call-api)： 
取得したアクセストークンを使ってAPIを呼び出します。

任意：[サンプルユースケースを参考にしてください](#sample-use-cases)

### トークンを要求する

APIにアクセスするには、そのAPIのアクセストークンを取得しなければなりません。これを行うには、`POST`を[トークンURL](/api/authentication#client-credentials)に対して実行する必要があります。

#### トークンURLに対するPOSTの例



##### パラメーター



#### 応答

正常な場合には、`HTTP 200`応答で`access_token`、`token_type`、および`expires_in`の値を含むペイロードを受け取ります。
 




### APIを呼び出す

M2MアプリケーションからAPIを呼び出すには、アプリケーションは、取得したアクセストークンをベアラートークンとしてHTTP要求の認可ヘッダーで渡さなければなりません。



### サンプルユースケース

#### トークンをカスタマイズする

[Actions](/actions)を使用すると、カスタムロジックに基づいてアクセストークンを拒否したり、アクセストークンにクレームを追加したりできます。クライアント資格情報が実行時に提示されると、Auth0はそれにアタッチされたアクションを呼び出して、カスタムロジックを実行します。

Actionsの詳細については、「[マシンツーマシンフロー](/actions/explore-triggers/machine-to-machine-trigger)」をお読みください。

#### サンプルアプリケーションの表示：サーバークライアント + API

サンプルの実装については、[サーバークライアント + API](/architecture-scenarios/application/server-api)アーキテクチャのシナリオを参照してください。この一連のチュートリアルには、付録に[GitHubで提供されているコードのサンプル](https://github.com/auth0-samples/auth0-pnp-exampleco-timesheets)があります。

APIが要求と一緒に受信したアクセストークンは、必ず検証されます。詳細については、「[アクセストークンを検証する](/security/tokens/access-tokens/validate-access-tokens)」をお読みください。