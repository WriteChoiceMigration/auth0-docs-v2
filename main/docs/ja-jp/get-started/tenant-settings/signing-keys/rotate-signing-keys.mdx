---
og:description: Learn how to rotate your tenant's application or API signing key using
  the Auth0 Dashboard or the Management API.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 署名鍵をローテーションする
og:url: https://auth0.com/docs/
permalink: rotate-signing-keys
title: 署名鍵をローテーションする
twitter:description: Learn how to rotate your tenant's application or API signing
  key using the Auth0 Dashboard or the Management API.
twitter:title: 署名鍵をローテーションする
---

署名鍵を定期的に手動でローテーションして、アプリケーションやAPIがトークンの検証に使用するJSON Web Key（JWK）を変更することができます。アプリケーションまたはAPIがこのキー変更を許可**せず**、トークンの検証に期限の切れた署名鍵を使おうとした場合は、認証要求が失敗します。



Auth0は一度に1つの署名鍵しか署名しませんが、テナントのOpenID Connect（OIDC）ディスカバリーには常に複数のキーが含まれています。OIDCディスカバリーには常に現在のキーと次のキーの両方が含まれています。以前のキーが取り消されていない場合には、それも含まれています。緊急の状況でも速やかに動作するように、アプリケーションがディスカバリーにあるどのキーでも使用できるようにしておきます。OpenID Connectディスカバリーについては、「[JSON Web Key Setを見つける](/security/tokens/json-web-tokens/locate-json-web-key-sets)」をお読みください。



Auth0 DashboardやManagement APIを使用すると、テナントのアプリケーションの署名鍵をローテーションすることができます。

## Dashboardの使用

1. [［Dashboard］>［Settings（設定）］>［Signing Keys（署名鍵）］](%24%7Bmanage_url%7D/#/tenant/signing_keys)に移動します。
2. **［Rotation Settings（ローテーション設定）］**の下から、**［Rotate Signing Key（署名鍵のローテーション）］**を見つけ、**［Rotate Key（キーのローテーション）］**を選択します。
3. **［Rotate（ローテーション）］**をクリックして確定します。

## Management APIの使用

1. 署名鍵のリストを取得するには、[全アプリケーション署名鍵の取得](/api/management/v2#!/Keys/get_signing_keys)エンドポイントに`GET`呼び出しを行います。
2. 署名鍵をローテーションするには、[アプリケーション署名鍵のローテーション](/api/management/v2#!/Keys/post_signing_keys)エンドポイントに`POST`呼び出しを行います。`MGMT_API_ACCESS_TOKEN`プレースホルダーの値をManagement APIのアクセストークンで置き換えてください。

## キーのローテーションによる影響

### アクセストークンを受け入れるAPIとAPIゲートウェイ

ほとんどのミドルウェアとAPIゲートウェイは、JSON Web Key Set（JWKS）エンドポイントを利用して、特定の間隔で現在の署名鍵と次の署名鍵を取得します。ミドルウェアやAPIゲートウェイがこのエンドポイントをサポートして**おらず**、`*.cer`ファイルの手動設定が必要な場合は、Auth0での署名キーのローテーションとミドルウェアおよびゲートウェイの再構成を調整する必要があります。

### 通常のWebアプリケーション

Auth0で署名鍵をローテーションする場合には、WS-FedやSAMLを利用するアプリケーションを再構成して調整する必要があります。これは通常、新しい公開証明書のアップロードや、WS-Fed/SAMLメタデータURLを追加してアプリケーションを再構成した際に起こります。これにより、アプリケーションがトークンの検証に使用するJWKSキーが変更されてしまいます。実装でJWKSキーが変わらないと想定されていないことを確認してください。