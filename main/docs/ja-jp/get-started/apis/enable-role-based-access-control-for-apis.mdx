---
og:description: Learn how to enable role-based access control (RBAC) for an API using
  the Auth0 Dashboard or the Management API.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: APIにロールベースのアクセス制御（RBAC）を有効にする
og:url: https://auth0.com/docs/
permalink: enable-role-based-access-control-for-apis
title: APIにロールベースのアクセス制御（RBAC）を有効にする
twitter:description: Learn how to enable role-based access control (RBAC) for an API
  using the Auth0 Dashboard or the Management API.
twitter:title: APIにロールベースのアクセス制御（RBAC）を有効にする
---

Auth0 DashboardまたはManagement使用して、APIに[ロールベースのアクセス制御（RBAC）](/rbac)を有効化することができます。これにより、APIの認可コア機能セットが有効になります。

RBACを有効にすると、アクセストークンに権限が含まれているかにかかわらず、要求された権限とユーザーに割り当てられた権限の共通部分がアクセストークンの`scope`クレームに含まれます。RBACを無効にすると、アプリケーションがAPIに定義された任意の権限を要求できるようになり、`scope`クレームには要求されたすべての権限が含まれます。



## Dashboard

1. [［Dashboard］>［Applications （アプリケーション）］>［API］](%24%7Bmanage_url%7D/#/apis)に移動し、表示するAPI名をクリックします。
2. **［RBAC Settings（RBACの設定）］**までスクロールして、**［Enable RBAC（RBACを有効にする）］**トグルを有効にします。
3. ユーザーに割り当てられたすべての権限をアクセストークンの`permissions`クレームに含めるには、**［Add Permissions in the Access Token（アクセストークンに権限を追加する）］**トグルを有効にして、**［Save（保存）］**をクリックします。アクセストークンに権限を含めると、最小限の呼び出しで権限を取得できますが、トークンのサイズは大きくなります。**［Add Permissions in the Access Token（アクセストークンに権限を追加する）］**トグルを有効にすると、Auth0はAPIに設定された[アクセストークンプロファイル](/access-token-profiles)を基に、トークンのダイアレクトも更新します。

* トークンのダイアレクトが`access_token`の場合、Auth0はこれを`access_token_authz`に更新します。これは、`permissions`クレームを含む`access_token`プロファイルと同等です。
* トークンのダイアレクトが`rfc9068_profile`の場合、Auth0はこれを`rfc9068_profile_authz`に更新します。これは、`permissions`クレームを含む`rfc9068_profile`と同等です。

使用可能なトークンのダイアレクトについては、「[トークンのダイアレクトオプション](#token-dialect-options)」をお読みください。

## Mangement API

Management APIを使用してRBACを有効にするには、[リソースサーバー更新エンドポイント](https://auth0.com/docs/api/management/v2/resource-servers/patch-resource-servers-by-id)にPATCH要求を行います。PATCH要求で、`enforce_policies`を`true`に設定します。



以下の表が示すように、`API_ID`、`MGMT_API_ACCESS_TOKEN`、`TOKEN_DIALECT`をそれぞれの値に置き換えます。



### トークンのダイアレクトオプション

Auth0は以下のトークンダイアレクトに対応しています。