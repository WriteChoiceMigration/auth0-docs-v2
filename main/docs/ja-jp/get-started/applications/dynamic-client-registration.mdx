---
og:description: Learn how to dynamically register applications with Auth0 using the
  Management API.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 動的なアプリケーション登録
og:url: https://auth0.com/docs/
permalink: dynamic-client-registration
title: 動的なアプリケーション登録
twitter:description: Learn how to dynamically register applications with Auth0 using
  the Management API.
twitter:title: 動的なアプリケーション登録
---

テナントに対して、サードパーティーのアプリケーションを動的に登録することができます。この機能は、[OpenID Connect Dynamic Client Registrationの仕様](https://openid.net/specs/openid-connect-registration-1_0.html)に基づいています。

## 動的なクライアント登録を有効にする



デフォルトで、動的なアプリケーション登録はすべてのテナントで無効になっています。これを変更するには、テナントの設定で`enable_dynamic_client_registration`フラグを`true`に設定する必要があります。

このためには、[［Dashboard］>［Settings（設定）］>［Advanced（詳細）］](%24%7Bmanage_url%7D/#/tenant/advanced)の順に移動し、**［OIDC Dynamic Application Registration（OIDCの動的なアプリケーション登録）］**を有効にします。

または、Management API [`/Tenant/patch_settings`](/api/management/v2#!/Tenants/patch_settings)エンドポイントを使用してこのフラグを更新することができます。 

`update:tenant_settings`スコープを含む有効なトークンで、`API2_ACCESS_TOKEN`を更新する必要があります。詳細については、「[Management APIのアクセストークン](/security/tokens/access-tokens/management-api-access-tokens)」をお読みください。

## 動的なクライアント登録を使用する

このセクションでは、どのようにアプリケーションを動的に登録し、設定することができるかをご紹介します。

### アプリケーションの登録を

Auth0でアプリケーションを動的に登録するには、HTTP `POST`メッセージをアプリケーション登録エンドポイント`https://${account.namespace}/oidc/register`に送信する必要があります。Auth0は**Open Dynamic Registration（オープンな動的登録）**に対応しており、エンドポイントはアクセストークンなしに登録要求を受け入れます。

「`My Dynamic application`」という名前で、コールバックURLが`https://application.example.com/callback`と`https://application.example.com/callback2`に指定されているアプリケーションを作成するには、以下のスニペットを使用します。



ここでは、

* **client_name**：作成するDynamic Application（動的アプリケーション）の名前
* **redirect_uris**（必須）：Auth0が認証フローの終了時に呼び出すのに有効であるとみなすURLの配列

または、`token_endpoint_auth_method`の値を設定することができます。これは、`none`または`client_secret_post`（デフォルト値）のいずれかで指定します。SPAを作成する場合、要求のペイロードで`token_endpoint_auth_method: none`を使用します。

応答には基本的なアプリケーション情報が含まれます。



ここでは、

* **client_id**：一意のクライアント識別子。アプリケーションでAuth0を使用するよう構成するときに使用するIDです。これはシステムで生成され、変更することはできません。
* **client_secret**：英数字の64ビットのクライアントシークレット。Authentication API [`/token`](/api/authentication#get-token)への認証と、IDトークンの検証にアプリケーションで使用される値です。
* **client_secret_expires_at**：`client_secret`が期限切れする時刻。Auth0では、この値は常にゼロ（`0`）で、アプリケーションが期限切れになることはありません。

クライアントIDとクライアントシークレットは、認証および認証フローの実行に最も重要な要素であるため、メモしておいてください。詳細については、「[認証フローと認可フロー](/login/flows)」をお読みください。

さらに、サードパーティーの開発者がアプリケーション設定を変更することはできないことに留意します。必要な場合は、その要求に関して、テナント所有者に問い合わせる必要があります。

### アプリケーションを構成する

クライアントIDとシークレットが揃ったら、Auth0でユーザー認証を行うためにアプリケーションを構成することができます。

簡単なサンプルを通じて、[暗黙的フロー](/login/flows/implicit-flow-with-form-post)を使用してクライアント側のWebアプリからAPIを呼び出す方法をご紹介します。

まず、ユーザーを認可URLに送信するようにアプリケーションを構成する必要があります。

ここでは、

* **audience**（任意）：アプリケーションがユーザーに代わってアクセスを要求しているターゲットAPI。APIアクセスが必要な場合、このパラメーターを設定します。
* **scope**（任意）：認可を要求したいスコープ。スペースで区切る必要があります。ユーザーの[標準OIDCスコープ](https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims)（`profile`や`email`など）、名前空間の形式に準拠しなければならないカスタムクレーム、またはターゲットAPIでサポートされているスコープ（`read:contacts`など）を要求することができます。APIアクセスが必要な場合、このパラメーターを設定します。詳細については、「[APIスコープ](/apis/scopes/api-scopes)」をお読みください。
* **response_type**：応答タイプ。暗黙的な付与の場合、`token`または`id_token token`を使用することができます。これで、フローの終了時に受け取るトークンの種類が指定されます。`token`を使用してアクセストークンのみを取得するか、`id_token token`を使用してIDトークンとアクセストークンの両方を取得します。
* **client_id**：アプリケーションのクライアントID
* **redirect_uri**：認可がユーザーによって付与された後、認可サーバー（Auth0）がユーザーエージェント（ブラウザー）をリダイレクトするURL。アクセストークン（および任意でIDトークン）は、このURLのハッシュフラグメントで使用することができます。このURLは、アプリケーションの**［Application Settings（アプリケーション設定）］**で有効なコールバックURLとして指定される必要があります。
* **state**：アプリケーションにリダイレクトするときに認可サーバーに含まれる初期要求にアプリケーションが追加する不透明な値。この値は、CSRF攻撃を防ぐためににアプリケーションで使用される必要があります。
* **nonce**：Auth0からのIDトークンの要求に含まれる文字列値で、トークンのリプレイ攻撃を防ぐのに使用されます。`response_type=id_token token`に必要です。

例：

この呼び出しによってユーザーはAuth0にリダイレクトされ、認証に成功すると、アプリケーションに戻ります（具体的には**redirect_uri**にリダイレクトされます）。

APIアクセスを必要とする場合は、認証後にURLのハッシュフラグメントからアクセストークンを抽出し、これを使ってAPIへのを呼び出しを行う必要があります。そのためには、アクセストークンをHTTP要求の`Authorization`ヘッダーで`Bearer`トークンとして渡します。