---
og:description: Learn how to configure Auth0 to pass the OpenID FAPI Certification
  Tests.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: OpenID FAPI認定テストに合格するようにAuth0を構成する
og:url: https://auth0.com/docs/
permalink: configure-auth0-to-pass-openid-fapi-certification-tests
title: OpenID FAPI認定テストに合格するようにAuth0を構成する
twitter:description: Learn how to configure Auth0 to pass the OpenID FAPI Certification
  Tests.
twitter:title: OpenID FAPI認定テストに合格するようにAuth0を構成する
---

このセクションには、[OpenID FAPI適合性テスト](https://openid.net/certification/certification-fapi_op_testing/)を使用してソリューションをテストする場合にクライアントを構成する方法に関するアドバイスが含まれています。

OpenID FAPI適合性テストに合格するには、まず次の設定を行います。

* `compliance_level`プロパティを、`fapi1_adv_pkj_par`または`fapi1_adv_mtls_par`のいずれかの目的のプロファイルに設定します
* [mTLS（](/configure-mtls)[mTLS](/get-started/applications/configure-mtls/configure-mtls-for-a-tenant#enable-mtls-aliases)[エイリアスを含む）を構成](/configure-mtls)するか、[秘密鍵JWTを構成](/applications/configure-private-key-jwt)
* [mTLSトークンバインディングを構成します](/get-started/applications/configure-mtls/configure-mtls-for-a-client#enable-token-binding)

次に、以下の手順に従ってOpenID FAPI適合テストの構成を完了します。

* [Auth0がユーザーに同意を求めるプロンプトを表示するようにします](#ensure-auth0-prompts-users-for-consent)
* [テナントに対してサポートされているACRクレームを構成します](#configure-supported-acr-claims-for-the-tenant-)
* [JWKSエンドポイントからalgプロパティを削除します](#remove-the-alg-property-from-jwks-endpoint)
* [スコープとredirect_uriを要求するアクションを追加します](#add-action-to-require-scope-and-redirect_uri)

### Auth0がユーザーに同意を求めることを確認する

Auth0がユーザーに同意を求めることを確認する必要があります。クライアントがファーストパーティアプリとして構成されており、リソースサーバーまたはAPIがファーストパーティアプリの同意のスキップをサポートしている場合は、この手順をスキップできます。Auth0がユーザーに同意を求めるようにするには、クライアントの`is_first_party`プロパティを`false`に設定します。



次に、以下のように接続をドメインレベルに昇格します。



#### テナントに対してサポートされているACRクレームを構成します

FAPIテストは、`urn:mace:incommon:iap:silver`の必須ACR値を渡します。IDトークンに必要なACR値を含めるには、以下のようにテナントでサポートされているACR値のリストに`urn:mace:incommon:iap:silver`を追加します。



#### JWKSエンドポイントから`alg`プロパティを削除します

キーをRS256だけでなく複数のアルゴリズムで使用できるようにするには、`/.well-known/jwks.json`エンドポイントの出力からテナントの`alg`プロパティを削除します。



#### スコープと`redirect_uri`を要求するアクションを追加します

デフォルトでは、Auth0はスコープのない要求を許可します。スコープが存在しない場合は、`openid`スコープであると想定します。Auth0は、[アクション](/signup-and-login-triggers/login-trigger/redirect-with-actions)で設定できる`redirect_uri`のない要求も許可します。ただし、FAPI適合テストでは、Auth0の制限を強化する必要があります。

次のアクションを追加して、スコープと`redirect_uri` に必要な制限を適用します。