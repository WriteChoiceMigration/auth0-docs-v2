---
og:description: Learn how to configure single sign-on (SSO) for the Auth0 Dashboard.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Auth0 Dashboardのシングルサインオンを構成する
og:url: https://auth0.com/docs/
permalink: configure-single-sign-on-for-auth0-dashboard
title: Auth0 Dashboardのシングルサインオンを構成する
twitter:description: Learn how to configure single sign-on (SSO) for the Auth0 Dashboard.
twitter:title: Auth0 Dashboardのシングルサインオンを構成する
---

<Card title="Before you start">

* Subscribe to an Enterprise plan. For more information, read [Manage Subscriptions](/docs/troubleshoot/customer-support/manage-subscriptions).
* Determine whether you're using Public Cloud or Private Cloud. For Private Cloud-related prerequisites to these instructions, see [Deploy Private Cloud](/docs/deploy-monitor/deploy-private-cloud).

</Card>

You can configure Auth0 to allow [Tenant Members](/docs/get-started/manage-dashboard-access) to use your own [Enterprise identity provider](/docs/authenticate/identity-providers/enterprise-identity-providers) (<Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=IdP">IdP</Tooltip>) to authenticate to the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip> through <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=single+sign-on">single sign-on</Tooltip> (SSO).

## 仕組み

DashboardのSSOを構成するには、Auth0サポートと連携し、ルートテナント権限（RTA）にエンタープライズ接続を追加する必要があります。これにより、テナントメンバーがDashboardにログインする際に利用可能な認証方法が管理されます。

Adding this SSO connection does not restrict Tenant Members from logging in using the existing authentication methods (such as email/password, [LinkedIn](https://marketplace.auth0.com/integrations/linkedin-social-connection), [Microsoft](https://marketplace.auth0.com/integrations/microsoft-account-social-connection), [GitHub](https://marketplace.auth0.com/integrations/github-social-connection), or [Google](https://marketplace.auth0.com/integrations/google-social-connection)).

DashboardのSSOを構成することで、すべての公開Auth0サイトを有効にします。例：

* Auth0 website (https://auth0.com)
* Auth0 Community (https://community.auth0.com)
* Auth0 Docs (https://www.auth0.com/docs)
* Auth0 Support Center (https://support.auth0.com)

### ユーザーエクスペリエンス

When an authorized user goes to log in to the Dashboard, they enter their email address for a registered domain (for example, `user@example.com`) into the Auth0 <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> page, and then are redirected to your IdP to complete authentication.

### 制限事項

DashboardのSSOの構成を決定する前に、制限について考慮してください。

* SSOは特定のテナントに制限されません。
* SSOはIdP起点認証フローをサポートしません。
* Tenant Member invitations cannot be automated or sent in bulk with the Auth0 <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>.
* テナントメンバーアクセスは、IdPのグループメンバーシップによって管理できません。
* <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=MFA">MFA</Tooltip> cannot be enforced for all members of a tenant.

### 考慮事項

#### Dashboardへの完全なディレクトリアクセス

テナントメンバーがログインできるようにIdPを利用可能な接続として追加すると、IdPのディレクトリの全ユーザーはDashboardにアクセスできるようになります。しかし、特定のテナントに招待されたテナントメンバーのみが、そのテナントにアクセスできます。

招待されていないユーザーがDashboardでテナントにアクセスしようとすると、システムがその操作を拒否します。ユーザーがどのテナントにも属していない場合は、システムがユーザーに[ユーザープロファイルの完成](#complete-user-profiling)と新しいトライアルテナントの作成を求めます。新たに作成されたトライアルテナントは、エンタープライズプランには関連付けられません。

#### 残存テナントメンバーのID

新しい接続で作成されたものとは異なるIDを使用して、Dashboardのテナントにテナントメンバーが招待された場合（アクセスも持つ場合）、依然として技術的にそのIDを使用してテナントにアクセスできます。

古いIDを削除するか、潜在的な代替の認証方法として保持するか決めなければなりません。

## Dashboardに対するSSOを構成する

Dashboardに対するSSOを構成するには、お客様とAuth0サポートの間で共有された一連の手順が必要です。

### IdPの構成データを共有する

[Open a ticket with Auth0 Support](/docs/troubleshoot/customer-support/open-and-manage-support-tickets) to share your IdP’s configuration data so they can set up the SSO configuration. Include the following information when you submit your ticket:

* SSO構成に関連付けたいメールドメイン
* IdPの名前
* 認証プロトコル
* IdP固有の追加情報

使用したいIdPと認証プロトコルに応じて、追加の構成手順が必要です。

#### ADFS（SAML）

1. [Create a Relying Party Trust](https://learn.microsoft.com/en-us/windows-server/identity/ad-fs/operations/create-a-relying-party-trust#to-create-a-claims-aware-relying-party-trust-manually) with the following properties:

   <table class="table"><thead>
   <tr>
   <th><strong>Property</strong></th>
   <th><strong>Values</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Entity ID</td>
   <td>`urn:auth0:auth0:{assignedConnectionName}`</td>
   </tr>
   <tr>
   <td>Callback endpoint</td>
   <td>`https://auth0.auth0.com/login/callback`</td>
   </tr>
   </tbody>
   </table>
2. [Add a claim description](https://learn.microsoft.com/en-us/windows-server/identity/ad-fs/operations/add-a-claim-description) for each of the following claims:

   <table class="table"><thead>
   <tr>
   <th><strong>Claim</strong></th>
   <th><strong>Claim identifier</strong></th>
   <th><strong>Value</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Name Identifier</td>
   <td><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier</code></td>
   <td><code>E-Mail-Addresses</code> or <code>User-Principal-Name</code></td>
   </tr>
   <tr>
   <td>Email Address</td>
   <td><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress</code></td>
   <td>N/A</td>
   </tr>
   <tr>
   <td>Name</td>
   <td><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name</code></td>
   <td>N/A</td>
   </tr>
   </tbody>
   </table>
3. Enable the SAML 2.0 endpoint.
4. Provide Auth0 Support with the following information:

   * Login endpoint (for example, `https://{yourServer}/adfs/ls`)
   * 署名証明書、またはSAMLメタデータXMLファイル

#### Azure ID（OIDC）

1. [Create a new App registration](https://learn.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app).
2. Set the **Redirect URI** type to Web, and the value to `https://auth0.auth0.com/login/callback`.
3. Select **Register**.
4. [Enable the Implicit Grant](https://learn.microsoft.com/en-us/azure/active-directory/develop/v2-oauth2-implicit-grant-flow#send-the-sign-in-request) for the ID Token.
5. [Add the email claim](https://learn.microsoft.com/en-us/azure/active-directory/develop/active-directory-optional-claims) to the ID Token.
6. Provide Auth0 Support with the following information:

   * アプリケーション（クライアント）ID
   * The OIDC metadata endpoint (for example, `https://login. microsoftonline.com/{yourAzureAdTenantId}/v2.0/.well-known/openid-configuration`)

#### Azure ID（SAML）

1. [Create a new Enterprise Application](https://learn.microsoft.com/en-us/azure/active-directory/manage-apps/add-application-portal).
2. Set up [single sign-on for SAML](https://learn.microsoft.com/en-us/azure/active-directory/develop/single-sign-on-saml-protocol) with the following properties (you may need to use placeholder values until Auth0 Support can provide you with the SSO connection’s name):

   <table class="table"><thead>
   <tr>
   <th><strong>Property</strong></th>
   <th><strong>Value</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Identifier (Entity ID)</td>
   <td>`urn:auth0:auth0:{assignedConnectionName}`</td>
   </tr>
   <tr>
   <td>Reply (ACS) URL</td>
   <td>`https://auth0.auth0.com/login/callback`</td>
   </tr>
   <tr>
   <td>Sign-on URL</td>
   <td>`https://manage.auth0.com/login?connection={assignedConnectionName}`</td>
   </tr>
   </tbody>
   </table>

3. Leave the **Attributes & Claims** section - including `email`, `Unique User Identifier`, and optionally `name -` unchanged from Azure's suggestions.
4. Provide Auth0 Support with the SAML metadata XML data. You can either:

   * Share the App Federation Metadata URL (for example, `https://login.microsoftonline.com/{azureAdTenantId}/federationmetadata /2007-06/federationmetadata.xml?appid={appId}`).
   * フェデレーションメタデータXMLドキュメントをダウンロードし、チケットに添付します。

#### Google（SAML）

Auth0 supports configuring SSO for the Dashboard with a Google <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> IdP, but it’s recommended that you direct users to log in with the existing Google authentication method.

ユーザーがGoogle SAML IdPにログインする場合、わかりにくいですが、Auth0は、そのために新しいユーザーIDを作成します（既存のGoogleユーザーIDとは別）。

Google SAML IdPでDashboardのSSOをセットアップしたい場合、「[ジェネリックIdP（SAML）](#generic-idp-saml)」をお読みください。

#### Okta（SAML）

1. Create a SAML application with the following properties (you may need to use placeholder values until Auth0 Support can provide you with the SSO connection’s name):

   <table class="table"><thead>
   <tr>
   <th><strong>Property</strong></th>
   <th><strong>Value</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Entity ID</td>
   <td>`urn:auth0:auth0:{assignedConnectionName}`</td>
   </tr>
   <tr>
   <td>Callback endpoint (ACS URL)</td>
   <td>`https://auth0.auth0.com/login/callback`</td>
   </tr>
   </tbody>
   </table>

2. Set the **Name Identifier** to send the email address of the user.
3. Provide Auth0 Support with the SAML metadata XML data. You can either:

   * SAMLメタデータXMLURLを共有します：

     1. Locate the **SAML Signing Certificates** section.
     2. Select the **Actions** menu.
     3. Select **View IdP metadata**, and then select **Copy Link Address**. It will have this format: `https://{org}.okta.com/app/{appId}/sso/saml/metadata`.
   * SAMLメタデータXMLファイルをダウンロードし、チケットに添付します。

##### IdP起点認証フロー

DashboardのSSOは、IdP起点認証フローをサポートしません。ユーザーがDashboardにログインする際にチクレットを選択できるようにするには、次の手順が必要です。

1. Hide the SAML app from users.
2. [Create a Bookmark App](https://help.okta.com/en/prod/Content/Topics/Apps/Apps_Bookmark_App.htm) that points to `https://manage.auth0.com/login?connection={assignedConnectionName}`. This is the application that users will be able to select to log in.

SAMLアプリケーションとブックマークアプリの両方を、同じユーザーのセットに対して有効にし、アプリケーションを使用できるようにしてください。

#### OneLogin（SAML）

1. Create a SAML Test Connector (SP) with the following properties (you may need to use placeholder values until Auth0 Support can provide you with the SSO connection’s name):

   <table class="table"><thead>
   <tr>
   <th><strong>Property</strong></th>
   <th><strong>Value</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Entity ID</td>
   <td>`urn:auth0:auth0:{assignedConnectionName}`</td>
   </tr>
   <tr>
   <td>Callback endpoint (ACS URL)</td>
   <td>`https://auth0.auth0.com/login/callback`</td>
   </tr>
   <tr>
   <td>Login URL</td>
   <td>`https://manage.auth0.com/login?connection={assignedConnectionName}`</td>
   </tr>
   </tbody>
   </table>
2. Provide Auth0 Support with the SAML metadata XML file.

#### ジェネリックIdP（OIDC）

1. Register an application (client) with the IdP with the following properties:

   <table class="table"><thead>
   <tr>
   <th><strong>Property</strong></th>
   <th><strong>Value</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Callback URL</td>
   <td>`https://auth0.auth0.com/login/callback`</td>
   </tr>
   </tbody>
   </table>

2. [Add the email claim](/docs/secure/tokens/json-web-tokens/create-custom-claims) to the ID Token.
3. Provide Auth0 Support with the:

   * アプリケーション（クライアント）ID
   * Issuer URL or OIDC metadata endpoint (for example, `https://{idpDomain}/[...]/.well-known/openid-configuration`)

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
Auth0 Support will use [Implicit Mode with Form Post flow](/docs/get-started/authentication-and-authorization-flow/implicit-flow-with-form-post), if available. If your IdP does not support this, then you’ll need to provide them with your application’s client secret.
</Callout>

#### ジェネリックIdP（SAML）

1. Auth0 Support will provide you with the SSO connection's name.
2. Create a SAML application with the following properties:

   <table class="table"><thead>
   <tr>
   <th><strong>Property</strong></th>
   <th><strong>Value</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Entity ID</td>
   <td>`urn:auth0:auth0:{assignedConnectionName}`</td>
   </tr>
   <tr>
   <td>Callback endpoint</td>
   <td>`https://auth0.auth0.com/login/callback`</td>
   </tr>
   </tbody>
   </table>
3. Ensure that the SAML assertions contain the following claims:

   <table class="table"><thead>
   <tr>
   <th><strong>Claim</strong></th>
   <th><strong>Claim identifier</strong></th>
   <th><strong>Value</strong></th>
   </tr>
   </thead>
   <tbody>
   <tr>
   <td>Name Identifier</td>
   <td><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier</code></td>
   <td><code>upn</code> or <code>emailaddress</code></td>
   </tr>
   <tr>
   <td>Email Address</td>
   <td><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress</code></td>
   <td>N/A</td>
   </tr>
   <tr>
   <td>Name</td>
   <td><code>http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name</code></td>
   <td>N/AA</td>
   </tr>
   </tbody>
   </table>
4. Provide Auth0 Support with either the:

   * サインインURLと署名証明書
   * SAMLメタデータXMLファイル

### SSO接続をセットアップする

Auth0サポートチームは、提供される構成データを使用して、SSO接続の初期設定を完了します。

初期設定時には、ホーム領域検出（Home Realm Discovery：HRD）は構成されていません。

### SSO接続をテストする

SSO接続の初期設定が完了したら、Auth0サポートチームがSSO接続をテストし、構成データが正しいかを確認します、そして、テナントメンバーが望む方法でSSO接続で認証できることを確認します。

Auth0サポートチームは、新しいSSO接続の認証を促すために使用できる直接ログインURLを提供します。例：

`https://manage.auth0.com/login?connection={assignedConnectionName}`

## Auth0 Teamsを使用してSSOを強制する

If you use Auth0 Teams with your Enterprise tenant, you can enforce SSO authentication for the tenants that belong to the Teams account. To learn more about tenant administration and management, read [Auth0 Teams](/docs/get-started/auth0-teams).

1. Open a new browser and enter your Teams account and identifier: `https://accounts.auth0.com/teams/{team-identifier}.`

   <Callout icon="file-lines" color="#0EA5E9" iconType="regular">
   You can get the Teams identifier in the URL or the Teams [**Settings**](https://accounts.auth0.com/teams/#/settings).
   </Callout>

2. Navigate to the **Security** page.
3. [Configure the Security Policies](/docs/get-started/auth0-teams/configure-security-policies) by selecting **Enforce Single Sign On**.

### ホーム領域検出を有効にする（任意）

ユニバーサルログインまたはクラシックログインを使用している場合、HRDの有効化を要求できるため、ログインページはテナントメンバーが入力するメールアドレスのドメインを認識し、新しいSSO接続に誘導します。

#### HRDをいつ有効にするか

HRDが有効になっている場合、以前にメール/パスワードのIDを使用していた（構成されたHRDドメインと一致するメールを持つ）テナントメンバーは、ログインページからログインできなくなります。

この動作の変更に伴い、HRDを有効にする際は、現在のテナントメンバーの少なくとも一部が変更について認識していることを確認した上で、以下のいずれかを知っている必要があります。

* 新しいIDの下で、テナントへの参加招待状を受け取る
* 新しいIDで再招待をする必要がある

#### HRDをバイパスする方法

テナントメンバーがメール/パスワードIDでログインをする必要がある場合、ダイレクトログインURLを提供できます。

`https://manage.auth0.com/login?connection=auth0`

このURLはHRDをバイパスし、メール/パスワードIDでログインできるようにします。

#### HRDログイン動作の例

次に、テナントメンバーのリストの例を示します。

<table class="table"><thead>
<tr>
<th><strong>Tenant</strong></th>
<th><strong>Tenant Member</strong></th>
<th><strong>Connection</strong></th>
<th><strong>Affected?</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fabrikam@us</code></td>
<td><code>`user1@example.com`</code></td>
<td>email/password</td>
<td>Yes</td>
</tr>
<tr>
<td><code>fabrikam@us</code></td>
<td><code>`user1@gmail.com`</code></td>
<td>google-oauth2</td>
<td>No</td>
</tr>
<tr>
<td><code>fabrikam@us</code></td>
<td><code>`user2@example.com`</code></td>
<td>github</td>
<td>No</td>
</tr>
<tr>
<td><code>fabrikam@us</code></td>
<td><code>`user3@acme.com`</code></td>
<td>email/password</td>
<td>No</td>
</tr>
<tr>
<td><code>fabrikam@us</code></td>
<td><code>`user4@example.com`</code></td>
<td>email/password</td>
<td>Yes</td>
</tr>
<tr>
<td><code>fabrikam-dev@us</code></td>
<td><code>`user5@example.com`</code></td>
<td>email/password</td>
<td>Yes</td>
</tr>
<tr>
<td><code>fabrikam-dev@us</code></td>
<td><code>`user1@example.com`</code></td>
<td>email/password</td>
<td>Yes</td>
</tr>
</tbody>
</table>

example.comドメインを新しい接続に関連付けた場合、`user1@gmail.com`、`user2@example.com`、および`user3@acme.com`は、ソーシャルプロバイダー、または関連付けられていないドメインのメールアドレスを使用しているため、これまでと同様にログインできます。

一方で、`user1@example.com`、`user4@example.com`、および`user5@example.com`は、HRDに構成されたドメインに関連付けられたメールアドレスであるため、これまでのようにログインすることはできません。

## 既存のテナントメンバーを移行する

既存のテナントメンバーの移行プロセスは、HRDを有効にしたかどうかに依存します。

### HRDが無効の状態で移行する方法

HRDが無効の状態でテナントメンバーを移行するには、新しいSSO接続に対してダイレクトログインURLを共有する必要があります。

`https://manage.auth0.com/login?connection={assignedConnectionName}`

1. [Create a new Tenant Member invitation](/docs/get-started/manage-dashboard-access/add-dashboard-users) for the Tenant Member.
2. Instruct the Tenant Member to:

   1. Log in on the new SSO connection by using the direct login URL before accepting the invitation.

      <Callout icon="file-lines" color="#0EA5E9" iconType="regular">
      If this is the first time they are logging in on the new SSO connection, they may see a profile enrichment page (at https://auth.com/profile). Do not fill out any fields or select **Next**. Instead, follow the next step.
      </Callout>

   2. Copy and paste the invitation URL they received in the invitation email into the same browser where they logged in on the new SSO connection. Users should not select **Create Account**.
   3. Accept the invitation.
   4. If the user has invitations for other tenants, they can use them at this time.

### HRDを有効にした状態で移行する方法

To migrate Tenant members with HRD enabled, you need to follow steps similar to [adding Tenant Members](/docs/get-started/manage-dashboard-access/add-dashboard-users):

1. [Create a new Tenant Member invitation](/docs/get-started/manage-dashboard-access/add-dashboard-users) for the Tenant Member.
2. Instruct the Tenant Member to:

   1. Log out of the Dashboard (if they had previously logged in with an old identity).

      <Callout icon="file-lines" color="#0EA5E9" iconType="regular">
      If this is the first invitation they are accepting, they may see a “Create a new tenant” or “Create a new account” page. Do not select **Next**. Instead, follow the next step.
      </Callout>

   2. Open the invitation link in the invitation email they received.
   3. Log in on the new connection.
   4. Accept the invitation.