---
og:description: Learn about logging users out for Organizations in multi-tenant architectures.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: シングルIDプロバイダー：ログアウト
og:url: https://auth0.com/docs/
permalink: logout
title: シングルIDプロバイダー：ログアウト
twitter:description: Learn about logging users out for Organizations in multi-tenant
  architectures.
twitter:title: シングルIDプロバイダー：ログアウト
---

Terminating an authenticated session when it's no longer needed, otherwise known as Logout, is a good practice when it comes to security hygiene. Providing logout capability helps mitigate a number of potential security issues, including the likelihood that unauthorized parties can "take over" a session. In our architecture scenarios, we provide general purpose guidance on [B2B Logout](/docs/get-started/architecture-scenarios/business-to-business/logout), which we recommend reviewing alongside the guidance provided here. For this scenario, Logout is almost identical to logout in any other system, so it will have the same level of complexity as described in our standard documentation.

## Database Connection

以下の図では、Hoekstra & Associatesの例を使い、Auth0データベース接続を介して認証済みのユーザーを扱う際に一般的に遭遇するフローを示しています。このフローで何が起こるのかを詳しく見ていきましょう。説明にあるほとんどのワークフローは、通常、使用している技術スタックに関連するAuth0 SDKやライブラリによって処理されます。

<Frame>![Architecture Scenarios - MOA - Isolated Users, Shared Apps, Logout Flow](/images/cdy7uua7fh8z/5fQIKm5Izpy4zKw7ZsZoAE/e3661e2fa3e5bcd2258cfb6ef895f161/Isolated_Users__Shared_Apps__Logout_Flow__1_.png)</Frame>

1. Jennifer clicks `logout`.
2. Hoekstra & Associates' Instance of Travel0 Corporate Booking redirects the browser to the Travel0 Auth0 Tenant at https://auth.travel0.net with the following parameters:

   1. `returnTo`: [`https://hoekstra.corp.travel0.net/logoutComplete`](https://hoekstra.corp.travel0.net/logoutComplete)
   2. `client_id`: Client ID associated with the Application created in the Travel0 Auth0 Tenant for the Hoekstra & Associates instance of Travel0 Corporate Booking.

      <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

      **Best Practice**

      Define Applications independently in Auth0 to make it easier to configure the `returnTo` URL where the corresponding `client_id` is used to provide correct validation of the supplied URL. To learn more, see [Provisioning](/docs/get-started/architecture-scenarios/multiple-organization-architecture/single-identity-provider-organizations/provisioning).

      </Callout>
3. The Travel0 Auth0 Tenant terminates the Auth0 session established on behalf of the user, removing any SSO information, and redirects the browser to the specified `returnTo` URL.
4. The Hoekstra & Associates Instance of Travel0 Corporate Booking renders a page to let Jennifer know that she successfully logged out, likely with a button to log back in if desired.

   1. At this stage, the Travel0 Corporate Booking instance will typically want to clean up the application session associated with the user, too.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

If you do not wish to remove the user’s SSO session with Auth0, then the application can simply terminate the application session without redirecting to the `/logout` endpoint on the Auth0 Tenant. While the user will be logged out of the application, they will still have an SSO session with Auth0. In this case, you will likely want to tell the user that they are still logged in to the Auth0 Tenant, and that if they click `login` again, they may not be challenged to enter first-factor credentials.

</Callout>

## エンタープライズ接続

For this scenario, implementing Logout can be a little more complex than it is when using a Database Connection. You still have the option to either logout from only the application or to have logout from the application result in logout from the Auth0 Tenant, too. However, you may also have the option of allowing logout from the organization’s <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=Identity+Provider">Identity Provider</Tooltip> (IdP), which most applications avoid, especially if users have access to other corporate applications to which they may need to stay logged in. Avoiding this, however, may result in users who subsequently click the `login` button being authenticated automatically without interactively providing first-factor credentials. Such functionality may make for an unexpected user experience, so you should consider communicating this to the user.

このログアウト実装の流れを、MetaHexa Bankの例を使って、MetaHexa Bankへのエンタープライズ接続で認証されたユーザーで見てみましょう。今回も、説明にあるワークフローのほとんどは通常、使用している技術スタックに関連するAuth0 SDKやライブラリーによって処理されます。

<Frame>![Architecture Scenarios - MOA - Isolated Users, Shared Apps, Enterprise Logout Flow](/images/cdy7uua7fh8z/36ulIzcfP3GIymWql7SDW2/b350f739f26644364400330fce0a604c/Isolated_Users__Shared_Apps__Enterprise_Logout_Flow__1_.png)</Frame>

1. Amintha clicks `logout`.
2. MetaHexa Bank's Instance of Travel0 Corporate Booking redirects the browser to the Travel0 Auth0 Tenant at https://auth.travel0.net with the following parameters:

   1. `returnTo`: [`https://metahexa.corp.travel0.net/logoutComplete`](https://metahexa.corp.travel0.net/logoutComplete)
   2. `client_id`: Client ID associated with the Application created in the Travel0 Auth0 Tenant for the MetaHexa Bank instance of Travel0 Corporate Booking.
   3. `federated`:  Optional parameter used to log the user out of the MetaHexa Bank IdP. When specified, the browser is redirected to the `/logout` endpoint associated with the MetaHexa Bank IdP, which terminates the user’s session before redirecting the browser back to the Travel0 Auth0 Tenant.

      <Callout icon="file-lines" color="#0EA5E9" iconType="regular">

      **Best Practice**

      Define Applications independently in Auth0 to make it easier to configure the `returnTo` URL where the corresponding `client_id` is used to provide correct validation of the supplied URL. To learn more, see [Provisioning](/docs/get-started/architecture-scenarios/multiple-organization-architecture/single-identity-provider-organizations/provisioning).

      </Callout>

ステップ3と4は[データベース接続](#database-connection)のシナリオで説明された内容と同じです。Jenniferの代わりにAmintha、Hoekstra & Assciatesの代わりにMetaHexa Bank（`metahexa.corp.travel0.net`）を入れてください。

## ソーシャル接続

ソーシャル接続の場合、ログアウトのパターンは[エンタープライズ接続](#enterprise-connection)と類似していますが、アップストリームのIdPは特定の組織ではなく、ソーシャルプロバイダーに関連付けられます。ソーシャルプロバイダーを使ったフェデレーションログアウト機能は、破壊的なユーザー体験を引き起こすため、ほぼすべての場合に利用するべきではありません。