---
description: ''
og:description: Learn to use Actions and SDKs with Auth0 organizations.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 組織のカスタム開発
og:url: https://auth0.com/docs/
permalink: custom-development
title: 組織のカスタム開発
twitter:description: Learn to use Actions and SDKs with Auth0 organizations.
twitter:title: 組織のカスタム開発
---

You can extend Auth0 capabilities using [organization](/docs/manage-users/organizations/organizations-overview) metadata and Actions, or use our APIs and メンバーが自分の組織を独自に管理できるように、メンバーにロールを割り当てて、APIやSDKを用いてプロダクトにダッシュボードを作成することができます。管理者はシングルサインオン（SSO）を構成したり、ユーザーを組織に招待したり、メンバーを組織に割り当てたり、メンバーに役割を割り当てたりできます。 to build organization administration dashboards for your users.

<Card title="Availability varies by Auth0 plan">

Your Auth0 plan or custom agreement affects whether this feature is available. To learn more, read [Pricing](https://auth0.com/pricing).

</Card>

## 組織は拡張ポイントに対応しているため、組織メタデータにプロパティーを定義して、そのデータを[Actions](/actions)に反映することができます。これにより、各顧客またはアプリケーションのために機能をカスタマイズできます。たとえば、組織のメタデータに特定の顧客のサブスクリプションプラン情報を保管しておくと、カスタムロジックをActionsで実行することができます。

Organizations support our extensibility points, so you can define properties within organization metadata and expose that data to [Actions](/docs/customize/actions). This allows you to customize capabilities for individual customers or applications; for example, you can execute custom logic in Actions for certain customers based on their subscription plan by storing that information in organization metadata.

### アクションのイベントオブジェクトには、ユーザーのIPアドレスやアプリケーション、位置情報など、実行中の認証トランザクションに関するコンテキスト情報が保管されます。

アクション内で`イベント`オブジェクトを使用してトークンの内容を変更すると、すべてのルールの実行が終わった後でトークンに反映されます。

SDK

## メンバーが自分の組織を独自に管理できるように、メンバーにロールを割り当てて、APIやSDKを用いてプロダクトにダッシュボードを作成することができます。管理者はシングルサインオン（SSO）を構成したり、ユーザーを組織に招待したり、メンバーを組織に割り当てたり、メンバーに役割を割り当てたりできます。

To allow members to self-manage their organizations, you can assign roles to members, and use our API and メンバーが自分の組織を独自に管理できるように、メンバーにロールを割り当てて、APIやSDKを用いてプロダクトにダッシュボードを作成することができます。管理者はシングルサインオン（SSO）を構成したり、ユーザーを組織に招待したり、メンバーを組織に割り当てたり、メンバーに役割を割り当てたりできます。 to build dashboards in your products. Administrators can configure <Tooltip tip="Single Sign-On (SSO): Service that, after a user logs into one applicaton, automatically logs that user in to other applications." cta="View Glossary" href="/docs/glossary?term=Single+Sign-On">Single Sign-On</Tooltip> (SSO), invite users to organizations, assign members to organizations, assign roles to members, and so on.

ユーザーのログイン先に特定の組織を指定したい

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

The examples below reference the `org_id` claim available by default in ID and access tokens. However, you can configure your tenant to also support the use of organization names in the Authentication API. This results in tokens containing both the `org_id` and `org_name` claims. If present, validate the `org_name` claim in addition to `org_id` to ensure the received values correspond to a trusted entity.

In general, using organization IDs is the preferred method for validating tokens. However, organization names can be used if they are more appropriate for your use case. To understand the potential implications of using organization names to validate tokens, review [Use Organization Names in Authentication API](/docs/manage-users/organizations/configure-organizations/use-org-name-authentication-api).

</Callout>

### 新しいクライアントを定義する際に、組織IDを組織パラメーターに渡します。次にコールバック時に、IDトークンで返された組織が`/authorize`要求で送信された組織と同じであることを確認します。そのためには、`org_id`クレームを`exp`や`nonce`などの他のクレームが検証されたのと同じ方法で検証します。

When defining a new client, pass the organization ID into an organization parameter. Then on callback, ensure that the organization returned in the <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=ID+token">ID token</Tooltip> is the same one that was sent in the `/authorize` request by validating the `org_id` claim in the same way that other claims like `exp` and `nonce` are validated.

[認可コードフローを使用してログインを追加する](/login/authentication/add-login-auth-code-flow)

* [Add Login Using the Authorization Code Flow](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow/add-login-auth-code-flow)
* [Call Your API Using the Authorization Code Flow](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow/call-your-api-using-the-authorization-code-flow)
* [Add Login Using the Authorization Code Flow with PKCE](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow-with-pkce/add-login-using-the-authorization-code-flow-with-pkce)
* [Call Your API Using the Authorization Code Flow with PKCE](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow-with-pkce/call-your-api-using-the-authorization-code-flow-with-pkce)
* [Add Login Using the Implicit Flow with Form Post](/docs/get-started/authentication-and-authorization-flow/implicit-flow-with-form-post/add-login-using-the-implicit-flow-with-form-post)
* [Call Your API Using the Hybrid Flow](/docs/get-started/authentication-and-authorization-flow/hybrid-flow/call-api-hybrid-flow)
* [Customize session inactivity timeout based on Organization](/docs/manage-users/sessions/manage-sessions-actions)

### ユーザーが組織を使用して認証された場合には、組織IDがIDトークンの`org_id`クレームに表示されます。Auth0 SPA SDKを使用すると、これは次のようにして取得することができます：

独自のAPIを使用して、アクセストークンが発行された組織を取得したい

`const { org_id } = await client.getIdTokenClaims();`

### ユーザーが組織を使用して認証され、オーディエンスが指定された場合、アクセストークンはJWTになり、ユーザーがログインした組織IDを持つ`org_id`クレームが含まれます。

If the user was authenticated using an organization and an <Tooltip tip="Audience: Unique identifier of the audience for an issued token. Named aud in a token, its value contains the ID of either an application (Client ID) for an ID Token or an API (API Identifier) for an Access Token." cta="View Glossary" href="/docs/glossary?term=audience">audience</Tooltip> was specified, the <Tooltip tip="Audience: Unique identifier of the audience for an issued token. Named aud in a token, its value contains the ID of either an application (Client ID) for an ID Token or an API (API Identifier) for an Access Token." cta="View Glossary" href="/docs/glossary?term=access+token">access token</Tooltip> will be a <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JWT">JWT</Tooltip> and will contain the `org_id` claim with the ID of the organization to which the user logged in.

This can be validated along with the other claims on the backend, as in the following example for Ruby:

```ruby lines
class JsonWebToken
  def self.verify(token)
    decoded = JWT.decode(token, nil,
               true, # Verify the signature of this token
               algorithms: 'RS256',
               iss: 'https://YOUR_DOMAIN/',
               verify_iss: true,
               aud: Rails.application.secrets.auth0_api_audience,
               verify_aud: true) do |header|
      jwks_hash[header['kid']]
    end

    // Retrieve the organization ID value from the decoded token
    org = decoded[0]['org_id']
  end
end
```

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

**Find Your Auth0 Domain**

If your Auth0 domain is your tenant name, your regional subdomain (unless your tenant is in the US region and was created before June 2020), plus `.auth0.com`. For example, if your tenant name were `travel0`, your Auth0 domain name would be `travel0.us.auth0.com`. (If your tenant were in the US and created before June 2020, then your domain name would be `https://travel0.auth0.com`.)

If you are using custom domains, this should be your custom domain name.

</Callout>

## Learn more

* [Understand How Auth0 Organizations Work](/docs/manage-users/organizations/organizations-overview)
* [Create Your First Organization](/docs/manage-users/organizations/create-first-organization)
* [Work with Tokens and Organizations](/docs/manage-users/organizations/using-tokens)
* [Configure Organizations](/docs/manage-users/organizations/configure-organizations)
* [Auth0 Actions](/docs/customize/actions)