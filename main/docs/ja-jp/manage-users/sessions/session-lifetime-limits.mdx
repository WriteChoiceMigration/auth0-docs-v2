---
og:description: Describes limits a system will allow a session to last before termination.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: セッションライフタイムの制限
og:url: https://auth0.com/docs/
permalink: session-lifetime-limits
title: セッションライフタイムの制限
twitter:description: Describes limits a system will allow a session to last before
  termination.
twitter:title: セッションライフタイムの制限
---

Session lifetime limits determine how long the system should retain a login session. In Auth0, two settings can be configured for session lifetime:

* **Idle Session Lifetime**: Timeframe after which a user's session will expire if their <Tooltip tip="Session Cookie: Entity that, when present, allows the user to be considered authenticated." cta="View Glossary" href="/docs/glossary?term=session+cookie">session cookie</Tooltip> hasn't interacted with the <Tooltip tip="Session Cookie: Entity that, when present, allows the user to be considered authenticated." cta="View Glossary" href="/docs/glossary?term=Authorization+Server">Authorization Server</Tooltip>. Will be superseded by system limits if over 3 days for self-service plans or 100 days for enterprise plans.
* **Require log in after（ログインを要求する経過時間）**：アクティビティにかかわらず、ユーザーに再ログインを求めるまでの時間です。セルフサービスプランでは30日、エンタープライズプランでは365日を超えると、システム制限によって置き換えられます。

These settings are configured on the tenant; you can configure them using either the [Auth0 Dashboard](/docs/manage-users/sessions/configure-session-lifetime-settings) or the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>.

ユーザーが標準のログインを新たに実行すると、ログインセッションがリセットされます。たとえば、以下のようになります。

1. You set the **Idle Session Lifetime** limit to 3 days and the **Require log in after** limit to 30 days.
2. A user logs in and your entered values are set for their session.

   1. If the user is active within the three-day **Idle Session Lifetime** timeframe, the session lifetime is extended for another three days. As long as the user is active within the next three days, their session lifetime will be extended for another three days, until the **Maximum Session Lifetime** limit is reached. At this point, the user will be required to log in again.
   2. If the user is inactive for three days, they will automatically be logged out.
3. While the user is logged in, you extend the existing session lifetime limits. The new settings will not take effect until the existing session ends, and the user logs in again.
4. While the user is logged in, you reduce the existing lifetime limits. The new settings will take effect immediately upon the user's next activity. This allows you to shorten session lifetimes for security purposes.

### アプリケーション特有のログアウトURL

アプリケーション特有のログアウトURLを使用する際には、以下の2点を考慮することが重要です。

* `/oidc/logout`エンドポイントを呼び出すには、`client_id`をクエリパラメーターとして送信する**必要があります**。また、アプリケーションの［Allowed Logout URLs（許可されているログアウトURL）］のリストに`id_token_hint`のURLが含まれていなければなりません。
* これにより、テナントの全体でAuth0セッションが終了します。つまり、指定された`client_id`に一致するアプリケーションだけでなく、定義されたすべてのアプリケーションで終了することになります。`client_id`を渡すと、どこでログアウトURLのホワイトリストを探せばいいのかが/`logout`エンドポイントに分かるようになります。

ユーザーがログアウトすると、Auth0はこのリストで定義されたURLにのみリダイレクトします。

If you redirect the user back to the application after logout and the application redirects to an <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+provider">identity provider</Tooltip> that still has an authenticated session for that user, the user will be silently logged back into your application and it may appear that logout didn’t work. In these cases, we recommend that you have a specific logout landing page in your application so you can tell the user that they successfully logged out - and, if desired, you can also warn them that they may still be logged into their identity provider.

Auth0のセッション更新に繋がるような操作をユーザーが行わなかった場合には、ユーザーがセッションの継続を明示的に選択できる警告の表示をお勧めします。そうすることで、ユーザーが不在の場合にセッションを非アクティブにできるだけでなく、暗黙でのトークン更新をトリガーして、資格情報を再度求めずにセッションを継続できます。

* **Inactivity Timer**: Add a rolling timer to the React SDK wrapper that aligns with the maximum idle lifetime of the Auth0 session. Each time a token is returned to the application, reset the timer.
* **Timeout Modal（タイムアウトモーダル）**：タイマーで期限切れから60秒が経過すると、ユーザーにログアウトまたはセッションの継続を求めるタイムアウトモーダルを表示します。

  + **Continue the session（セッションを継続）**：ユーザーがセッションの継続を選択した場合には、`getTokenSilently()`メソッドを使用して、ユーザーを現在表示中のページからリダイレクトすることなく、新しいトークンを要求します。
  + **Logging out（ログアウト）**：ユーザーがログアウトを選択した場合には、`logout()`メソッドを呼び出して、Auth0セッションも確実に終了させます。
  + **Idle Timeout**: In the case that the idle timeout is reached no immediate action is necessary. To handle the fact that the user may still be active in another tab, the behavior **should not** be to log the user out.
  + ログインボタンのあるモーダルを更新したり、window.onfocusイベントで`getTokenSilently()`をトリガーしたり、ユーザーをランディングページにリダイレクトしたりなどの方法を採用してください。

## Learn more

* [Configure Session Lifetime Settings](/docs/manage-users/sessions/configure-session-lifetime-settings)
* [Update Access Token Lifetime](/docs/secure/tokens/access-tokens/update-access-token-lifetime)
* [Update ID Token Lifetime](/docs/secure/tokens/id-tokens/update-id-token-lifetime)
* [Check Login and Logout Issues](/docs/troubleshoot/authentication-issues/check-login-and-logout-issues)
* [Troubleshoot Invalid Token Errors](/docs/troubleshoot/basic-issues/invalid-token-errors)