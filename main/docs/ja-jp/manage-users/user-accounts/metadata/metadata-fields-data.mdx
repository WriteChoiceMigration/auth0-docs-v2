---
og:description: Describes user metadata, app metadata, and application (client) metadata
  field names, data types, and limitations and restrictions.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: メタデータのフィールド名とデータ型
og:url: https://auth0.com/docs/
permalink: metadata-fields-data
title: メタデータのフィールド名とデータ型
twitter:description: Describes user metadata, app metadata, and application (client)
  metadata field names, data types, and limitations and restrictions.
twitter:title: メタデータのフィールド名とデータ型
---

Auth0は、特定の種類の情報を保管するために使用されるメタデータを3種類に区別しています。





## メタデータフィールド名

### 使用できる文字

フィールド名に`.`（ドット）または`$`（ドル記号）の文字を含めてはいけません。

たとえば、以下は許可されません。



しかし、以下のように拡張することはできます。



### 動的フィールド名

フィールド名は静的である必要があります。動的フィールド名は、インデックス作成の効率を低下させ、検索クエリのパフォーマンスを劣化させます。静的スキーマは、検索、操作、作業が容易です。

以下のようにするのではなく、



このようにします。



### 名前の衝突

`app_metadata`フィールドとルートプロファイルフィールドに同一の名前を使用することは避けてください。`app_metadata`フィールドは、ルールとアクションの両方でルートプロファイルにマージされるため、ルートプロファイルフィールドが上書きされる可能性があります。

たとえば、ユーザーのルートプロファイルに（SAML IDプロバイダーから返される）`groups`フィールドがあり、`app_metadata`内にも`groups`フィールドがある場合、ユーザーのプロファイルは次のようになる可能性があります。



[ルール](/users/metadata/manage-metadata-rules)から[ユーザーオブジェクト](/rules/user-object-in-rules)上で`groups`フィールドを読み込む際、以下を返します：`["internal-group-1", "internal-group-2"]`

## メタデータのデータ型

メタデータフィールドはすべての[JSON互換データ型](https://datatracker.ietf.org/doc/html/rfc7159)をサポートします。

* 文字列
* 数値
* 配列
* オブジェクト

ユーザー間でデータ型を一貫して維持するようにしてください。たとえば、あるユーザー値を文字列として保管する（`user.user_metadata.age = "23"`）すると同時に、別のユーザー値を数値として保存する（`user.user_metadata.age = 23`）と、データを取得する際に問題が発生する可能性があります。

## 制限と制約

### レート制限

ログイン時に[ルール](/users/metadata/manage-metadata-rules)または[アクション](/signup-and-login-triggers/login-trigger/manage-user-metadata)を使用してメタデータを更新すると、テナントのレート制限が適用されます。詳細については、「[Management APIエンドポイントレート制限](/support/policies/rate-limit-policy/management-api-endpoint-rate-limits)」をお読みください。



### サイズ制限とストレージ

* [ユーザー検索エンドポイント](https://auth0.com/docs/api/management/v2/users/get-users)でインデックス作成、クエリ、返却できるユーザーデータには1ユーザーあたり1MBの制限があります。ユーザープロファイルが1MBより大きい場合、`app_metadata`および`user_metadata`内で256文字より多いすべての属性値は、検索できず、検索結果に返されません。ユーザープロファイルがこれらの大きな値を省いてもなお1MBを超える場合、そのユーザーの`app_metadata`および`user_metadata`属性は検索不可または返却不可となります。Auth0は、ユーザープロファイルが省略後もなお1MBを超える場合を`wum`[イベントコード](/deploy-monitor/logs/log-event-type-codes)の下でキャプチャし、ログに記録します。オーバーサイズのユーザープロファイルについては、すべてのメタデータ属性を取得するために、[ユーザー取得エンドポイント](https://auth0.com/docs/api/management/v2/users/get-users-by-id)を使用する必要があります。
* `user_metadata`フィールドをAuthentication APIの[サインアップエンドポイント](/api/authentication?javascript#signup)を使って設定する際には、それぞれの値が500文字を超えない文字列フィールドを最大10個含めることができます。カスタムサインアッププロセスでのメタデータの扱いの例については、「[カスタムサインアップ](/libraries/custom-signup)」をお読みください。
* `client_metadata`フィールドには最大10個のキーを含めることができます。そのキーと値のそれぞれの最大長は255文字で、UTF-8の特殊文字を含むことはできません。

### 制限

`app_metadata`フィールドには、以下のいずれのプロパティも含めてはいけません。

* `__tenant`
* `_id`
* `blocked`
* `clientID`
* `created_at`
* `email_verified`
* `email`
* `globalClientID`
* `global_client_id`
* `identities`
* `lastIP`
* `lastLogin`
* `loginsCount`
* `metadata`
* `multifactor_last_modified`
* `multifactor`
* `updated_at`
* `user_id`