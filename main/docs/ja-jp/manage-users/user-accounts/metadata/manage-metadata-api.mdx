---
og:description: Learn how to create, update, merge, and delete metadata with the Management
  API.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Management APIを使ってメタデータを管理する
og:url: https://auth0.com/docs/
permalink: manage-metadata-api
title: Management APIを使ってメタデータを管理する
twitter:description: Learn how to create, update, merge, and delete metadata with
  the Management API.
twitter:title: Management APIを使ってメタデータを管理する
---

## ユーザーメタデータ

### ユーザーメタデータを作成する

次のプロファイル詳細を使ってユーザーを作成するには、以下のようにします。



Management API [`/post_users`](/api/management/v2#!/Users/post_users)エンドポイントに対して次の`POST`呼び出しを実行し、ユーザーの作成とプロパティ値の設定を行います。



### ユーザーメタデータを更新する

Management API [`/patch_users_by_id`](/api/management/v2#!/Users/patch_users_by_id)エンドポイントに対して`PATCH`呼び出しを実行することで、ユーザーのメタデータを更新できます。

次のメタデータの値を使ってユーザーを作成したと仮定します。



`user_metadata`を更新し、ユーザーの自宅住所を第2レベルのプロパティとして追加するには、以下のようにします。



次の`PATCH`呼び出しを実行します。



ユーザーのプロファイルは以下のように表示されるようになります。





### ユーザーメタデータをマージする

プロジェクトにマージされるのはルートレベルのプロパティのみです。それよりも低いレベルのプロパティはすべて置き換えられます。

たとえば、ユーザーの勤務先住所を追加の内部プロパティとして追加するには、`addresses`プロパティのすべてのコンテンツを含める必要があります。`addresses`オブジェクトはルートレベルのプロパティでないため、ユーザーを表す最終のJSONオブジェクトにマージされますが、そのサブプロパティはマージされません。



したがって、APIに対する`PATCH`呼び出しは、次のようになります。



### ユーザーメタデータを削除する

`user_metadata`は削除することができます。



## アプリメタデータ

空のオブジェクトを使ったパッチを適用すると、メタデータが完全に削除されます。たとえば、この本文を送信すると、`app_metadata`内のデータがすべて削除されます。



## クライアントメタデータ

### クライアントメタデータを使ってアプリケーションを作成する

`clientMetadata`オブジェクトは、`POST /api/v2/`アプリケーションのエンドポイントを使ってアプリケーションを新規作成するときに含めることができます。

### クライアントメタデータを読み取る

クライアントメタデータは、`GET /api/v2/clients`エンドポイントと`GET /api/v2/client/{id}`エンドポイントへの応答に含まれます。

### クライアントメタデータを更新する

クライアントメタデータは、[`PATCH /api/v2/clients/{id}`](/api/management/v2#!/Users/patch_users_by_id)エンドポイントを使って更新し、アプリケーションオブジェクトに`clientMetadata property`を提供することができます。このプロパティは、変更したメタデータを含んだオブジェクトで構成される値を持っています。

**更新前のアプリケーション：**

****

要求：`PATCH /api/v2/client/myclientid123`（本文を含む）：



**更新後のアプリケーション：**



### クライアントメタデータと値を削除する

クライアントメタデータキーを削除するには、上記の「app_metadataを更新する」で説明されたように、PATCHを発行しますが、キー値にには`null`を指定します。この動作は、`PATCH`[/api/v2/users/{id}](/api/management/v2#!/Users/patch_users_by_id)エンドポイントの`user_metadata`プロパティと`app_metadata`プロパティの動作に一致します。