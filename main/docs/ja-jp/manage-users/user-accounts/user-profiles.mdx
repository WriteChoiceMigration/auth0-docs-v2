---
og:description: Understand how user profiles work in Auth0.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: ユーザープロファイル
og:url: https://auth0.com/docs/
permalink: user-profiles
sidebarTitle: ユーザープロファイル
title: ユーザープロファイル
twitter:description: Understand how user profiles work in Auth0.
twitter:title: ユーザープロファイル
---

To access any of the applications in your tenant, each user must have a profile in the tenant. User profiles contain information about your users such as name and contact information. You can manage user profiles through the [Auth0 Dashboard](/docs/get-started/auth0-overview/dashboard) and the [Auth0 Management API](https://auth0.com/docs/api/management/v2).

## ユーザーデータのソース

User data can come from many sources, including your own databases as well as social, legal, and enterprise <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+providers">identity providers</Tooltip>. Some examples include Google, Facebook, Active Directory, or <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip>. You can normalize user data that comes from any supported data source.

ユーザープロファイル属性には、IDプロバイダーからの情報を含むことができます。たとえば：

<table class="table"><thead>
<tr>
<th>User data from...</th>
<th>Might include...</th>
</tr>
</thead>
<tbody>
<tr>
<td>LinkedIn</td>
<td>Current employer or degrees achieved</td>
</tr>
<tr>
<td>Facebook</td>
<td>Profile picture, birthday, or relationship status</td>
</tr>
<tr>
<td>Active Directory</td>
<td>Employee number, job title, or department</td>
</tr>
</tbody>
</table>

Auth0は、ユーザーデータソースに接続してユーザーを認証するため、すべてのユーザーデータソースを**接続**と呼びます。

### ユーザーデータの正規化

Auth0 supports a variety of [Identity Providers](/docs/authenticate/identity-providers) and [Database Connections](/docs/authenticate/database-connections). Each connection can return a different set of user attributes. Sometimes different connections use different names for the same attribute. For example, `surname` from one connection might be `last_name` and `family_name` from other user data sources.

To handle this complexity, Auth0 provides a [normalized user profile](/docs/manage-users/user-accounts/user-profiles/normalized-user-profiles), an Auth0-specific standard for storing user data.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

To view the Auth0 [user profile data structure](/docs/manage-users/user-accounts/user-profiles/user-profile-structure), go to [Dashboard > User Management > Users](https://manage.auth0.com/#/users) and then click on a user.

</Callout>

### ユーザープロファイル属性のマッピング

#### AD/LDAPコネクター

Auth0のAD/LDAPコネクターを使用するActive Directoryや他のLDAP接続のために、ディクレトリサービスにあるユーザープロファイル属性を、Auth0の正規化されたユーザープロファイルにマッピングする機能があります。AD/LDAPコネクターのインストールディレクトにある`profileMapper.js`ファイルは、ユーザーの認証時に属性をマッピングします。

#### SAMLアサーション

アプリケーションがAuth0との通信にSAMLプロトコルを使用する場合、2つの仕組みのいずれかが、ユーザー属性をAuth0の正規化されたユーザープロファイルに一致させます。

<table class="table"><thead>
<tr>
<th>If Auth0 is a...</th>
<th>Then...</th>
</tr>
</thead>
<tbody>
<tr>
<td>SAML Service Provider</td>
<td>Use the SAML connection's Mappings tab to map attributes coming from an IDP to attributes in the Auth0 user profile: Go to <a href="https://manage.auth0.com/#/connections/database/enterprise/samlp">Dashboard  &gt; Authentication &gt; Enterprise &gt; SAMLP</a>. Click on the name of the SAML connection and click <strong>Mappings</strong>.</td>
</tr>
<tr>
<td>SAML Identity Provider</td>
<td>Use the Settings tab of Application AddOns to map attributes from the Auth0 user profile to attributes in the SAML Assertion sent back to the Service Provider: Go to <a href="https://manage.auth0.com/#/connections/database/applications">Dashboard  &gt; Applications</a>. Click on the name of your application, click <strong>Addons</strong>, and click <strong>SAML2 Web App</strong>.</td>
</tr>
</tbody>
</table>

### アカウントリンク

ユーザーは、まず1つの接続（カスタムデータベースなど）でアプリケーションにログインした後に、別の接続（Facebookなど）でログインすることができます。この場合、2回目の認証の`user_id`は、最初の認証で使われた`user_id`とは異なります。

Auth0には、この2つのアカウントをリンクする機能があります。Auth0は2つのアカウントをリンクする場合、ユーザープロファイルの`identities`配列部分に、各接続に対して1つずつ、2つの要素を保存します。

Auth0が複数のプロバイダーからのユーザープロファイル属性をマージすることはありません。Auth0は、最初に使われたプロバイダーの**core**ユーザープロファイル属性を使用します。

To learn more, read [User Account Linking](/docs/manage-users/user-accounts/user-account-linking).

### ユーザープロファイルのキャッシュ

Auth0 caches the user profile received from a connection before passing it on to the calling application. This cache is in the Auth0 database. Each time the user authenticates, Auth0 updates the cache. To learn more, read [Update User Profile Using Your Database](/docs/manage-users/user-accounts/user-profiles/update-user-profiles-using-your-database).

## カスタムユーザープロファイルのデータ

Auth0 lets you store [metadata](/docs/manage-users/user-accounts/metadata), which is data related to each user that has not come from the identity provider. You can use `user_metadata` to store custom attributes such as the user's favorite color or hobby.

## ユーザープロファイルのデータを変更する

ユーザープロファイル情報を変更するには、いくつかの方法があります。

* [Scopes](/docs/get-started/apis/scopes): The authentication flows supported by Auth0 include an optional parameter that lets you specify a scope. This controls the user profile information (claims) included in the <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=ID+token">ID token</Tooltip> (<Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=JWT">JWT</Tooltip>).
* [Auth0 Dashboard](/docs/manage-users/user-accounts/manage-users-using-the-dashboard): The Dashboard lets you manually edit the `user_metadata` and `app_metadata` portions of any user’s profile.
* [Management API](/docs/manage-users/user-accounts/manage-users-using-the-management-api): You can read, update, and delete user profiles stored in the Auth0 database.
* [Custom database scripts](/docs/authenticate/database-connections/custom-db/templates): If you’re using a custom database as a connection, you can write scripts to implement lifecycle events such as create, login, verify, delete and change password. Auth0 provides templates for these scripts that you can modify for the particular database and schema.
* [Rules](/docs/manage-users/user-accounts/metadata/manage-metadata-rules): Use Rules to augment the user profile during the authentication transaction, and optionally persist those changes back to Auth0.

## ユーザープロファイルにアクセスする

Both apps and the Auth0 <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> can a user's profile information.

### アプリからユーザープロファイルにアクセスする

Once Auth0 completes authentication and returns control to your application, it provides the user profile to the application. At a low level, you can accomplish this using one of the application [protocols](/docs/authenticate/protocols) supported by Auth0. However, most developers prefer to use the Auth0 SDKs. To learn more, read [Quickstarts](/docs/quickstarts).

SDKの1つに、ユーザーログインのインターフェイスを提供する、Auth0 Lockウィジェットがあります。詳細については、以下をお読みください。

* [Lock for Web](/docs/libraries/lock)
* [Lock Swift](/docs/libraries/lock-swift)
* [Lock.Android](/docs/libraries/lock-android)

If you want your web app to have a custom login UI, you can use Auth0.js. This headless JavaScript library for Auth0 invokes authentication flow (and other tasks) and receives a User Profile object in return. To learn more, read [Auth0.js v9 Reference](/docs/libraries/auth0js).

### Management APIからユーザープロファイルにアクセスする

Auth0はREST APIを提供して、アプリケーションとサービスがユーザープロファイルオブジェクトにアクセスして操作できるようにしています。

API Explorerを使用すると、対話的にManagement APIを試すことができます。以下を提供しています。

* 利用可能なAPIの呼び出し
* それぞれの呼び出しに必要な情報
* それぞれの呼び出しで戻される情報

With the explorer, users can try each endpoint in the explorer UI or via a CuRL command on the command line. To try one of the Management API commands, go to the [API Explorer](https://auth0.com/docs/api/management/v2). Select the access required under **Scopes** within the command you choose, such as `update:users`, and then click **TRY**.

The Auth0 Authentication API is specifically for authentication flows. To learn more, read [Authentication API Explorer](https://auth0.com/docs/api/authentication). Typically, most of these endpoints are used by the various Auth0 SDKs, not your own code.

## ユーザープロファイルとトークンの違い

上記の認証フローでは、Auth0は完全なユーザープロファイルの代わりにトークンのセットを返します。

One of the returned tokens is the ID token, which is a JSON Web Token (JWT) that contains user profile attributes represented in the form of claims. These claims are statements about the user. A claim can be trusted if the consumer of the token can verify its signature, which (in the case of HS256) is generated with the Auth0 app’s <Tooltip tip="Client Secret: Secret used by a client (application) to authenticate with the Authorization Server; it should be known to only the client and the Authorization Server and must be sufficiently random to not be guessable." cta="View Glossary" href="/docs/glossary?term=client+secret">client secret</Tooltip>. If your app uses RS256 encryption, the ID token will be signed with a private key and verified with a public key. Your app can then decode the JWT and get the user information contained in its payload. Examples of this information are the user's name, email, and other data that is typically part of the user experience.

The claims within a JWT generally contain only a subset of the information available in the user profile. The purpose is to minimize the token size. To learn more, read [JSON Web Tokens](/docs/secure/tokens/json-web-tokens).

認証中には、他にも3種類のトークンが返されます。

* Auth0 <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=access+token">access token</Tooltip>
* サードパーティプロバイダーのアクセストークン
* <Tooltip tip="Refresh Token: Token used to obtain a renewed Access Token without forcing users to log in again." cta="View Glossary" href="/docs/glossary?term=Refresh+token">Refresh token</Tooltip>

To learn more about tokens and claims, read [Tokens](/docs/secure/tokens).

## Learn more

* [Check User Profiles](/docs/troubleshoot/authentication-issues/check-user-profiles)
* [Troubleshoot Custom Domains](/docs/troubleshoot/integration-extensibility-issues/troubleshoot-custom-domains)
* [Troubleshoot SAML Errors](/docs/troubleshoot/authentication-issues/saml-errors)
* [Verify Connections](/docs/troubleshoot/basic-issues/verify-connections)
* [Check API Calls](/docs/troubleshoot/authentication-issues/check-api-calls)
* [Auth0.Android Login, Logout, and User Profiles](/docs/libraries/auth0-android/auth0-android-login-logout-and-user-profiles)