---
og:description: Customize MFA flows using post-login Actions to challenge users with
  specific factors or sequences of factors.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: ユニバーサルログインに対するMFA選択をカスタイズする
og:url: https://auth0.com/docs/
permalink: customize-mfa-selection-universal-login
title: ユニバーサルログインに対するMFA選択をカスタイズする
twitter:description: Customize MFA flows using post-login Actions to challenge users
  with specific factors or sequences of factors.
twitter:title: ユニバーサルログインに対するMFA選択をカスタイズする
---

Auth0 supports a variety of factors for securing user access with [multi-factor authentication (MFA)](/docs/secure/multi-factor-authentication/multi-factor-authentication-factors). Using `post-login` Actions, you can customize your <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=MFA">MFA</Tooltip> flows to challenge users with a specific factor or sequence of factors. You can also use contextual information about users and their organizations to create more individualized experiences. For example, you can customize your flows to challenge users with specific factors based on their membership in certain Organizations or their assigned user roles.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

* This feature allows you to customize your MFA selection flows. If you want to customize your MFA enrollment flows, review [Customize MFA Enrollments in Universal Login](/docs/secure/multi-factor-authentication/customize-mfa/customize-mfa-enrollments-universal-login).
* You can only customize MFA flows with Actions if you are using [Universal Login](/docs/authenticate/login/auth0-universal-login/universal-login-vs-classic-login/universal-experience).
* Some methods detailed can only be used on Universal Login and not Classic Login. For more information, read [Customize MFA for Classic Login](/docs/secure/multi-factor-authentication/customize-mfa/customize-mfa-classic-login).

</Callout>

## 仕組み

You can use [Actions](/docs/customize/actions) to customize your MFA flows. Specifically, you can modify the `post-login` trigger of the [Login Flow](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger) with the following Authentication API methods:

* `challengeWithAny`:メールやOTPといった、ユーザーが認証時に選択できるファクターのグループを設定します。デフォルトで、この方法は、次の条件に従って、ユーザーに特定のチャレンジではなく、ファクターピッカーを提示します：
* 複数のファクターが指定された場合、ファクターピッカーはユーザーに表示されます。

  + ユーザーが指定ファクターの一つ（または提供されたファクターが一つ）にのみに登録した場合、ファクターピッカーはスキップされます。
  + ユーザーがどの指定ファクターにも登録していない場合、コマンドは失敗します。
  + これらの方法を組み合わせて、必要に応じてMFAフローをカスタマイズできます。役割や以前使用したファクターなどのユーザーメタデータをこれらの方法に組み込むことで、よりカスタマイズされたフローを作成できます。

コマンドでMFAチャレンジを選択する際には、以下のファクターや`enrolledFactors`の値を使用できます。`enrolledFactors`は、ユーザーのアカウントに関連付けられたアクティブなファクターのリストを表します。

`email`

* `email`
* `push-notification`
* `preferredMethod: voice`

  + `preferredMethod: voice`
* `preferredMethod: voice`

  + `preferredMethod: both`
  + `preferredMethod: both`
  + 詳しくは、以下のリソースをご確認ください:
* 詳しくは、以下のリソースをご確認ください:
* 詳しくは、以下のリソースをご確認ください:

The array `event.authentication.methods` includes a `type` field when the name of the method is set to `mfa`. type is a string that contains factor values matching those used by the `type` field from `enrolledFactors` (listed above). When an MFA challenge is performed, `methods` contains an object of `name:mfa` with `type` set to the factor used for that challenge. `methods` is only updated when an Action begins. To see the results of a challenge, `methods` must be accessed in the next Action in the flow.

[アクションのトリガー：ログイン後 - APIオブジェクト](/signup-and-login-triggers/login-trigger/post-login-api-object)

* [Actions Triggers: post-login - Event Object](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-event-object)
* [Actions Triggers: post-login - API Object](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-api-object)

### **コンテキストに基づくフロー**:フロー内での以前のチャレンジに基づいて、次にどの要素でユーザーにチャレンジするかを決定します。

これらのフローを説明するために、次の例を考えてみましょう:

* このシナリオでは、アクション1でユーザーはまず、`challengeWithAny` コマンドを通じてSMSでチャレンジされます。次に、アクション2ではユーザーはプッシュ通知でチャレンジされます。これは、ユーザーがAdminロールを持っており、SMSチャレンジも完了しているからです。
* このフローでは、次の理由から、ユーザーをどの要素でチャレンジするかを決定することができます:

この例は、アクション内でリダイレクトを使用するのと似た体験を提供しますが、` challengeWith`および`challengeWithAny`コマンドを使用することで、以下のような独自の利点があります:

```javascript lines
// ACTION 1 

exports.onExecutePostLogin = async (event, api) => {

   api.authentication.challengeWithAny([{ type: 'phone'}, { type: 'push-notification' }]);

} 

// ============================================ 

// ACTION 2 

// Decide based on what the user did in the previous action 

exports.onExecutePostLogin = async (event, api) => { 

    if(event.authentication.methods.find(m => m.type === 'phone') && event.authorization?.roles.includes('admin')) { 

        api.authentication.challengeWith({ type: 'push-notification' }); 

    }

}
```

フローは各コマンド後に停止するため、以降のアクションで使用できるユーザー情報を蓄積できます。比較すると、リダイレクトはフローの最終コマンドとして一度だけ発生します。

MFAは、`challengeWith`や `challengeWithAny`コマンドを含む各アクションが実行された後にトリガーされます。リダイレクトの場合、MFAはパイプラインの最終アクションとして実行されます。

1. The flow pauses after executing Action 1.
2. The user completes the MFA flow prompted by Action 1.
3. `event.authentication.methods.type` in Action 2 populates with information from the previous MFA challenge.
4. The flow resumes to execute Action 2 using contextual information from Action 1.

While this example presents a similar experience to using redirects in your Actions, commands using `challengeWith` and `challengeWithAny` offer the following unique benefits:

* 開始する前に
* MFAフローをカスタマイズする前に、まず、テナントでMFAを有効にし、ユーザーに適切な要素に登録するように促します。

テナントの準備をする

## はじめに、テナントでMFAを設定し、アクション設定を使用して、MFA要素のカスタマイズを有効にします。［Auth0 Dashboard］の [［セキュリティ］>［多要素認証］ ]()から、1つ以上の要素を設定し、MFAポリシーを定義することができます。

設定プロセスについての詳細は、[多要素認証の有効化](/mfa/enable-mfa)をご覧ください。

### 指定要素の構成についての詳細は、[多要素認証の要素](/mfa/mfa-factors)をご覧ください。

To get started, set up MFA in your tenant and enable the Customize MFA Factors using Actions setting. You can set up one or more factors and define your MFA policies on the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip> under [Security > Multifactor Auth](https://manage.auth0.com/#/security/mfa).

* To learn more about the setup process, review [Enable Multi-Factor Authentication](/docs/secure/multi-factor-authentication/enable-mfa).
* For information about configuring specific factors, review [Multi-factor Authentication Factors](/docs/secure/multi-factor-authentication/multi-factor-authentication-factors).

ユーザーがサインアップまたはテナントで作成された後、Management APIの[authentication-methods](/docs/api/management/v2/users/post-authentication-methods)エンドポイントを使用して登録を作成する必要があります。または、Auth0 Dashboardのプロファイルページから直接ユーザーの登録を管理することができます。

<Frame>![Auth0 Dashboard > Security > Multi-factor Auth > Additional Settings](/images/cdy7uua7fh8z/2hv0ELTkkka3t230SXfxw/46def5395652b2451cfc9e0ad01a371a/MFA_actions.png)</Frame>

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

* Actions invoking `challengeWith` and `challengeWithAny` commands override any challenges enabled via[api.multifactor.enable](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-api-object). They also take precedence over the MFA settings available under **Define Policies**.
* To ensure users complete MFA when attempting to access your application, set the **Require Multi-factor Auth** setting to either **Use Adaptive MFA** or **Always**. In the event your Actions code does not run, this setting serves as a backup and prevent users from bypassing MFA.
* If you wish to use risk assessors in your commands, enable the **Adaptive MFA Risk Assessment** toggle and use [event.authentication.riskAssessment](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-api-object) in your `post-login` Actions code.

</Callout>

### MFAフローをカスタマイズする

テナントの準備が整ったら、`ポストログイン`アクションを作成して、MFAフローをカスタマイズできます。以下が、そのステップとユースケース例になります。

After a user signs up or is created in your tenant, you can create enrollments with the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> [authentication-methods](https://auth0.com/docs/api/management/v2/users/post-authentication-methods) endpoint, or you can manage users' enrollments directly through their profile pages in the Auth0 Dashboard.

## アクションの名前を入力します。

トリガーとして、 **ログイン/ポストログイン**を選択します。

<Warning>

Actions (or series of Actions) in a tenant can only execute **four** of the following commands per user flow:

* `enrollWith`
* `enrollWithAny`
* `challengeWith`
* `challengeWithAny`

If this limit is exceeded (i.e., a fifth command of this type attempts to execute), an authentication error will occur.

</Warning>

### ランタイムには、**Node 18（推奨）**を使用します。

1. On your Auth0 Dashboard, navigate to [Actions > Flows](https://manage.auth0.com/#/actions/flows) and select **Login**.
2. Under Add Action, select **Custom** and choose **Create Action**.
3. On the Create Action popup:

   * **注意**:通知が閉じられている場合、コードエディターの上の**［フローに戻る］**を選択します。
   * アクションに追加の更新を行う場合、[［アクション］>［ライブラり］>［カスタム］]()に移動し、コマンドを選択します。その後、必要な時にコードの更新と再導入ができます。
   * ポストログインアクションをテストする
4. Review the popup to ensure accuracy. Then, select **Create**.
5. After creation, the code editor displays the `onPostExecute` command. Add your custom code or code sample to the command.
6. When your command is ready, select **Deploy**.
7. Select **Add to Flow** on the successful deployment notification.

   * コマンドが適切に機能するように、Auth0 Dashboardを通じてアクションをテストできます:
8. Drag and drop your new command from the Add Action panel into your Login flow. Then, select **Apply**.

To make additional updates to your Action, navigate to [Actions > Library > Custom](https://manage.auth0.com/#/actions/library) and select your command. You can then update and redeploy your code as needed.

<Warning>

When adding a redirect to your MFA flow, ensure your Action meets the following conditions to prevent users from skipping or bypassing MFA:

* The redirect (`sendUserTo`) command must be in a separate Action from your MFA commands.
* The redirect Action must be the last Action executed in your flow.

For more information about redirects, review [Redirect with Actions](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/redirect-with-actions).

</Warning>

### **［試す］**を選択し、新しいタブでログインプロンプトのサンプルを開きます。

資格情報を入力し、新しいMFAフローをテストします。

* Navigate to [Authentication > Authentication Profile](https://manage.auth0.com/#/authentication-profiles).
* ユースケース例
* 以下の例では、MFAフローをカスタマイズする際の一般的なユースケースを示しています。

If the flow is successful, a confirmation screen displays. If you encounter any issues, you can update your code by navigating to [Actions > Library > Custom](https://manage.auth0.com/#/actions/library) on your Auth0 Dashboard.

## 次のサンプルは、ユーザーが以下のファクターに登録されている場合にMFAでチャレンジを行います。

ワンタイムパスワード（OTP）

### Phone（電話番号）

ロールを使用して、チャレンジ方法を決定する

* 次のサンプルは、すべてのユーザーに対してOTPでチャレンジを行います。ユーザーがAdminロールを持ち、アプリケーションへのより高いレベルのアクセスが必要な場合、[ステップアップ認証](/mfa/step-up-authentication)の一環として追加の要素でチャレンジされます。
* メタデータを使用して、チャレンジ方法を決定する

```js lines
exports.onExecutePostLogin = async (event, api) => {

 api.authentication.challengeWithAny([{type: 'otp'}, {type: 'phone'}]);

}
```






### この例では、MFA要素は[組織](/organizations)レベルで有効になっています。このサンプルはメタデータの異なるカテゴリーを使用して、個々のユーザーに対する正しいチャレンジを決定します:

The following sample challenges all users with OTP. If a user has the Admin role and requires a higher level of access to your application, they are challenged with an additional factor as a form of [step-up authentication](/docs/secure/multi-factor-authentication/step-up-authentication).

```js lines
exports.onExecutePostLogin = async (event, api) => {
    api.authentication.challengeWith({type: 'otp'});

    const isAdmin = event.authorization?.roles.includes('admin');
    if(isAdmin) {
        api.authentication.challengeWith({type: 'phone'});
    }
}
```






### **ユーザーメタデータ**:ユーザープロファイルに関連づいた電話番号を持っているかどうかなどの、ユーザーレベルのデータ。

In this example, MFA factors are enabled at the [Organization](/docs/manage-users/organizations) level. This sample uses different categories of metadata to determine the right challenge for individual users:

* より柔軟な体験を提供するために、MFAチャレンジの一部としてユーザーに**他の方法を試す**リンクを提示することができます。このリンクにより、ユーザーはデフォルトチャレンジの代わりに別の認証方法を選択することができます。
* そのためには、アクションコードに`additionalFactors`パラメーターを含めてください。このパラメーターをすべてのユーザーに対して指定の要素に設定するか、`enrolledFactors`を使用してユーザーに好みの要素を選択させることができます。

```js lines expandable
exports.onExecutePostLogin = async (event, api) => {
  const orgFactors = event.organization?.metadata.factors.split(',') ?? [];

  // Get the intersection of factors available for the user and factors enabled for the org
  const availableFactors = orgFactors.filter(f => event.user?.enrolledFactors?.some(ef => ef.type === f));

  // Prefer push if available
  if(availableFactors.includes('push-notification')) {
    api.authentication.challengeWith({ type: 'push-notification' });
    return;
  }

  // If the user has a verified phone number and the organization
  // allows for SMS and email, prefer SMS and allow email as a fallback
  // if available
  if(event.user.phone_number && 
     event.user.phone_verified && 
     availableFactors.includes('phone')) {
    if(availableFactors.includes('email')) {
      api.authentication.challengeWith({ type: 'phone' }, {
        additionalFactors: [{
          type: 'email'
        }]
      });
    } else {
      api.authentication.challengeWith({ type: 'phone' });
    }

    return;
  }

  // If push-notifications and/or phone couldn't be prioritized, fallback to email if
  // enabled for the org, otherwise fail.
  if(availableFactors.includes('email')) {
    api.authentication.challengeWith({ type: "email" });
    return;
  }

  api.access.deny("No MFA factors available for this org + user");
};
```






### 次のサンプルでは、デフォルトで、OTPでユーザーにチャレンジを行います。必要であれば、ユーザーは「他の方法を試す」リンクにアクセスし、代わりにメールで認証することができます。

**登録済み要素**

次のサンプルでは、デフォルトで、OTPでユーザーにチャレンジを行います。必要であれば、ユーザーは「他の方法を試す」リンクにアクセスし、その他の登録済み要素の1つで認証することができます。

Adaptive MFAを使用して、ユーザーにチャレンジを行うタイミングを決定する

次のサンプルでは、[Adaptive MFA](/auth0-teams/tenant-management)を使用して、ユーザーにチャレンジを行うべきかどうかを決定します。

```js lines
exports.onExecutePostLogin = async (event, api) => {
  api.authentication.challengeWith({ type: 'otp' }, 
    { additionalFactors: [{type: 'email'}] })
};
```






**Enrolled Factors**

この場合、ユーザーが認識されていないデバイスからログインし、全体的な信頼スコアが低いまたは中程度の場合にMFAが求められます。

```js lines
exports.onExecutePostLogin = async (event, api) => {
  const enrolledFactors = event.user.enrolledFactors.map((f) => ({type: f.type}));

  api.authentication.challengeWith({ type: 'otp' }, 
    { additionalFactors: enrolledFactors })
};
```






### アクションを使用して、ユーザーにチャレンジを行う

The following example uses [Adaptive MFA](/docs/get-started/auth0-teams/tenant-management) to determine if users should be challenged.

<Tooltip tip="Adaptive Multi-factor Authentication: Multi-factor authentication (MFA) that is only triggered for users when an attempted login is determined to be a low confidence login." cta="View Glossary" href="/docs/glossary?term=Adaptive+MFA">Adaptive MFA</Tooltip> is a flexible MFA policy that protects your tenant from <Tooltip tip="Adaptive Multi-factor Authentication: Multi-factor authentication (MFA) that is only triggered for users when an attempted login is determined to be a low confidence login." cta="View Glossary" href="/docs/glossary?term=bad+actors">bad actors</Tooltip> by assessing potential risk during login transactions and prompting users for additional verification when appropriate.

カスタマイズされたMFAフローでエラーや予期しない結果が発生した場合は、以下の情報を使用して問題を特定し解決するのに役立ててください。

```javascript lines expandable
/**
* Handler that will be called during the execution of a PostLogin flow.
*
* @param {Event} event - Details about the user and the context in which they are logging in.
* @param {PostLoginAPI} api - Interface whose methods can be used to change the behavior of the login.
*/
exports.onExecutePostLogin = async (event, api) => {
  if (event.authentication?.riskAssessment?.assessments.NewDevice) {

  // Example condition: prompt MFA only based on the NewDevice 
    // confidence level, this will prompt for MFA when a user is logging in 
    // from an unknown device.
    let shouldPromptMfa;

    switch (event.authentication.riskAssessment.assessments.NewDevice.confidence) {
      case 'low':
      case 'medium':
        shouldPromptMfa = true;
        break;
      case 'high':
        shouldPromptMfa = false;
        break;
      case 'neutral':
        // When this assessor has no useful information about the confidence, 
        // do not prompt MFA.
        shouldPromptMfa = false;
        break;
    }

      // It only makes sense to prompt for MFA when the user has at least one 
      // enrolled MFA factor.
    const canPromptMfa = event.user.enrolledFactors?.length > 0;

    if (shouldPromptMfa && canPromptMfa) {
      const enrolledFactors = event.user.enrolledFactors.map((f) => ({type: f.type}));
      api.authentication.challengeWithAny(enrolledFactors);
    }

  }

};
```






### テナントログ

You can use Actions to customize MFA flows by modifying the `post-login` trigger of theLogin Flow. This example uses the `preferredMethod: voice` method of authentication and `preferredMethod: 'both'`, referring to the active MFA factors associated with a user's account. For more information, refer to [Actions Triggers: post-login - Event Object](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-event-object).

```js lines
api.authentication.challengeWith({ 
  type: 'phone', 
  options: { preferredMethod: 'both'} 
});
```






## 予期しない動作が発生した場合は、次のイベントコードのテナントログを確認して、詳細情報を得てください。

トラブルシューティングのチェックリスト

### 以下のチェックリストは、カスタマイズされたMFAフローに関する一般的な問題を特定し解決するための追加の提案を提供します。

You can monitor your customized MFA flows through [tenant logs](/docs/deploy-monitor/logs).

以下のチェックリストは、カスタマイズされたMFAフローに関する一般的な問題を特定し解決するための追加の提案を提供します。 are available on the Auth0 Dashboard under [Monitoring > Logs](https://manage.auth0.com/#/logs). Alternatively, you can retrieve logs using the [Management API](https://auth0.com/docs/api/management/v2/introduction).

**要素を確認する**:[［Auth0 Dashboard］>［セキュリティ］>［多要素認証］]()に移動し、アクションで参照されたすべての要素が有効になっていることを確認してください。

<table class="table"><thead>
<tr>
<th>Scenario</th>
<th>Event Code</th>
<th>Descriptive Error</th>
</tr>
</thead>
<tbody>
<tr>
<td>A user is prompted with multi-factor authentication, but none of the requested factors can be used as a challenge. In this case, the user cannot complete MFA.</td>
<td>mfar</td>
<td>This scenario results in the following error message:<br/><br/>An MFA challenge is used in a PostLogin action but the requested factors are not properly set up. To perform MFA, enable the requested factors and ensure the user is enrolled with them.</td>
</tr>
<tr>
<td>A user is prompted with multi-factor authentication, but one of the requested factors cannot be used as a challenge. In this case, the user can complete MFA using a different requested factor.</td>
<td>w</td>
<td>This scenario results in the following warning message:<br/><br/>An MFA challenge is used in a PostLogin action, but the requested factor \{factor name} is not properly set up. Enable the requested factor and ensure the user is enrolled with it.</td>
</tr>
</tbody>
</table>

### エラーが発生した場合は、対象ユーザーの詳細を確認し、適切なファクターに登録されていることを確認してください。[**［Auth0 Dashboard］>［ユーザー管理］>［ユーザー］**]()に移動し、リストからユーザーの名前を選択します。

**［詳細］タブ**の［多要素認証］セクションを確認し、ユーザーの登録を確認します。ユーザーが登録されていない場合、このセクションで利用可能な**「登録の招待状を送る」**リンクを使用できます。

1. The **Customize MFA factors with Actions** toggle must be enabled.

   * Navigate to [Auth0 Dashboard > Security > Multi-factor Auth](https://manage.auth0.com/#/security/mfa) and ensure the toggle in the Additional Settings section is enabled.
2. Factors referenced in your Actions must be enabled in your tenant.

   * **Review your code**: Navigate to [Auth0 Dashboard > Actions > Library > Custom](https://manage.auth0.com/#/actions/library) and review your Actions code. Ensure all factors referenced are applicable to your use cases.
   * **Review your factors**: Navigate to [Auth0 Dashboard > Security > Multi-factor Auth](https://manage.auth0.com/#/security/mfa) and ensure all factors referenced in your Actions are enabled.
3. Users must be enrolled in the factors referenced in your Actions.

   * If an individual receives an error, review their user details to ensure they are enrolled in the proper factors. Navigate to [**Auth0 Dashboard > User Management > Users**](https://manage.auth0.com/#/users) and select their name from the list.

     + [［Auth0 Dashboard］>［アクション］>［ライブラリ］>［カスタム］]()に移動し、アクションを選択します。アクションが古い場合、アクションの更新を促す黄色のバナーが表示されます。バナーが表示された場合、**［更新］**を選択します。
     + Alternatively, verify the user's enrollments through the **Raw JSON tab**. This information can also be retrieved using the [Management API](https://auth0.com/docs/api/management/v2/users/get-authentication-methods). However, it is important to note that the API does not list auto-enrolled authenticators, such as Email factors set up via an email verification link.
   * If users are not enrolled in the appropriate factors, you can create enrollments with the Management API [authentication-methods](https://auth0.com/docs/api/management/v2/users/post-authentication-methods) endpoint. You can also manage users' enrollments directly through their profile pages in the Auth0 Dashboard.
4. Ensure your Actions have been deployed and saved in your Pipeline.

   * Navigate to [Auth0 Dashboard > Actions > Library > Custom](https://manage.auth0.com/#/actions/library). Locate your Action in the list and ensure its status is **Deployed**. If a different status is listed, access your Action, review your code, and click **Deploy** to the top right.
   * Navigate to [Auth0 Dashboard > Actions > Library > Flows](https://manage.auth0.com/#/actions/flows) and select **Login**. Ensure your Action is listed in the flow. If not, access the **Custom tab** of the Add Action panel and drag and drop your Action into your Login flow. Then, select **Apply**.
5. Ensure you've upgraded to the latest version of `post-login` Actions.

   * Navigate to [Auth0 Dashboard > Actions > Library > Custom](https://manage.auth0.com/#/actions/library) and select your Action. If your Action is out-of-date, you will see a yellow banner prompting you to update the Action. If the banner displays, select **Update**.
   * You can also specify the latest version of `post-login` Actions for deployment when using the Deploy CLI. For more information, review [Configure the Deploy CLI](/docs/deploy-monitor/deploy-cli-tool/configure-the-deploy-cli).