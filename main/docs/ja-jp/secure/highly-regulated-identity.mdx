---
og:description: Learn about Highly Regulated Identity, Auth0's Financial-Grade Identity
  solution.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: ハイリーレギュレーテッドアイデンティティ
og:url: https://auth0.com/docs/
permalink: highly-regulated-identity
sidebarTitle: ハイリーレギュレーテッドアイデンティティ
title: ハイリーレギュレーテッドアイデンティティ
twitter:description: Learn about Highly Regulated Identity, Auth0's Financial-Grade
  Identity solution.
twitter:title: ハイリーレギュレーテッドアイデンティティ
---

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

To use Highly Regulated Identity features, you must have an Enterprise Plan with the Highly Regulated Identity add-on. Refer to [Auth0 Pricing](https://auth0.com/pricing/) for details.

</Callout>

ハイリーレギュレーテッドアイデンティティ（HRI）は、Auth0のFinancial-Grade Identity™ソリューションであり、ビジネスにとって重要な機密データの操作やサービスをセキュリティ保護します。ハイリーレギュレーテッドアイデンティティは、金融や医療など高度に規制された業界を対象としており、送金、デジタル決済、医療記録へのアクセスなどを含みますがこれらに限らず、幅広い顧客のユースケースを保護するためにセキュリティレベルを強化します。また、ハイリーレギュレーテッドアイデンティティを使用すると、管理者の資格情報の変更承認や、特権アクセスを持つWebポータルのセキュリティ保護など、その他の機密操作にも強化されたセキュリティを提供します。

ハイリーレギュレーテッドアイデンティティは、機密性の高い業務運用を保護するために以下を提供します。

* [OpenID Connectを使用した高度なセキュリティ（FAPI）](#advanced-security-with-openid-connect-fapi-)
* [強力な顧客認証（SCA）](#strong-customer-authentication-sca-)と[動的リンキング](#dynamic-linking)
* [機密性と完全性の保護](#confidentiality-and-integrity-protection)
* [強力なアプリケーション認証](#stronger-application-authentication)
* [トークンバインディングを使用したアクセストークンの保護](#protect-access-tokens-with-token-binding)
* [より良いユーザーエクスペリエンスのためのカスタマイズ可能な承認フロー](#customizable-approval-flows-for-better-user-experience)

## OpenID Connectを使用した高度なセキュリティ（FAPI）

[OpenID FAPI](https://openid.net/wg/fapi/specifications/) is a suite of security and privacy specifications developed by the <Tooltip tip="OpenID: Open standard for authentication that allows applications to verify users' identities without collecting and storing login information." cta="View Glossary" href="/docs/glossary?term=OpenID">OpenID</Tooltip> Foundation. APIs that meet the FAPI standards are classified as “financial-grade,” which means that they provide robust authentication and authorization mechanisms that help secure access to financial and other sensitive data and services.

Auth0は証明書付きのFAPIプロバイダーです。FAPI基準を満たすセキュリティの向上については、以下のセクションを参照してください。

* [機密性と完全性の保護](#confidentiality-and-integrity-protection)
* [強力なアプリケーション認証](#stronger-application-authentication)
* [トークンバインディングを使用したアクセストークンの保護](#protect-access-tokens-with-token-binding)

For more information on FAPI, see OpenID's [Open Banking, Open Data, and Financial-grade APIs](https://openid.net/wordpress-content/uploads/2022/03/OIDF-Whitepaper_Open-Banking-Open-Data-and-Financial-Grade-APIs_2022-03-16.pdf) whitepaper and the [FAPI Working Group specifications](https://openid.net/wg/fapi/specifications/).

<Frame>![](/images/cdy7uua7fh8z/20iajPMtmICMORUfaVQH7a/ec900e1007b3faebd66eb2508f46acb0/image17.png)</Frame>

## 強力な顧客認証（SPA）

<Frame>![](/images/cdy7uua7fh8z/3JDIerJcevImoIDRd7OfIy/98597a9164b66cde9ec7ddc23f3e849b/image14.png)</Frame>

Introduced by Europe’s [Payment Services Directive (PSD2)](https://www.europeanpaymentscouncil.eu/sites/default/files/infographic/2018-04/EPC_Infographic_PSD2_April%202018.pdf), Strong Customer Authentication (SCA), mandates the use of at least two distinct authentication factors out of the following three:

* ユーザーが知っている情報（例：パスワード）
* ユーザーが持っているもの（例：デバイス）
* ユーザー自身に内在するもの（例：指紋）

一つが侵害されても他の要素が危険にさらされないように、認証要素は独立している必要があります。SCAは、機密データやサービスを保護するための世界的な標準として急速に普及しています。

Auth0は、SCAへの準拠を支援するために、ログイントランザクション中にユーザーを登録し、チャレンジするさまざまな認証要素を提供しています。ハイリーレギュレーテッドアイデンティティは、トランザクションをセキュリティ保護するために次の認証要素を利用します。

* モバイル・プッシュ通知
* SMS
* メール
* WebAuthn

Using [Actions](/docs/customize/actions), you can dynamically determine which authentication factors to use. This gives you the flexibility to customize your code logic. For example, you can add a second authentication factor for payments above 10 USD. To learn more, read [Apply dynamic policy](/docs/secure/highly-regulated-identity/transactional-authorization-with-authorization-code-flow#apply-dynamic-policy).

## PSD2は、決済サービスプロバイダーに対して、強力な顧客認証とともに動的リンキングを実装するように要求します。動的リンキングでは、ユーザーにトランザクションの詳細を提示して明示的な検証と承認を求め、認可とトランザクションの詳細を一意にリンクします。これにより、ユーザーエクスペリエンスが向上し、規制遵守にも役立ちます。

動的リンキングを有効にするには、リッチ認可要求（RAR）を使用して、OAuth認可エンドポイントに詳細なトランザクション認可データを渡すことができます。以下のコードサンプルは、`authorization_details`JSONオブジェクトを示しており、決済タイプ、金額、通貨、受信者などの情報を含みます。

To enable Dynamic Linking, you can use Rich Authorization Requests (RAR) to pass fine-grained transaction authorization data to the <Tooltip tip="OAuth 2.0: Authorization framework that defines authorization protocols and workflows." cta="View Glossary" href="/docs/glossary?term=OAuth">OAuth</Tooltip> authorization endpoint. The following code sample shows an `authorization_details` JSON object, which contains information like the payment type, amount, currency, and recipient:

```json lines
"authorization_details": [
 {
   "type": "one_time_payment",
   "amount": {
     "amount": 2460.46,
     "currency": "USD"
   },
   "sourceAccount": "xxxxxxxxxxx4567",
   "recipient": "Acme Travel, Inc.",
   "concept": "All Inclusive Resort Package for Two",
 }
]
```






`authorization_details` is assigned a unique transaction reference, which Auth0 uses to prompt the user to perform step-up authentication:

* ユーザーが第二認証要素を完了したあとに、SMS、メール、WebAuthを使用して、トランザクションを開始したデバイスで詳細を確認します。
* ユーザーが詳細を確認したら、トランザクションが進行し、Auth0は承認されたauthorization_detailsに関連付けられたアクセストークンを発行します。また、開発者は、アクセストークンに一意のトランザクション参照を追加することもできます。その結果、APIサーバーはAPI要求を受け取り、サービスを提供する際に承認されたトランザクションの詳細を後で検証できます。

<Warning>

Do not pass fine-grained transaction authorization data or other sensitive or regulated data outside of `authorization_details`.

</Warning>

If the user confirms the details, the transaction progresses and Auth0 issues an <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=access+token">access token</Tooltip> associated with the now-approved authorization_details. Developers can also add the unique transaction reference to the access token. As a result, your API servers can later validate the approved transaction details when receiving and servicing API requests.

To learn more about RAR, read [Authorization Code Flow with Rich Authorization Requests](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow/authorization-code-flow-with-rar).

## 認可の詳細には、口座番号、金額、販売者名、その他の機密性の高い情報が含まれる場合があり、これらは保護されていないURLやアクセストークンで渡されます。未認可のアクセスや改ざんから機密データを保護するために、ハイリーレギュレーテッドアイデンティティは機密性と完全性の包括的な保護を提供します。

機密データをフロントチャネルで保護する

### 機密データをWebブラウザーなどのフロントチャネルで保護するために、ハイリーレギュレーテッドアイデンティティはFAPI 1高度なセキュリティプロファイルの一部として以下のソリューションを提供します。

プッシュ認可要求（PAR）

#### PARの詳細については、「[プッシュ認可要求（PAR）を使用した認可コードフロー](/authorization-code-flow-with-par)」と「[プッシュ認可要求（PAR）を構成する](/configure-par)」をお読みください。

[PAR](https://datatracker.ietf.org/doc/rfc9126/) introduces a new endpoint, which allows clients to directly push the payload of an OAuth 2.0 authorization request to the <Tooltip tip="Authorization Server: Centralized server that contributes to defining the boundaries of a user’s access. For example, your authorization server can control the data, tasks, and features available to a user." cta="View Glossary" href="/docs/glossary?term=authorization+server">authorization server</Tooltip> (i.e. Auth0 in this case). This avoids passing the authorization parameters via the insecure front channel (i.e., the browser), thus reducing the risk of unauthorized access to authorization parameters by an intermediary.

To learn more about PAR, read [Authorization Code Flow with Pushed Authorization Requests (PAR)](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow/authorization-code-flow-with-par) and [Configure Pushed Authorization Requests (PAR)](/docs/get-started/applications/configure-par).

#### JARの詳細については、「[JWT保護の認可要求（JAR）を使用した認可コードフロー](/authorization-code-flow-with-jar)」と「[JWT保護の認可要求（JAR）を構成する](/configure-jar)」をお読みください。

[JAR](https://datatracker.ietf.org/doc/rfc9101/) is an OAuth2 protocol extension that enhances the security of authorization requests. It does so by using a <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JSON+Web+Token">JSON Web Token</Tooltip> (JWT) request parameter to protect the integrity and, optionally, the confidentiality of the authorization request parameters.

To learn more about JAR, read [Authorization Code Flow with JWT-Secured Authorization Requests (JAR)](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow/authorization-code-flow-with-jar) and [Configure JWT-Secured Authorization Requests (JAR)](/docs/get-started/applications/configure-jar).

#### アクセストークンに含まれる認可の詳細を保護するために、ハイリーレギュレーテッドアイデンティティは、[JSON Web暗号化（JWE）]()を使用してアクセストークンのペイロードを暗号化するサポートを提供します。これにより、アプリケーション側でのデータ侵害や、仲介者によるAPI呼び出しの不正な検査からアクセストークンを保護します。

To protect the authorization details included in access tokens, Highly Regulated Identity provides support for using [JSON Web Encryption (JWE)](https://datatracker.ietf.org/doc/html/rfc7516) to encrypt the payload of access tokens. This protects access tokens from application-side data breaches and unauthorized inspection into API calls by intermediaries.

To learn more about JWE, read [JSON Web Encryption](/docs/secure/tokens/access-tokens/json-web-encryption) and [Configure JSON Web Encryption](/docs/get-started/apis/configure-json-web-encryption).

## アプリケーション認証のセキュリティを向上させるために、ハイリーレギュレーテッドアイデンティティはFAPI 1高度なセキュリティプロファイルの一部として2つの異なる代替案を提供します。

[秘密鍵JWT]()：アプリケーションを認証するために、公開鍵と秘密鍵のペアを生成し、これを認証の資格情報として使用することを伴います。秘密鍵JWTは、エンタープライズプランの顧客のみ使用することができます。詳細については、「[秘密鍵JWTの認証](/secure/application-credentials#private-key-jwt-authentication)」をお読みください。

* [Private Key JWT](http://tools.ietf.org/html/draft-ietf-oauth-jwt-bearer): involves generating a public-private key pair to use as credentials to authenticate an application. It is already available for customers on the Enterprise plan. To learn more, read [Private Key JWT Authentication](/docs/secure/application-credentials#private-key-jwt-authentication).
* [mTLS for OAuth](https://datatracker.ietf.org/doc/html/rfc8705): involves registering a standard X.509 certificate linked to an application on your tenant. The certificate can either be CA-issued or self-signed. Following standard mTLS procedures, the private key corresponding to the certificate is used on the client side to establish the mTLS tunnel when sending requests to your Auth0 tenant endpoints. As a result, Auth0 can authenticate the application without transmitting secrets over the network. To learn more, read [mTLS for OAuth](/docs/get-started/authentication-and-authorization-flow/authenticate-with-mtls).

トークンバインディングでアクセストークンを保護する

## mTLSをサポートすることで、トークンバインディングまたは送信者制約の使用が可能になります。トークンバインディングは、mTLSトンネルの確立に使用されたクライアント証明書のサムプリントをアクセストークンに関連付けます。クライアントが証明書にバインドされたアクセストークンを使用してAPIを利用する際、APIサーバーはクライアントが関連付けられたクライアント証明書も使用しているかどうかを検証できます。その結果、アクセストークンが漏洩しても、クライアント証明書を知らない悪意のある第三者は保護されたリソースにアクセスできません。

**注意：**トークンバインディングはアプリケーションの認証方法とは独立して動作し、クライアント証明書の事前登録を必要としません。詳細については、「[送信者制約を構成する](/configure-sender-constraining)」をお読みください。

**Note:** Token Binding operates independently of the application's authentication method and does not require the pre-registration of the client certificate. To learn more, read [Configure Sender Constraining](/docs/secure/sender-constraining/configure-sender-constraining).

## 金融グレードのセキュリティを備えた現実的なソリューションを設計する際には、ユーザーエクスペリエンスを考慮することが重要です。すべての取引に一律の認証フローを適用するよりも、取引の詳細やユースケースに基づいて動的に調整する方が効果的です。

New Universal Loginのテンプレートでは、取引の種類やその他の認証詳細に応じて、取引承認画面に表示される属性をカスタマイズすることもできます。詳細については、「[詳細な認可要求（RAR）を構成する](/configure-rich-authorization-requests)」をお読みください。

You can customize your authentication flow using [Actions](/docs/customize/actions). For example, after the user logs in, you can inspect transaction details received via RAR, list the user’s enrolled and already validated authentication factors, and use external services, such as risk evaluation engines, to determine the next authentication factor to use. To learn more, read [Apply dynamic policy](/docs/secure/highly-regulated-identity/transactional-authorization-with-authorization-code-flow#apply-dynamic-policy).

The New <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> templates also enable you to customize the attributes displayed on the transaction approval screen depending on the type of transaction and other authorization details. To learn more, read [Configure Rich Authorization Requests (RAR)](/docs/get-started/apis/configure-rich-authorization-requests).

## Learn more

To learn how Highly Regulated Identity works from end-to-end to authorize a one-time transaction, read [Transactional Authorization with Authorization Code Flow](/docs/secure/highly-regulated-identity/transactional-authorization-with-authorization-code-flow).