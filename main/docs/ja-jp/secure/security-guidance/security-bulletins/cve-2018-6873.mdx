---
og:description: 'CVE-2018-6873: Details about a security vulnerability identified
  in the Auth0 authentication service'
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: CVE-2018-6873：Auth0認証サービスにおけるセキュリティ脆弱性
og:url: https://auth0.com/docs/
permalink: cve-2018-6873
title: CVE-2018-6873：Auth0認証サービスにおけるセキュリティ脆弱性
twitter:description: 'CVE-2018-6873: Details about a security vulnerability identified
  in the Auth0 authentication service'
twitter:title: CVE-2018-6873：Auth0認証サービスにおけるセキュリティ脆弱性
---

**公開日**：2018年4月04日

**CVE番号**：CVE-2018-6873

**Credit**: [Cinta Infinita](http://www.cintainfinita.com/)

## 概要

Auth0認証サービスでセキュリティ脆弱性が確認されました。これはすべてのAuth0テナントに影響し、パブリッククラウドをご利用のすべてのお客様に対して、報告から4時間以内の2017年10月15日に修正されました。この通知は情報提供を目的としたものであり、脆弱性と緩和策について説明することを目的としています。

As part of an user authentication flow employed by the Auth0 service, a <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JSON+Web+Token">JSON Web Token</Tooltip> (JWT) is passed to the `/login/callback` endpoint identifying the user. This token contains a reference to which <Tooltip tip="Audience: Unique identifier of the audience for an issued token. Named aud in a token, its value contains the ID of either an application (Client ID) for an ID Token or an API (API Identifier) for an Access Token." cta="View Glossary" href="/docs/glossary?term=audience">audience</Tooltip> - an Auth0 tenant - it is intended for. A flaw in the Auth0 service did not properly validate this audience, and therefore allowed tokens intended for one tenant to be used at another. Further, the custom database functionality available to all Auth0 tenants allows for authenticated tokens to be generated with any desired identifier. Therefore, could an attacker learn the user identifier of an intended victim at a target tenant - which is generally considered public information - they could construct a token with that identifier. Due to the improper audience checking the target tenant would accept it, and establish a login session recognizing the attacker as the victim. This allowed for privilege escalation, among other possible attack vectors.

特に懸念されたのは、この攻撃がAuth0の管理サービスに対して使用される可能性でした。Auth0のテナントは、関連する権限を持つ「権限テナント」にアカウントを有するテナント管理者によって管理されます。これにより、テナント管理者のユーザー識別子をテナント権限で知ることができれば（ソーシャルエンジニアリングなどで）、攻撃者は前述の攻撃方法で管理者としてログインすることが可能になります。攻撃者はその後、管理操作を行い、テナントのすべての情報を閲覧できてしまいます。

The attack was never effective if the user had <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=multifactor+authentication">multifactor authentication</Tooltip> enabled, which is recommended.

## 自分は影響を受けますか？

Auth0のすべてのテナントが影響を受けましたが、パッチ適用済みです。パブリッククラウドのテナントは、この脆弱性の報告から4時間以内にパッチが適用されました。

ユーザーが多要素認証を有効にしていた場合、今回の攻撃は有効ではありませんでした。

## 修正方法

この脆弱性は、オーディエンスパラメーターの適切な検証を追加することで、Auth0によって修正されました。お客様側で追加の措置は必要ありません。

### この更新はユーザーに影響を与えますか？

今回の修正は、すべてのユーザーに影響することなく完了しました。