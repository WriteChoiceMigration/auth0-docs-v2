---
og:description: Understand third-party access tokens issued by identity providers
  after user authentication and how to use them to call the third-party APIs.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: IDプロバイダーのアクセストークン
og:url: https://auth0.com/docs/
permalink: identity-provider-access-tokens
title: IDプロバイダーのアクセストークン
twitter:description: Understand third-party access tokens issued by identity providers
  after user authentication and how to use them to call the third-party APIs.
twitter:title: IDプロバイダーのアクセストークン
---

IDプロバイダーは、ユーザーを認証した後でサードパーティーのアクセストークンを発行します。このアクセストークンは、発行元のサードパーティープロバイダーのAPIを呼び出すのに使用することができます。たとえば、Facebookとのユーザー認証後に発行されたアクセストークンを使用して、Facebook Graph APIを呼び出すことができます。

個々のユーザーについては、IDプロバイダーのトークンは、特定の接続の要素の下の`user `オブジェクトの`identities`配列の中で利用できます。特定のユーザーのトークンに安全にアクセスするには、`read:user_idp_tokens`スコープを含む[Management APIのアクセストークン](/security/tokens/access-tokens/management-api-access-tokens)が必要です。その後、[ユーザー取得エンドポイント](/api/management/v2/#!/Users/get_users_by_id)にHTTP GET呼び出しを行い、トークンを取得します。

OAuth 2.0の同意フローを使用したエンタープライズ接続セットアップの管理者ユーザーについては、IDプロバイダーのトークンは`connection`オブジェクトで利用できます。接続のトークンに安全にアクセスするには、`read:connections`スコープを含む[Management APIのアクセストークン](/security/tokens/access-tokens/management-api-access-tokens)が必要です。その後、[接続取得エンドポイント](/api/management/v2/connections/get-connections-by-id)にHTTP GET呼び出しを行い、トークンを取得します。



## サードパーティーのトークンを更新する

Auth0を介してIDプロバイダーのアクセストークンを更新するのに、標準的な手段はありません。IDプロバイダーのアクセストークンを更新するメカニズムは、各プロバイダーに依存します。Auth0は、特定のIDプロバイダーに対して[リフレッシュトークン](/security/tokens/refresh-tokens)も保管します。保管されたトークンを使って、IDプロバイダーの新しいアクセストークンを取得できます。以下のようなIDプロバイダーがあります。

* BitBucket
* Google OAuth 2.0（Auth0 `/authorize`エンドポイントを呼び出すときに、パラメーター`access_type=offline`、および 必要なスコープを含んだ`connection_scope`パラメーターを渡します）
* 他のOAuth 2.0 IDプロバイダー
* SharePoint
* Microsoft Entra ID

アクセストークンを取得したのと同じ方法でリフレッシュトークンを取得できます。詳細については、上述のガイドラインをご覧ください。

## サードパーティーのトークンを検証する

一般的に、IDプロバイダーから受け取ったアクセストークンは、検証する必要はありません。発行者に渡せば、発行者が処理をします。