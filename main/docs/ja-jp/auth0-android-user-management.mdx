---
og:description: How to use Auth0.Android to manage users
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Auth0.Android：ユーザー管理
og:url: https://auth0.com/docs/
permalink: auth0-android-user-management
title: Auth0.Android：ユーザー管理
twitter:description: How to use Auth0.Android to manage users
twitter:title: Auth0.Android：ユーザー管理
---

The <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> provides functionality that you can use to manage users of your application, including these types of tasks:

* Link separate user accounts from different providers, tying them to a single profile. To learn more, read [User Account Linking](/docs/manage-users/user-accounts/user-account-linking).
* ユーザーアカウントのリンクを解除して、個別のアイデンティティに戻す。
* Update user metadata. To learn more, read [Understand How Metadata Works in User Profiles](/docs/manage-users/user-accounts/metadata).

## UsersAPIClientを初期化する

使い始めるには、プライマリーIDの`account`とトークンを渡して、新しい`UsersAPIClient`インスタンスを作成します。ユーザーのリンクでは、このプライマリーIDがデータを保持するユーザープロファイルになり、これに他のIDをリンクさせます。

```kotlin lines
val account = Auth0("{yourClientId}", "{yourDomain}")
val client = UsersAPIClient(account, "token")
```






## ユーザーをリンクする

ユーザーアカウントをリンクすると、ユーザーが他のアカウントでも認証できるようになります。認証にどのアカウントを使用しても、同じプロファイルでログインします。アカウントとリンクしない場合、Auth0はすべてのアカウントをそれぞれ個別のプロファイルとして扱います。

ユーザーをリンク解除する

```kotlin lines
client
    .link("primary user id", "secondary user token")
    .start(object: Callback<List<UserIdentity>, ManagementException>() {
        override fun onSuccess(payload: List<UserIdentity>) {
            // Got the updated identities! Accounts linked.
        }

        override fun onFailure(error: ManagementException) {
            // Error!
        }
    })
```






## ユーザーをリンク解除すると、アカウントを個別のプロファイルに戻します。`unlink`メソッドは、プライマリーユーザーのID、セカンダリーユーザーのID、（セカンダリーユーザーの）セカンダリープロバイダーという3つのパラメーターを受け付けます。

アカウントのリンクでは、セカンダリーアカウントのメタデータはプライマリーアカウントのメタデータとマージされません。同様に、2つのアカウントのリンク解除では、セカンダリーアカウントはプライマリーアカウントのメタデータを保持しません。

```kotlin lines
users
    .unlink("primary user id", "secondary user id", "secondary provider")
    .start(object: Callback<List<UserIdentity>, ManagementException>() {
        override fun onSuccess(payload: List<UserIdentity>) {
            // Got the updated identities! Accounts linked.
        }

        override fun onFailure(error: ManagementException) {
            // Error!
        }
    })
```






ユーザーメタデータを更新する

## メタデータの更新では、`metadata`オブジェクトを作成してから、`updateMetadata`メソッドを呼び出して、ユーザーIDと`metadata`オブジェクトを渡します。このオブジェクトの値は、同じキーを持つ既存の値を上書きするか、ユーザーメタデータに値がない場合は新しい値を追加します。

When updating user metadata, you create a `metadata` object and then call the `updateMetadata` method, passing it the user id and the `metadata` object. The values in this object overwrite existing values with the same key, or add new values for those that don't yet exist in the user metadata.

```kotlin lines
val metadata = mutableMapOf<String, Any?>()
metadata.put("name", listOf("My", "Name", "Is"));
metadata.put("phoneNumber", "1234567890");

users
    .updateMetadata("user id", metadata)
    .start(object: Callback<UserProfile, ManagementException>() {
        override fun onSuccess(payload: UserProfile) {
            // Metadata updated
        }

        override fun onFailure(error: ManagementException) {
            // Error!
        }
    })
```