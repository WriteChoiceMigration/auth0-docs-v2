---
og:description: Learn how to retrieve logs using the Auth0 Management API get_logs
  endpoint by checkpoint or by search criteria.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Management APIを使ってログイベントを取得する
og:url: https://auth0.com/docs/
permalink: retrieve-log-events-using-mgmt-api
title: Management APIを使ってログイベントを取得する
twitter:description: Learn how to retrieve logs using the Auth0 Management API get_logs
  endpoint by checkpoint or by search criteria.
twitter:title: Management APIを使ってログイベントを取得する
---

You can use the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> to retrieve up to 100 logs per request using the [/get_logs](https://auth0.com/docs/api/management/v2/#!/Logs/get_logs) endpoint, which supports two types of consumption:

* **チェックポイントの場合**：ログイベントを外部データ分析サービスにエクスポートする場合に推奨されます。
* **検索条件の場合**：Dashboardにより使用されます。

Logs stored by Auth0 are subject to a retention period that is based on your Auth0 subscription. To learn more, read [Log Data Retention](/docs/deploy-monitor/logs/log-data-retention).

これらのエンドポイントを使って次のログを探すことができます。

* `/api/v2/logs/{id}`：指定されたログIDに関連付けられた単一のログエントリを取得します。
* `/api/v2/users/{user_id}/logs`：特定のユーザーIDのログイベントを取得します。

## チェックポイントでログを取得する

このメソッドを使用すると、指定された`log_id`よりも新しいログイベントを取得
できます。これは通常、Splunk、Datadog、Application Insights、Mixpanelなどの外部
システムにログを送信するために使用されます。

チェックポイントで検索するには、次のパラメーターを使用します。

<table class="table"><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>from</code></td>
<td>Log event ID to start retrieving logs. You can limit the amount of logs using the <code>take</code> parameter.</td>
</tr>
<tr>
<td><code>take</code></td>
<td>The total amount of entries to retrieve when using the <code>from</code> parameter.</td>
</tr>
</tbody>
</table>

セマンティクス

#### チェックポイントによるログの取得には次のセマンティクスがあります。

ロールの役割の権限で利用可能なすべてのログが返されます

* ログは、Auth0システムの遅延による過去のレコードのスキップを防ぐために、イベント生成時間ではなく`log_id`で順序付けられます。
* 検索条件でログを取得する場合の`1,000`件のレコード制限とは対照的に、ページネーションは無制限であり、制限はありません。
* ページネーション

#### チェックポイントでログを取得する場合は、最初の要求のみを手動で行って

ください。後続の各要求は、`Link`ヘッダー内の`next`関係URLを使用して
行う必要があります。これにより、APIとの統合作業が簡素化され、Auth0は
顧客エクスペリエンスに影響を与えることなく最適化を行うことができます。
例
例：`90020211201185132572079310688835925971249535794074878050`

#### 検索条件でログを取得する

このメソッドを使用すると、指定された検索条件に一致するログイベントを取得できます。条件が使用されない場合は、すべてのイベントが一覧表示されます。条件で検索するには、次のパラメーターを使用します。
検索クエリで使用できるフィールドと並べ替えパラメーターのリストを確認するには、「[ログ検索クエリ構文](/logs/log-search-query-syntax)」をお読みください。

1. Grab the `log_id` from any log in your system.
   制限事項
2. Make a request to `https://TENANT_NAME.LOCALITY.auth0.com/api/v2/logs?from=LOG_ID&take=100` to request the next `100` logs newer than the given `LOG_ID`.
3. The HTTP response will contain

   1. A JSON array of `0` to `100` logs newer than the given `LOG_ID`
   2. An HTTP `Link` header with a `next` relation
4. If the result set is empty you will receive an empty array, and the `next` relation will match the same URL you used in the most recent request

## ログを取得する要求ごとに100件のログイベントという制限に加え、最大1,000件の検索結果までしかページ分割できません。

This method allows you to retrieve logs that match the specified search criteria or, if no criteria is used, lists all logs. To search by criteria use the following parameters:

<table class="table"><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>q</code></td>
<td>Search criteria using Query String Syntax.</td>
</tr>
<tr>
<td><code>page</code></td>
<td>The zero-based page number.</td>
</tr>
<tr>
<td><code>per_page</code></td>
<td>The number of entries per page.</td>
</tr>
<tr>
<td><code>sort</code></td>
<td>The field to use for sorting. Use <code>field:order</code>, where <code>order</code> is <code>1</code> for ascending and <code>-1</code> for descending. For example <code>date:-1</code>.</td>
</tr>
<tr>
<td><code>fields</code></td>
<td>A comma-separated field list to include or exclude (depending on <code>include_fields</code>) from the result. Leave empty to retrieve all fields.</td>
</tr>
<tr>
<td><code>include_fields</code></td>
<td><code>true</code> if the fields specified are to be included in the result, <code>false</code> otherwise. Defaults to <code>true</code>.</td>
</tr>
</tbody>
</table>

To see a list of fields and sort parameters that can be used in the search query, read [Log Search Query Syntax](/docs/deploy-monitor/logs/log-search-query-syntax).

## Limitations

Besides the limitation of 100 logs per request to retrieve logs, you may only paginate through up to 1,000 search results.

If you get the error `414 Request-URI Too Large` this means that your query string is larger than the supported length. In this case, refine your search.

<Card title="Private Cloud search field limitations">

The following fields are searchable only for Private Cloud:

* `user`
* `connection`
* `application`
* `type`
* `ip`

Use double quotes for exact searches (e.g., `application:"test"` will search for all log events specific to the application named `test`, but `application:test` will search log events for applications with "test" in their name.

</Card>

## Learn more

* [Log Type Codes](/docs/deploy-monitor/logs/log-event-type-codes)
* [Log Search Query Syntax](/docs/deploy-monitor/logs/log-search-query-syntax)
* [Log Data Retention](/docs/deploy-monitor/logs/log-data-retention)