---
og:description: Describes the email templates used in Auth0.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: メールテンプレートの説明
og:url: https://auth0.com/docs/
permalink: email-template-descriptions
title: メールテンプレートの説明
twitter:description: Describes the email templates used in Auth0.
twitter:title: メールテンプレートの説明
---

## 確認メール

**［Verification Email（確認メール）］**をオンにするとデータベース接続にサインアップするユーザーにメールアドレスが正しいかどうかをたずねる確認メッセージが送られてくるので、メッセージに含まれるURLをクリックしてください。

すべてのメールテンプレートで利用できる共通変数のほかに、**［Verification Email（確認メール）］**には、ユーザーがクリックしなければならないURLを指す`url`変数もあります。これを**［Message（メッセージ）］**フィールドで使用し、ユーザーが従うことができるリンクを作成します。

### 確認メールテンプレートのリダイレクト先の結果

メール確認操作を試行した後に、**Redirect To（リダイレクト先）**URLをユーザーに送信するよう構成することができます。デフォルトでは、Auth0には以下のパラメーターが含まれます。

* `success`（`true`または`false`の値を持つ）はメール確認が正常に行われたかどうかを示します。
* `Your account has been unblocked.`（`success=true`を含む）

  + `Your email was verified.You can continue using the application.`（`success=true`を含む）
  + `Access expired.`（`success=false`を含む）
  + 他に考えられるメッセージを適切に処理するために、ターゲットURLハンドラーも準備しておく必要があります。
  + `User account does not exist or verification code is invalid.`（`success=false`を含む）
  + `This account is already verified.`または`Your email address could not be verified.`（`success=false`を含む）

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">
For some errors, the user may be sent to the [Generic Error Page](/docs/authenticate/login/auth0-universal-login/error-pages) page instead of the Redirect To URL.
</Callout>

You can prevent sending the email addresses on the redirect links by updating the email templates using the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>. For example:

`PATCH /api/v2/email-templates/reset_email { "includeEmailInRedirect": false } }`

or,

`PATCH /api/v2/email-templates/verify_email { "includeEmailInRedirect": false }}`

侵害されたパスワードのアラートメール

## ウェルカムメール

ユーザーがメールアドレスを確認すると、**ウェルカムメール**が送られてきます。**確認メール**機能をオフにすると、**ウェルカムメール**がユーザーのサインアップ時（または初回ログイン時）にユーザーに送られます。

すべてのメールテンプレートで利用できる共通変数のほかに、**Welcome（ようこそ）**テンプレートでは以下の変数も利用することができます。

* If the user is logged in through an [Organization](/docs/manage-users/organizations/organizations-overview):

  + `organization.display_name`
  + `organization.metadata`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`
  + メールをローカライズするには、招待状の作成時に`user_metadata`で送信される`locale`を設定することができます。詳細については、「[メールテンプレートをカスタマイズする：多言語のメールテンプレート](/brand-and-customize/email/customize-email-templates):」を参照してください。

## パスワード変更メール

If a user requests a password change, they will receive a **Change Password** email that contains a URL link. When the user clicks on the link, a [Password Reset page](/docs/customize/login-pages/classic-login/customize-password-reset-page) will be presented to enter the new password.

ユーザー招待情報（すべての情報をユーザー招待チケットから取得）

* `url`：URLパスワードを変更するためにユーザーが選択します。これを**［Message（メッセージ）］**フィールドで使用し、次の例に示すように、ユーザーが従うことができるリンクを作成することができます。
  `<a href="/docs/{{ url }}">Click here to change your password</a>`
* If the user is logged in through an [Organization](/docs/manage-users/organizations/organizations-overview):

  + `organization.display_name`
  + `organization.metadata`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`
  + メールをローカライズするには、招待状の作成時に`user_metadata`で送信される`locale`を設定することができます。詳細については、「[メールテンプレートをカスタマイズする：多言語のメールテンプレート](/brand-and-customize/email/customize-email-templates):」を参照してください。

### パスワード変更テンプレートのリダイレクト先の結果

パスワード変更操作を試行した後に、**Redirect To（リダイレクト先）**URLをユーザーに送信するよう構成することができます。デフォルトでは、Auth0には以下のパラメーターが含まれます。

* `success`（`true`または`false`の値を持つ）はパスワード変更が正常に行われたかどうかを示します。
* `Your account has been unblocked.`（`success=true`を含む）

  + `You can now login to the application with the new password.`（`success=true`を含む）
  + `Access expired.`（`success=false`を含む）
  + 他に考えられるメッセージを適切に処理するために、ターゲットURLハンドラーも準備しておく必要があります。
  + `The operation cannot be completed.Please try again.`（`success=false`を含む）

侵害されたパスワードのアラートメール

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

For some errors, the user may be sent to the [Generic Error Page](/docs/authenticate/login/auth0-universal-login/error-pages) page instead of the Redirect To URL.

</Callout>

## ブロックされたアカウントメール

ユーザーが同じIPアドレスから10回以上ログインに失敗した場合、ユーザーアカウントはロックされ、**Blocked Account（ブロックされたアカウント）**メールが送られてきます。このメールを受け取ったら、メールに含まれるリンクをクリックしないと、そのIPアドレスからログインし直すことはできません。

すべてのメールテンプレートで利用できる共通変数のほかに、**Blocked Account Email（ブロックされたアカウントメール）**テンプレートでは以下の変数も利用することができます。

`user.country`

* `user.country`
* `user.country`
* ユーザーが[Organization（組織）](/organizations/organizations-overview)からログインした場合：
* If the user is logged in through an [Organization](/docs/manage-users/organizations/organizations-overview):

  + `organization.display_name`
  + `organization.metadata`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`
  + メールをローカライズするには、招待状の作成時に`user_metadata`で送信される`locale`を設定することができます。詳細については、「[メールテンプレートをカスタマイズする：多言語のメールテンプレート](/brand-and-customize/email/customize-email-templates):」を参照してください。

ブロックされたアカウントメールテンプレートのリダイレクト先の結果

`<a href="/docs/{{ url }}">Click here to unblock your account</a>`

### アカウントのブロック解除操作を試行した後に、**Redirect To（リダイレクト先）**URLをユーザーに送信するよう構成することができます。リダイレクト時に、Auth0には以下のパラメーターが含まれます。

`email`はユーザーのメールを示します。

* `success`（`true`または`false`の値を持つ）はアカウントのブロック解除が正常に行われたかどうかを示します。
* `message`（結果に関する追加説明付き）。取り得る値は次のとおりです。
* `Your account has been unblocked.`（`success=true`を含む）

  + `This URL can be used only once`（`success=false`を含む）
  + `Access expired.`（`success=false`を含む）
  + 他に考えられるメッセージを適切に処理するために、ターゲットURLハンドラーも準備しておく必要があります。

侵害されたパスワードのアラートメール

## サードパーティーによって漏洩したパスワードを使ってアプリケーションにアクセスしようとしていることがAuth0で検出されると、このメールタイプが必ず送られてきます。このタイプのメールは、Dashboardの[攻撃防御](%24%7Bmanage_url%7D/#/security/attack-protection)セクションの**［Breached Password Detection（侵害されたパスワードの検出）］**を有効にした後でのみ設定されます。詳細については、「[侵害されたパスワードの検出](/attack-protection/breached-password-detection)」を参照してください。

This email type is sent whenever Auth0 detects that the user is trying to access the application using a password that has been leaked by a third party. These emails are only set after enabling **<Tooltip tip="Breached Password Detection: Form of attack protection in which Auth0 notifies your users if they use a username/password combination that has been compromised in a data leak on a third-party website or app." cta="View Glossary" href="/docs/glossary?term=Breached+Password+Detection">Breached Password Detection</Tooltip>** in the [Attack Protection](https://manage.auth0.com/#/security/attack-protection) section of the dashboard. To learn more, see [Breached Password Detection](/docs/secure/attack-protection/breached-password-detection).

ユーザーが[Organization（組織）](/organizations/organizations-overview)からログインした場合：

* If the user is logged in through an [Organization](/docs/manage-users/organizations/organizations-overview):

  + `organization.display_name`
  + `organization.metadata`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`
  + メールをローカライズするには、招待状の作成時に`user_metadata`で送信される`locale`を設定することができます。詳細については、「[メールテンプレートをカスタマイズする：多言語のメールテンプレート](/brand-and-customize/email/customize-email-templates):」を参照してください。

## このメールは、MFA登録招待が送信されるときに生成されます。このメッセージにはリンクが含まれており、リンクにアクセスすると、MFA登録エクスペリエンスが表示されます。

This email will be generated when an <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=MFA">MFA</Tooltip> enrollment invitation is sent. The message will contain a link that, when visited, will show the MFA enrollment experience.

他のメールテンプレートとは異なり、正しい変数名は`link`であり、`url`ではありません。また、このメールテンプレートタイプでは、`connection.name`変数を使用することはできません。

`<a href="/docs/{{ link }}">Enroll your MFA device</a>`

MFAの確認コードメール

## このメールは、メールをMFA方式に使用し、確認コードを送信するよう要求するときに生成されます。共通変数のほかに、テンプレートではMFA確認用に使用されるコードを表示するための`code`変数も用意されています。例：

Your code is:{{ code }}

`<div>Your code is: {{ code }}</div>`

## ユーザーが[Organization（組織）](/organizations/organizations-overview)のメンバーになるよう招待されると、URLリンクを含んだ**User Invitation（ユーザー招待）**メールが送られてきます。リンクをクリックすると、デフォルトのログインルートにリダイレクトされます。詳細については、「[デフォルトのログインルートを設定する](/login/universal-login/configure-default-login-routes)」を参照してください。

If a user is invited to become a member of an [Organization](/docs/manage-users/organizations/organizations-overview), they will receive a **User Invitation** email that contains a URL link. When the user clicks on the link, they will be redirected to your default login route. To learn more, see [Configure Default Login Routes](/docs/authenticate/login/auth0-universal-login/configure-default-login-routes).

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

When a user accepts an invitation, their email address will be marked as verified.

If the user accepts an invitation through federated login, then the identity provider must return the email address that matches the email address to which the invitation was sent. The email verification will not be overridden with the value returned by the identity provider on subsequent logins.

If the user does not accept an invitation before it expires, the invitation will be marked as expired and eventually deleted from the [Auth0 Dashboard](/docs/get-started/auth0-overview/dashboard).

</Callout>

ユーザー招待情報（すべての情報をユーザー招待チケットから取得）

* `app_metada`

  + `app_metada`
  + `user_metadata`
  + `roles.name`
  + `roles.name`
  + `roles.description`
  + 組織情報：
* `organization.display_name`

  + `organization.display_name`
  + `organization.metadata`
  + `organization.metadata`
  + `organization.branding.logo_url`
  + `organization.branding.colors.primary`
  + `organization.branding.colors.page_background`
  + メールをローカライズするには、招待状の作成時に`user_metadata`で送信される`locale`を設定することができます。詳細については、「[メールテンプレートをカスタマイズする：多言語のメールテンプレート](/brand-and-customize/email/customize-email-templates):」を参照してください。

To localize emails, you can set the `locale` to be sent in `roles.name` when creating an invitation. To learn more, see [Customize Email Templates: Multilingual Email Templates](/docs/customize/email/email-templates).

### `invitation`：招待チケットのID

You must [configure a default login route](/docs/authenticate/login/auth0-universal-login/configure-default-login-routes), to which users will be sent after selecting the link to accept the invitation. When redirecting, Auth0 will include the following parameters:

* `organization_name`：ユーザーが招待されている組織の名前
* たとえば、組織対応のアプリケーションで**［Application Login URI（アプリケーションログインURI）］**が`
* 対象のログインルートは、用意された`invitation`と`organization`のキー値ペアを含んだ`/authorize`へのトランザクションを開始します。また、他に考えられるメッセージを適切に処理するための準備もしておく必要があります。

For example, if you have an organization-enabled application with an **Application Login URI** set to `https://myapp.com/login`, then the link sent in the email invitation that an end-user receives will be: `https://myapp.com/login?invitation={invitation_ticket_id}&organization={organization_id}&organization_name={organization_name}`.

これまでのメールテンプレートタイプとは異なり、このメールテンプレートは「Email Templates（メールテンプレート）」セクションでは構成されておらず、[メールのパスワードレス接続の設定](%24%7Bmanage_url%7D/#/connections/passwordless)の一部となっています。

## パスワードレスメールは、パスワードレスアクセスが要求されたときに、コード（アプリケーションに入力されたコードをユーザーに送られてくる）かリンク（リンクをクリックするとユーザーがアプリケーションに直接移動する）のいずれかの方法で送信されます。

Unlike the previous email templates types, this email template is not configured from the Email Templates section. Instead, it's part of the [settings for the Email Passwordless Connection](https://manage.auth0.com/#/connections/passwordless).

The <Tooltip tip="Passwordless: Form of authentication that does not rely on a password as the first factor." cta="View Glossary" href="/docs/glossary?term=Passwordless">Passwordless</Tooltip> Email is sent when a passwordless access is requested, either by code (the user receives a code that types in the application) or by a link (the user clicks on a link and is taken directly to the application).

`code`：アプリケーションにアクセスするための1回限りの使用コードが含まれます。

* `link`：このリンクをクリックすると、ユーザーはアプリケーションにアクセスすることができます（リンクタイプのパスワードレスメール専用）。
* `operation`：これがパスワードレスメールの変更操作である場合は、`change_email`になります。
* デフォルトのテンプレートでは、上記の変数を使って、以下のような操作を行います。
* Passwordless Email（パスワードレスメール）テンプレートでは、`user`オブジェクトの`email`プロパティのみを使用できます。

The default template uses the above variables to do something like this:

```liquid lines
<!-- Email change content -->
{% if operation == 'change_email' %}
  <p>Your email address has been updated.</p>
{% else %}
  <!-- Signup email content -->
  {% if send == 'link' or send == 'link_ios' or send == 'link_android' %}
    <p>Click and confirm that you want to sign in to {{ application.name }}. This link will expire in five minutes.</p>
    <a href="/docs/{{ link }}">Sign in to {{ application.name }}</a>
    {% elsif send == 'code' %}
    <p>Your verification code is: <b>{{ code }}</b></p>
  {% endif %}
{% endif %}
```






In the Passwordless Email template only the `email` property of the `user` object is available.

## Learn more

* [Customize Email Templates](/docs/customize/email/email-templates)
* [Customize Email Handling](/docs/customize/email/manage-email-flow)
* [Customize Blocked Account Emails](/docs/customize/email/customize-blocked-account-emails)