---
og:description: Learn how to create a custom error page for authorization error events.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: エラーページをカスタマイズする
og:url: https://auth0.com/docs/
permalink: custom-error-pages
title: エラーページをカスタマイズする
twitter:description: Learn how to create a custom error page for authorization error
  events.
twitter:title: エラーページをカスタマイズする
---

認可エラーが発生し、コールバックURLが有効な場合、認可サーバーは適切なエラーパラメーターと状態パラメーターをコールバックURLに返します。コールバックURLが無効な場合、アプリケーションは[デフォルトのAuth0エラーページ](/login/universal-login/error-pages)を表示します。

アプリケーションは次のような場合、無効なコールバックURL以外の理由でも、デフォルトのAuth0エラーページを表示することがあります。

* Auth0 Authentication API[ログインエンドポイント](https://auth0.com/docs/api/authentication#login)を呼び出すときに必要なパラメーターが不足している。
* ユーザーが期限切れのパスワードリセットリンクを開いた（クラシックログインエクスペリエンスを使用している場合）。
* ユーザーがブックマークされたログインページに移動し、[デフォルトのログインルート](/login/universal-login/configure-default-login-routes)が指定されていない。

## パラメーター

カスタムエラーページを構成することを選択した場合、認可サーバーはクエリ文字列としてURLに追加されたパラメーターを返します。



このパラメーターはエラーの種類によって異なり、要求固有のものになります。たとえば、エラーの原因となった要求に`client_id`が含まれていない場合、認可サーバーは`client_id`パラメーターを返しません。

## カスタムエラーページを表示する

カスタムエラーページを表示する場合は、次の2つのオプションがあります。

1. Auth0 DashboardまたはAuth0 Management APIを使用して、ユーザーをカスタムエラーページにリダイレクトする。
2. Auth0がManagement API経由でカスタムエラーページをレンダリングするように構成する。

### Dashboardを使用してユーザーをカスタムエラーページにリダイレクトする

Dashboardを使用して、ユーザーをカスタムエラーページにリダイレクトするようにAuth0を構成します。

1. [［Auth0 Dashboard］>［Tenance Settings（テナント設定）］](%24%7Bmanage_url%7D/#/tenant/)に移動します。
2. **［Error Pages（エラーページ）］**セクションを見つけます。
3. **［Redirect users to your own error page（ユーザーを独自のエラーページにリダイレクトする）］**オプションを選択します。
4. ユーザーに表示するエラーページのURLを入力し、**［Save（保存）］**を選択します。

### Management APIを使用してユーザーをカスタムエラーページにリダイレクトする

Management APIの[テナント設定更新](/api/management/v2/#!/Tenants/patch_settings)エンドポイントを使用します。`{mgmtApiAccessToken}`プレースホルダー値をManagement APIのアクセストークンに置き換え、JSON本文の`url`フィールドの値をエラーページの場所をポイントするように更新します。





### カスタムエラーページをレンダリングする



Management APIの[テナント設定更新](/api/management/v2/#!/Tenants/patch_settings)エンドポイントを使用します。`{mgmtApiAccessToken}`プレースホルダー値をManagement APIのアクセストークンに置き換え、JSON本文の`html`フィールドの値をページのHTMLを含む文字列に更新します。

Liquid構文を使用して、次の変数を含めることができます。

* `{client_id}`
* `{connection}`
* `{lang}`
* `{error}`
* `{error_description}`
* `{tracking}`





XSS脆弱性を防ぐには、Liquidの[escape](https://shopify.github.io/liquid/filters/escape/)フィルターと[strip_html](https://shopify.github.io/liquid/filters/strip_html/)フィルターを使用してカスタムテンプレートをサニタイズします。