---
og:description: Learn how to configure a custom domain for Auth0 authentication features.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 機能にカスタムドメインの使用を構成する
og:url: https://auth0.com/docs/
permalink: configure-features-to-use-custom-domains
title: 機能にカスタムドメインの使用を構成する
twitter:description: Learn how to configure a custom domain for Auth0 authentication
  features.
twitter:title: 機能にカスタムドメインの使用を構成する
---

To configure Auth0 features to use your <Tooltip tip="Custom Domain: Third-party domain with a specialized, or vanity, name." cta="View Glossary" href="/docs/glossary?term=custom+domain">custom domain</Tooltip>, you may need to complete additional steps depending on the features you are using. For example, you may need to make changes before you can use your custom domain on your login page or to call your APIs.

If you have been using Auth0 for some time and decide to enable a custom domain, you will have to migrate your existing apps and update the settings as described below, including to any VPN or firewall you use. Note that existing sessions created at `{yourDomain}` will no longer be valid once you start using your custom domain, so users will have to log in again.

## 前提条件

カスタムドメインの構成と検証がすでに完了している

## 機能

<table class="table"><thead>
<tr>
<th><strong>Feature</strong></th>
<th><strong>Section to read</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><Tooltip tip="Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> with a customized login page</td>
<td><a href="#universal-login">Universal Login</a></td>
</tr>
<tr>
<td>Lock embedded in your application</td>
<td><a href="#embedded-lock">Embedded Lock</a></td>
</tr>
<tr>
<td>Auth0 SPA SDK, Auth0.js, or other Auth0 SDKs</td>
<td><a href="#auth0-spa-sdk-auth0-js-and-other-sdks">Auth0 SPA SDK, Auth0.js, and other SDKs</a></td>
</tr>
<tr>
<td>Custom domain with Auth0 emails</td>
<td><a href="#use-custom-domains-in-emails">Use custom domains in emails</a></td>
</tr>
<tr>
<td>Social identity providers</td>
<td><a href="#configure-social-identity-providers">Configure social identity providers</a></td>
</tr>
<tr>
<td>Google Workspace connections with your custom domain</td>
<td><a href="#configure-g-suite-connections">Configure Google Workspace connections</a></td>
</tr>
<tr>
<td>Issue Access Tokens for your Auth0 API or access アクセストークン要求は以下のようになるはずです。 from your application</td>
<td><a href="#apis">APIs</a></td>
</tr>
<tr>
<td><Tooltip tip="Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> Identity Providers</td>
<td><a href="#configure-saml-identity-providers">Configure SAML identity providers</a></td>
</tr>
<tr>
<td>SAML applications</td>
<td><a href="#configure-saml-applications">Configure SAML applications</a></td>
</tr>
<tr>
<td>Web Service Federation (WS-Fed) applications</td>
<td><a href="#configure-ws-fed-applications">Configure WS-Fed applications</a></td>
</tr>
<tr>
<td>Azure AD connections</td>
<td><a href="#configure-azure-ad-connections">Configure Azure AD connections</a></td>
</tr>
<tr>
<td>ADFS connections</td>
<td><a href="#configure-adfs-connections">Configure ADFS connections</a></td>
</tr>
<tr>
<td>AD/LAP connections with Kerberos support</td>
<td><a href="#configure-ad-ldap-connections">Configure AD/LAP connections</a></td>
</tr>
</tbody>
</table>

## ユニバーサルログイン

If you use [Auth0 Universal Login](/docs/authenticate/login/auth0-universal-login) and you have customized the login page, you must update the code to use your custom domain. If you use the **default** login page without customization, you do not need to make any changes. To learn more, read Auth0 <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip>.

If you use [Lock for Web](/docs/libraries/lock), you must set the `configurationBaseUrl` and `overrides` options as seen in the following sample script:

```javascript lines
var lock = new Auth0Lock(config.clientID, config.auth0Domain, {
  //code omitted for brevity
  configurationBaseUrl: config.clientConfigurationBaseUrl,
  overrides: {
  	__tenant: config.auth0Tenant,
  	__token_issuer: config.authorizationServer.issuer
  },
  //code omitted for brevity
});
```






If you use [Auth0.js](/docs/libraries/auth0js) on the ユニバーサルログイン page, you must set the `overrides` option.

```javascript lines
var webAuth = new auth0.WebAuth({
  clientID: config.clientID,
  domain: config.auth0Domain,
  //code omitted for brevity
  overrides: {
  	__tenant: config.auth0Tenant,
  	__token_issuer: config.authorizationServer.issuer
  },
  //code omitted for brevity
});
```






アプリケーションに[Web用のLock](/libraries/lock)を埋め込んで使用している場合には、Lockの初期化時にカスタムドメインが使用されるようにコードを更新しなければなりません。また、`configurationBaseUrl`を適切なCDNのURLに設定する必要があります。

## CDNのURLは地域によって異なります。`

If you use [Lock for Web](/docs/libraries/lock) embedded in your application, you must update the code to use your custom domain when initializing Lock. You will also need to set the `configurationBaseUrl` to the appropriate CDN URL.

{/* codeblockOld.header.login.logInButton codeblockOld.header.login.configureSnippet */}


```javascript lines
var lock = new Auth0Lock('{yourClientId}', '{yourCustomDomain}', {
  //code omitted for brevity
  configurationBaseUrl: 'https://cdn.us.auth0.com'
  //code omitted for brevity
});
```






The CDN URL varies by region. Use `https://cdn.[us|eu|au|jp].auth0.com` (`us` for US, `eu` for Europe, `au` for Australia, or `jp` for Japan).

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

The CDN URL varies by region. Tenants created before 11 June 2020 should use `https://cdn.auth0.com` if the region is the United States, or add `eu`, `au`, `jp` for Europe, Australia, or Japan. If your tenant was created after 11 June 2020, use `https://cdn.us.auth0.com` if the region is the United States.

</Callout>

## カスタムドメインを使用していて、[Auth0.jsを用いたManagement APIのアクション](/libraries/auth0js/v9#user-management)を実行する予定の場合には、以下に記載のAPIセクションを参照してください。

If you use the [Auth0 SPA SDK](/docs/libraries/auth0-single-page-app-sdk), [Auth0.js](/docs/libraries/auth0js), or [other SDKs](/docs/troubleshoot/customer-support/product-support-matrix#auth0-sdks), you will have to initialize the SDK using your custom domain. For example, if you are using the Auth0.js SDK, you must set the following:

{/* codeblockOld.header.login.logInButton codeblockOld.header.login.configureSnippet */}


```js lines
webAuth = new auth0.WebAuth({
  domain: '{yourCustomDomain}',
  clientID: '{yourClientId}'
});
```






Auth0のメールにカスタムドメインを使用したい場合には、この機能を有効化する必要があります。

{/* codeblockOld.header.login.logInButton codeblockOld.header.login.configureSnippet */}


```javascript lines
const auth0 = await createAuth0Client({
  domain: '{yourCustomDomain}',
  client_id: '{yourClientId}'
});
```






See Auth0 API section below if you use a custom domain and also intend to perform [Management API actions with Auth0.js](/docs/libraries/auth0js#user-management).

## ソーシャルIDプロバイダー（IdP）でカスタムドメインを使用したい場合には、IdPの［Authorized Redirect URIs（認可されているリダイレクトURI）］リストにカスタムドメイン（`

カスタムドメインには[Auth0の開発者キー](/devkeys)は使用できません。

1. Go to [Auth0 Dashboard > Branding > Custom Domains](https://manage.auth0.com/#/branding/custom_domains).
2. Enable the **Use Custom Domain in Emails** toggle.

## Google Workspace接続を構成する

If you want to use your custom domain with Social <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+providers">identity providers</Tooltip> (IdP), you must update your IdP's list of Authorized Redirect URIs to include your custom domain (such as `https://login.northwind.com/login/callback`).

You cannot use [Auth0 developer keys](/docs/authenticate/identity-providers/social-identity-providers/devkeys) with custom domains.

## API識別子（`audience`）は変更されません。これはそれぞれのAPIに一定の値で、URIが標準的に使用されているにもかかわらず、トークンの取得に使用されるドメインとは完全に無関係です。

If you want to use your custom domain with Google Workspace connections, you must update the Authorized Redirect URI in your <Tooltip tip="OAuth 2.0: Authorization framework that defines authorization protocols and workflows." cta="View Glossary" href="/docs/glossary?term=OAuth">OAuth</Tooltip> Client Settings. In the Google Developer Console, go to **Credentials**, choose your OAuth client in the list, and you will see a settings page with the app <Tooltip tip="Client ID: Identification value given to your registered resource from Auth0." cta="View Glossary" href="/docs/glossary?term=Client+ID">Client ID</Tooltip>, secret, and other fields. In the **Authorized redirect URIs** field, add a URL in the format `https://<YOUR-CUSTOM-DOMAIN>/login/callback` that includes your custom domain (such as `https://login.northwind.com/login/callback`).

## Auth0 API

すべての要求（トークン取得や実際のAPI呼び出し）には同じドメインを使用する必要があります。カスタムドメインを通して取得したトークンは、その同じカスタムドメインでAuth0 APIに使用されなければなりません。

また、カスタムドメインを用いた認証フローを使って、Management APIへのアクセスにアクセストークンを要求する場合には、そのカスタムドメインでManagement APIを呼び出す必要があります。

##### アクセストークン要求は以下のようになるはずです。

Continue to use your default tenant domain name (such as `https://{yourDomain}/userinfo` and `https://{yourDomain}/api/v2/`) instead of your custom domain when specifying an `audience`. This is the only place to use your default tenant domain.

Auth0でカスタムドメインを使ってAPIにアクセストークンを発行する場合には、JWTの発行者をカスタムドメインに照らし合わせて検証しなければなりません。たとえば、[express-jwt]()ミドルウェアの使用では、以下の変更を行う必要があります。

If you use an authentication flow with your Custom Domain to request <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=Access+Tokens">Access Tokens</Tooltip> to access the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>, you must call the Management API endpoint with your Custom Domain too.

```json lines
POST https://mycustomdomain.com/oauth/token
... // other parameters 
...
audience:https://defaulttenant.eu.auth0.com/api/v2/
```






SAML IDプロバイダー（IdP）でカスタムドメインを使用する場合には、IDプロバイダーで**Assertion Consumer Service（ACS）のURL**を更新する必要があります。これは、IdPでの対応に合わせて、以下のいずれかの方法で実行できます。

```json lines
GET https://mycustomdomain.com/api/v2/clients

Headers:
Authorization: Bearer <access_token>
```






##### 署名証明書を`

If you use Auth0 with a custom domain to issue Access Tokens for your APIs, you must validate the <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JWT">JWT</Tooltip> issuer(s) against your custom domain. For example, if you use the [express-jwt](https://github.com/auth0/express-jwt) middleware, you must make the following change:

```js lines
app.use(jwt({
  issuer: 'https://<YOUR-CUSTOM-DOMAIN>/',
  //code omitted for brevity
}));
```






## IdPが証明書をインポートして、必要であれば、署名の検証を有効化します（実際の手順はIdPによって異なります）。

To use your custom domain with <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> Identity Providers (IdPs), you must update your **Assertion Consumer Service (ACS) URL(s)** with the Identity Provider(s). Depending on what is supported by the IdP, you can do this in one of two ways:

1. You can get the service provider metadata from Auth0 at `https://<YOUR-CUSTOM-DOMAIN>/samlp/metadata?connection=<YOUR-CONNECTION-NAME>`. This will include the updated ACS URL. Then, you must manually update this value in your IdP(s) settings. This change to your IdP(s) must happen at the same time as you begin using your custom domain in your applications. This can pose a problem if there are multiple IdPs to configure.
2. If supported by the IdP, you can use signed requests to fulfill this requirement:

* Download the signing certificate from `https://<TENANT>.auth0.com/pem`. Note that `https://<YOUR-CUSTOM-DOMAIN>.com/pem` will return the same certificate
* 対応されている場合には、1つ以上のIdPで設定が同時に変更できないため、署名付き要求の受け付けを事前に準備できるようになっています。また、後の時点で、静的に構成されたACS URLをIdPの設定で変更することもできます。
* SAML IDプロバイダーでカスタムドメインの使用が構成されている場合、Dashboardの**［Try（試す）］**ボタンは動作**しません**。Auth0からメタデータをダウンロードするデフォルトのリンクとして、カスタムドメインではなく、デフォルトのドメインが表示されます。
* IdP起点の認証フローがある場合には、カスタムドメインの使用について、IdPとアプリケーションを同時に更新する必要があります。

SAMLアプリケーションを構成する

SAMLアプリケーションでカスタムドメインを使用したい（Auth0がIdPである）場合には、Auth0からの新しいIDプロバイダーメタデータでサービスプロバイダーを更新する必要があります。カスタムドメインが更新されたメタデータは、`

IdP起点の認証フローがある場合には、その実行に使用されるURLをカスタムドメインで更新する必要があります。必ず、`

WS-Fedアプリケーションを構成する

## WS-Fedでカスタムドメインを使用したい（Auth0がIdPである）場合には、Auth0からの新しいIDプロバイダーメタデータでサービスプロバイダーを更新する必要があります。カスタムドメインが更新されたメタデータは、`

If you want to use your custom domain with SAML applications (when Auth0 is the IdP), you must update your service provider with new identity provider metadata from Auth0. You can obtain the updated metadata reflecting the custom domain from `https://<YOUR-CUSTOM-DOMAIN>/samlp/metadata/<YOUR-CLIENT-ID>`. Note that the issuer entity ID for the assertion returned by Auth0 will change when using a custom domain (from something like `urn:northwind.auth0.com` to one with the custom domain, such as `urn:login.northwind.com`).

If you have an IdP-initiated authentication flow, you will need to update the URL used to invoke the IdP-initiated authentication flow to reflect the custom domain. Instead of `https://<TENANT>.auth0.com/samlp/<YOUR-CLIENT-ID>`, you should use `https://<YOUR-CUSTOM-DOMAIN>/samlp/<YOUR-CLIENT-ID>`.

## ADFS接続を構成する

If you want to use your custom domain with <Tooltip tip="Web Service Federation (WS-Fed): Protocol for managing user identities across domains." cta="View Glossary" href="/docs/glossary?term=WS-Fed">WS-Fed</Tooltip> applications with Auth0 as the IdP, you must update your Service Provider with new identity provider metadata from Auth0. You can obtain the metadata reflecting the custom domain from `https://<YOUR-CUSTOM-DOMAIN>/wsfed/FederationMetadata/2007-06/FederationMetadata.xml`.

## AD/LDAP接続を構成する

If you want to use your custom domain with Azure AD connections, you must update the Allowed Reply URL in your Azure AD settings. In your Azure Active Directory, go to **Apps registrations** and select your app. Then click **Settings -> Reply URLs** and add a URL with your custom domain in the format `https://<YOUR-CUSTOM-DOMAIN>/login/callback` (such as `https://login.northwind.com/login/callback`).

## Kerberosに対応したAD/LDAP接続を使用するには、カスタムドメインと動作するようにチケットエンドポイントを更新しなければなりません。[Auth0 AD/LDAPコネクターのドキュメント](/connector/modify#point-an-ad-ldap-connector-to-a-new-connection)でも説明したように、`config.json`ファイルを編集し、カスタムドメインを使用するように、`PROVISIONING_TICKET`値を`

If you want to use your custom domain with ADFS connections, you must update the endpoint in your ADFS settings. This will need to be updated to use your custom domain in the callback URL in the format `https://<YOUR-CUSTOM-DOMAIN>/login/callback` (such as `https://login.northwind.com/login/callback`).

## Configure AD/LDAP connections

If you do not need Kerberos support, AD/LDAP connections do not require further configuration.

In order to use AD/LDAP connections with Kerberos support, you will need to update the Ticket endpoint to work with the custom domain. As mentioned in the [Auth0 AD/LDAP connector documentation](/docs/authenticate/identity-providers/enterprise-identity-providers/active-directory-ldap/ad-ldap-connector/ad-ldap-connector-to-auth0#point-an-ad-ldap-connector-to-a-new-connection), the `config.json` file needs to be modified, with the `PROVISIONING_TICKET` value changed to use your custom domain in the format `https://<YOUR-CUSTOM-DOMAIN>/p/ad/jUG0dN0R`.

Once this change is saved, you need to restart the AD/LDAP Connector service for the change to take effect.

## Learn more

* [Configure Custom Domains with Auth0-Managed Certificates](/docs/customize/custom-domains/auth0-managed-certificates)
* [Configure Custom Domains with Self-Managed Certificates](/docs/customize/custom-domains/self-managed-certificates)
* [Troubleshoot Custom Domains](/docs/troubleshoot/integration-extensibility-issues/troubleshoot-custom-domains)
* [Check API Calls](/docs/troubleshoot/authentication-issues/check-api-calls)
* [Troubleshoot SAML Configurations](/docs/troubleshoot/authentication-issues/troubleshoot-saml-configurations)