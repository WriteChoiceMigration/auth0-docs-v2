---
og:description: How to use Auth0 to secure a CLI.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Auth0でCLIを保護する
og:url: https://auth0.com/docs/
permalink: secure-a-cli-with-auth0
title: Auth0でCLIを保護する
twitter:description: How to use Auth0 to secure a CLI.
twitter:title: Auth0でCLIを保護する
---

CLIをAuth0で保護するには、次の3通りの方法があります。以下、最も安全な方法から順に挙げます。

* ユーザーがブラウザーを開けない場合の[デバイス認可フロー](#device-authorization-flow)
* ユーザーに紐づけられず、自身の名義で動作するアプリケーション用の[クライアント資格情報付与フロー](#client-credentials-grant-flow)
* 非常に稀なケースで、CLIクライアント自体を認証しようとする場合にのみ使用される（それ以外の場合は推奨されない）[リソース所有者のパスワード付与フロー](#resource-owner-password-grant-flow)

## デバイス認可フロー

With input-constrained devices that connect to the internet, rather than authenticate the user directly, the device asks the user to go to a link on their computer or smartphone and authorize the device. This avoids a poor user experience for devices that do not have an easy way to enter text. To do this, device apps use the Device <Tooltip tip="Authorization Flow: Authorization grant (or workflow) specified in the OAuth 2.0 framework." cta="View Glossary" href="/docs/glossary?term=Authorization+Flow">Authorization Flow</Tooltip> (drafted in OAuth 2.0), in which they pass along their <Tooltip tip="Client ID: Identification value given to your registered resource from Auth0." cta="View Glossary" href="/docs/glossary?term=Client+ID">Client ID</Tooltip> to initiate the authorization process and get a token.

The easiest way to implement the デバイス認可フロー is to follow the steps in [Call API Using Device Authorization Flow](/docs/get-started/authentication-and-authorization-flow/device-authorization-flow/call-your-api-using-the-device-authorization-flow).

To learn more about the デバイス認可フロー in <Tooltip tip="OAuth 2.0: Authorization framework that defines authorization protocols and workflows." cta="View Glossary" href="/docs/glossary?term=OAuth+2.0">OAuth 2.0</Tooltip>, you can review the Internet Engineering Task Force (IEFT) draft [OAuth 2.0 Authorization Grant](https://tools.ietf.org/html/draft-ietf-oauth-device-flow-15). You can also review our article, [Device Authorization Flow](/docs/get-started/authentication-and-authorization-flow/device-authorization-flow).

## クライアント資格情報付与フロー

Use the Client Credentials Grant (CCG) flow when users and downstream <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+providers">identity providers</Tooltip> aren't involved, and you want to authenticate based on distinct machines or devices.

If your identity provider supports sending credentials, then you should review our article, [Client Credentials Flow](/docs/get-started/authentication-and-authorization-flow/client-credentials-flow). For details on how to implement this flow, refer to [Call API Using the Client Credentials Flow](/docs/get-started/authentication-and-authorization-flow/client-credentials-flow/call-your-api-using-the-client-credentials-flow).

## リソース所有者のパスワード付与フロー

We do not recommend using the <Tooltip tip="Resource Owner: Entity (such as a user or application) capable of granting access to a protected resource." cta="View Glossary" href="/docs/glossary?term=Resource+Owner">Resource Owner</Tooltip> Password Grant (ROPG) flow for native applications. In the IEFT article, [RFC 8252 OAuth 2.0 for Native Apps](https://tools.ietf.org/html/rfc8252), it is recommended that “OAuth 2.0 authorization request from native apps should ONLY be made through external user-agents, primarily the user’s browser”. For details, see [RFC 8252 Embedded User-Agents](https://tools.ietf.org/html/rfc8252#section-8.12).

リソース所有者のパスワード付与（ROPG）の使用は、上記で説明したリダイレクトベースのオプションよりもセキュリティが劣ります。ROPG はレガシーシステム向けのみの使用が推奨されています。CLIに関して言えば、レガシープログラムをサポートする必要がある接続文字列のようなケースにのみ意味があります。

If you must use ROPG in your native app instead of Device Flow as we recommend, then you can use our [OIDC Compliant ROPG endpoint](https://auth0.com/docs/api/authentication#resource-owner-password).