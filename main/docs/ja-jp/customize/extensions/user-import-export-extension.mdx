---
og:description: Learn about the User Import/Export extension, which allows you to
  import and export users from or to any database you have configured in your account.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: ユーザーのインポート/エクスポート拡張機能
og:url: https://auth0.com/docs/
permalink: user-import-export-extension
title: ユーザーのインポート/エクスポート拡張機能
twitter:description: Learn about the User Import/Export extension, which allows you
  to import and export users from or to any database you have configured in your account.
twitter:title: ユーザーのインポート/エクスポート拡張機能
---

<Warning>

The **User Import/Export Extension** will be deprecated in September 2025. You can access the same features now available [directly in the Auth0 Management Dashboard](/docs/manage-users/user-migration/bulk-user-import-export).

</Warning>

**［User Import / Export Extension（ユーザーインポート/エクスポート拡張機能）］**を使用すると、次のことが可能になります：

* 既存のデータベースユーザーをAuth0に一括インポートする
* Auth0データベースユーザーの何人か（または全員）を検索またはエクスポートする

For a list of user profile fields that can be imported and exported, see [User Profile Attributes](/docs/manage-users/user-accounts/user-profiles/user-profile-structure).

この拡張機能を使用するには、Dashboard Adminでなければなりません。

## 拡張機能をインストールする

To install this extension, go to [Auth0 Dashboard > Extensions](https://manage.auth0.com/#/extensions), and select **User Import / Export**.

拡張機能をインストールする前に追加の構成は必要ないため、情報ポップアップウィンドウで**［Install（インストール）］**を選択して続行します。

## 拡張機能を使用する

拡張機能をインストールすると、インストール済み拡張機能のリストに表示されます。**［Import / Export Extension（インポート/エクスポート拡張機能）］**をクリックして起動します。

初めて拡張機能を起動すると、リストにあるアクティビティについて、拡張機能がAuth0アカウントにアクセスすることを許可するかが尋ねられます。

<Frame>![Dashboard Extensions Authorize the Users Import/Export Extension](/images/cdy7uua7fh8z/5CCKmxUv1HN5nDj9jL8qel/d7f02ccf3f4be166b00bbf217e14144f/Screen_Shot_2021-05-18_at_9.11.01_PM.png)</Frame>

**［check mark（チェックマーク）］**をクリックして続行します。

拡張機能では以下の2つを行うことができます。

* 既存のデータベースユーザーをAuth0に一括インポートする
* Auth0データベースユーザーの何人か（または全員）を検索またはエクスポートする

これらのユースケースについては以下で詳しく説明します。

### ユーザーをインポートする

デフォルトでは、拡張機能を開くたびに、**［User Import（ユーザーインポート）］**画面が表示されます（エクスポート画面の場合は、左側のナビゲーションバーの**［Import（インポート）］**をクリックしてこの画面に戻ることができます）。

To import your users, drag and drop a valid JSON file ([schema and examples here](/docs/manage-users/user-migration/bulk-user-import-database-schema-and-examples)) onto the area that says **Drop your file here, or click to select**. Alternatively, you can click on this area to browse your files and select the appropriate JSON file. The JSON file should contain the list of users that you are planning to import.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

If you are using an export file from an Auth0 tenant, you must convert the exported file from `ndjson` to [JSON](/docs/manage-users/user-migration/bulk-user-exports#json-compatible-format). To keep the same user IDs, you must remove the `auth0| prefix` from all imported user IDs.

The import process automatically adds the `auth0| prefix` to the imported user IDs. If you do not remove the `auth0|` prefix before importing, the user IDs return as `auth0|auth0|...`

</Callout>

ユーザーのインポート先になるデータベース接続を選択します。選択する接続が、少なくとも1つのアプリケーションで有効になっていることを確認してください。

インポートプロセスを開始するには、**［Start Importing Users（ユーザーのインポートを開始）］**をクリックします。

完了すると、次の**［Completed（完了）］**メッセージが表示されます。

<Frame>![Dashboard Extensions Users Import Export Import Complete](/images/cdy7uua7fh8z/7hyE3DWBJuFuAulAAnZlfN/23303644d4c706f4c0937bd363bf6699/import-complete.png)</Frame>

Once you've imported your users, you can manage them individually using [Auth0 Dashboard > User Management > Users](https://manage.auth0.com/#/users).

### ユーザーをエクスポートする

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Auth0 uses the ndjson format due to the large size of export files. Before you can import users, you'll need to convert from **ndjson** to **json** using the library of your choice (such as [jq](https://stedolan.github.io/jq/)). When exporting users intended to later be imported, user field names should be left as their defaults and not mapped to a Column Name.

</Callout>

データベース接続に関連付けられている既存のAuth0ユーザーをエクスポートするには、**［Export（エクスポート）］**を選択します。

<Frame>![Dashboard Extensions Users Import Export Export Users page](/images/cdy7uua7fh8z/5wUhbGMjVQKIE9vx2SBIA3/a952aee6cc6027234631334c7174c4a8/export-users.png)</Frame>

**［User Fields（ユーザー フィールド）］**では、エクスポートに含めるユーザー属性または式を決定できます。ユーザー属性は、`user.user_metadata.name`のような静的な値にすることも、`user.user_metadata.name || user.name` のようなJavaScript式にすることもできます。式はエクスポートの実行時に評価されます。**column name**の値は、エクスポートで値がどのように表現されるかを示します。

**［Add Default Fields（デフォルトフィールドの追加）］**ボタンをクリックすると、デフォルトフィールドが自動的に選択され、列名が入力されます（これは、パラメーター/式がどのように表示されるかを視覚化するのにも適した方法です）。

関連する**［trash can（ゴミ箱）］**アイコンをクリックすると、不要な属性/式を削除できます。

**［Settings（設定）］**では次のことができます：

* ユーザーを並べ替える**［User Attribute（ユーザー属性）］**（およびユーザーを昇順または降順で並べ替えるかどうか）を指定して、エクスポートされたユーザーのリスト方法を設定します。
* **［Export Format（エクスポート形式）］**を選択します。JSONファイルとCSVファイルから選択できます。

  <Frame>![Dashboard Extensions Users Import Export Settings Export Format](/images/cdy7uua7fh8z/1HVpo1IevSRJbFvwrEKkzf/761fa914f6c33cdee147e07b2c43f7c7/settings.png)</Frame>

準備ができたら、**［Export X Users（Xユーザーのエクスポート）］**をクリックします（`X`はエクスポートするユーザーの数です）。

エクスポートが完了したら、ユーザーのファイルをダウンロードすることができます。

## ユーザーの更新

The Auth0 <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> allows bulk user profile updates to `user_metadata` and `app_metadata` with the User Import/Export Extension.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Auth0 does not currently support bulk import for Passwordless. Use [Auth0 Management API](https://auth0.com/docs/api/management/v2#!/Users/patch_users_by_id) to update users individually.

</Callout>

### ユーザーをエクスポートする

Using the [export process above](/docs/customize/extensions/user-import-export-extension#export-users), create a complete export file including all your user attributes.

エクスポートが完了したら、ユーザーのファイルをダウンロードします。

構成を更新する

### 前の手順でダウンロードしたJSONファイルの**［copy（コピー）］**を作成します。

複製したJSONファイルをテキストエディターで開きます。以下のようなユーザースキーマになっているはずです。

<Warning>

This process can result in data loss. Create a backup of your user database in the event of data corruption.

</Warning>

ユーザーのメールアドレスは、データベースでユーザーの検索キー（lookup key）となっているため、変更しないでください。

```json lines expandable
[
   {
      "Id":"auth0|626737a9813c000069daf462",
      "Nickname":"testuser1",
      "Name":"testuser1@auth0.com",
      "email":"testuser1@auth0.com",
      "Connection":"Username-Password-Authentication",
      "Created At":"2022-04-26T00:07:05.098Z",
      "Updated At":"2022-07-06T14:54:19.214Z"
   },
   {
      "Id":"auth0|62d1a1853bdcf11ff5dca672",
      "Nickname":"testuser2",
      "Name":"testuser2@auth0.com",
      "email":"testuser2@auth0.com",
      "Connection":"Username-Password-Authentication",
      "Created At":"2022-07-15T17:19:01.531Z",
      "Updated At":"2022-07-15T17:19:01.532Z"
   },
   {
      "Id":"auth0|62d1a1a524f32a4185c9ce23",
      "Nickname":"testuser3",
      "Name":"testuser3@auth0.com",
      "email":"testuser3@auth0.com",
      "Connection":"Username-Password-Authentication",
      "Created At":"2022-07-15T17:19:33.484Z",
      "Updated At":"2022-07-15T17:19:33.484Z"
   }
]
```






属性を追加するには、各ユーザースキーマに新しいフィールドを作成し、値で更新します。以下の例では、「Family Name（姓）」属性に「Smith（スミス）」の値があり、新しい属性の後にカンマ（「,」）があります。

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

The Id must have a unique `connection|id`. If the same user Id exists in multiple connections, your update will fail.

</Callout>

複数のユーザーに`email_verified`属性を追加し、値を`true`に設定することもできます。

変更をユーザーファイルに保存します。

```json lines
{
   "Id":"auth0|626737a9813c000069daf462",
   "Nickname":"testuser1",
   "Family Name":"Smith",
   "Name":"testuser1@auth0.com",
   "email":"testuser1@auth0.com",
   "email_verified":true,
   "Connection":"Username-Password-Authentication",
   "Created At":"2022-04-26T00:07:05.098Z",
   "Updated At":"2022-07-06T14:54:19.214Z"
}
```






更新したユーザープロファイルのデータをインポートする

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

This process cannot block multiple users. You must block users individually in the Auth0 Dashboard or with the [Auth0 Management API](https://auth0.com/docs/api/management/v2#!/Users/patch_users_by_id).

</Callout>

### ユーザーパラメーターにユーザーファイルを追加して、更新したいデータベースのデータベース接続を追加します。

The `users-import` endpoint allows you to upload your updated user profile file and update several users in one job. Navigate to the [Create import users job endpoint](https://auth0.com/docs/api/management/v2/#!/Jobs/post_users_imports).

Add your user file to the users parameter and add the database connection ID of the database you want to update.

The upsert value should be `true` to update the already existing user information.
To add your updates, select **Try** or use Postman to import the users.

Use the `job_id` to verify the status with the `jobs` [endpoint](https://auth0.com/docs/api/management/v2/#!/Jobs/get_jobs_by_id).