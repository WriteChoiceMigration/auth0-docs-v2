---
og:description: Learn how to customize the behavior of the Delegated Administration
  Extension using Extension Hooks.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Delegated Administration:拡張フック
og:url: https://auth0.com/docs/
permalink: delegated-administration-hooks
title: Delegated Administration:拡張フック
twitter:description: Learn how to customize the behavior of the Delegated Administration
  Extension using Extension Hooks.
twitter:title: Delegated Administration:拡張フック
---

**Delegated Admin - Administrator**ロールが割り当てられているユーザーは、委任管理拡張機能の動作をカスタマイズできるさまざまな拡張フックとクエリを管理できます。

構成領域にアクセスするには:

1. Delegated Administration Dashboardにログインします。
2. 右上隅にある自分の名前をクリックします。ドロップダウンメニューが表示されるので、**［Configure（構成）］**オプションをクリックします。

リダイレクトされる**［Configuration（構成）］**ページでは、フックとクエリを管理できます。

## 拡張機能フックのコンテキスト

context (**ctx**)オブジェクトは、現在の要求に関するいくつかのヘルパーと情報を公開します。すべての拡張機能フックで次のメソッドとプロパティを使用できます:

* ロギング
* キャッシュ
* Custom Data（カスタムデータ）
* ペイロードと要求
* リモート呼び出し

### ロギング

Webtaskログ(リアルタイムWebtaskログ拡張機能を使用して表示できます)にメッセージを追加するには、**log**メソッドを呼び出します。



リアルタイムWebtaskログ拡張機能の詳細については、[［Realtime Webtask Logs（リアルタイムWebtaskログ）］](/extensions/real-time-webtask-logs)をお読みください。

### キャッシュ

何か(部署の長いリストなど)をキャッシュするには、コンテキストの**グローバル**オブジェクトに保存します。このオブジェクトは、Webtaskコンテナがリサイクルされるまで使用できます。



### Custom Data（カスタムデータ）

拡張機能内にカスタムデータを保存できます。このフィールドは、400kbのデータに制限されています。



データを読み取るには:



### ペイロードと要求

各拡張フックは、現在のペイロードまたは要求を特定の情報と共に公開します。要求には、ユーザーダッシュボードにログインしているユーザーに関する情報が常に含まれます。



### リモート呼び出し

データを検証したり、メンバーシップを読み込んだりするために外部サービス (APIなど) を呼び出す場合は、`要求`モジュールを使用してこれを行うことができます。



### フックコントラクト

* `ctx`:コンテキストオブジェクト

* `payload`:ペイロードオブジェクト

* `Actions`:現在実行されているアクション（`例: delete:user`）
* `Users`:アクションが実行されているユーザー
* `callback(エラー)`:アクセスが拒否された場合にエラーを返すことができるコールバック

### 使用例

Kellyは財務部門を管理しており、部門内のユーザーにのみアクセスできる必要があります。



このフックが構成されていない場合は、すべてのユーザーにアクセスできます。

サポートされているアクション名:

* `read:user`
* `delete:user`
* `reset:password`
* `change:password`
* `change:username`
* `change:email`
* `read:devices`
* `read:logs`
* `remove:multifactor-provider`
* `block:user`
* `unblock:user`
* `send:verification-email`

## 使用可能な拡張フック

Delegated Administration Applicationでは、次の拡張フックを使用できます。

* [アクセスフック](/extensions/delegated-administration-extension/delegated-administration-access-hook)
* [フィルタフック](/extensions/delegated-administration-extension/delegated-administration-filter-hook)
* [メンバーシップクエリフック](/extensions/delegated-administration-extension/delegated-administration-memberships-query-hook)
* [設定クエリフック](/extensions/delegated-administration-extension/delegated-administration-settings-query-hook)
* [書き込みフック](/extensions/delegated-administration-extension/delegated-administration-write-hook)