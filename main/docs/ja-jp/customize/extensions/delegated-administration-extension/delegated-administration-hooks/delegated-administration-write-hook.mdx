---
og:description: Learn how to use the Write Hook with the Delegated Administration
  Extension.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 委任管理：書き込みフック
og:url: https://auth0.com/docs/
permalink: delegated-administration-write-hook
title: 委任管理：書き込みフック
twitter:description: Learn how to use the Write Hook with the Delegated Administration
  Extension.
twitter:title: 委任管理：書き込みフック
---

書き込みフックはユーザーを作成または更新するときに必ず実行され、以下などを行えるようにします。

* ユーザーのパスワードを変更する
* ユーザーのメールアドレスを変更する
* ユーザープロファイルを更新する

また、書き込みフックを使用して、新たに作成されたユーザーにデフォルト値を自動的に設定することもできます。たとえば、ユーザーを自分と同じグループ、部署やベンダーに自動的に割り当てたい場合などです。



## フックコントラクト

* **ctx**：コンテキストオブジェクトです。

* **request.originalUser**：**payload**が新しいフィールドセットである現在のユーザーの値です。メソッドが**update**の場合にのみ使用できます。
* **payload**：ペイロードオブジェクトです。

* **memberships**：ユーザーの作成時にUIで選択されたメンバーシップの配列です。
* **email**：ユーザーのメールアドレスです。
* **password**：ユーザーのパスワードです。
* **connection**：データベース接続の名前です。
* **app_metada**：編集されたカスタムフィールドが`app_metadata`に保存されている場合に含まれるデータです。
* **user_metadata**：編集されたカスタムフィールドが`user_metadata`に保存されている場合に含まれるデータです。
* **userFields**：ユーザーフィールドの配列です（設定クエリで指定されている場合）
* **methods**：設定を呼び出した結果か、それとも更新を呼び出した結果かに応じて、**create**または**update**になります。
* **callback(error, user)**：Management APIに送信するべきエラーとユーザーオブジェクトを返すことができるコールバックです。

**userFields**の詳細については、「[委任管理：設定クエリフック](/extensions/delegated-administration-extension/delegated-administration-settings-query-hook)」をお読みください。

## 使用例

Kellyは経理部を管理しています。Kellyがユーザーが作成するときには、ユーザーが経理部のメンバーとして割り当てられなければなりません。