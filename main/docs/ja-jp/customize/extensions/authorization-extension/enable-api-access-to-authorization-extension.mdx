---
og:description: Describes how to enable API access to the Authorization Extension.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 認可拡張機能へのAPIアクセスの有効化
og:url: https://auth0.com/docs/
permalink: enable-api-access-to-authorization-extension
title: 認可拡張機能へのAPIアクセスの有効化
twitter:description: Describes how to enable API access to the Authorization Extension.
twitter:title: 認可拡張機能へのAPIアクセスの有効化
---



構成とセットアップが完了すると、拡張機能にはユーザーだけでなく、グループ、ロール、権限も含まれるようになります。拡張機能へのAPIアクセスを有効にすると、プロビジョニングを自動化し、ユーザーの認可コンテキストをリアルタイムで照会できます。

## APIアクセスの有効化

1. [［Auth0 Dashboard（Auth0ダッシュボード）］>［Extensions（拡張機能）］>［Auth0 Authorization（Auth0認可）］](%24%7Bmanage_url%7D/#/extensions)に移動します。
2. **API**セクションに移動するには、**［Authorization Dashboard（認可ダッシュボード）］**の右上にあるAuth0テナント名を選択し、**API**を選択します。
3. **［Settings（設定）］**ページで、**［API Access（APIアクセス）］**スイッチを有効にします。
4. APIアクセスを有効にすると、APIによって発行されたトークンのパラメーターの一部を(拡張機能内で)表示または制御できるようになります。トークンの**［time to expiration（有効期限）］**を制御したり、トークンの**［audience（オーディエンス）］**、**［issuer（発行者）］**、**URL**を表示してAPIにアクセスしたりすることもできます。

## 拡張機能APIにアクセス

拡張機能へのAPIアクセスを有効にすると、[Auth0 Dashboard](%24%7Bmanage_url%7D/#/apis)で使用するためのAPIがAuth0によって自動的に作成されます。APIにアクセスするには、API自体と対話するエンティティであるマシンツーマシンアプリケーションを作成する必要があります。

### アプリケーションの作成

1. [［Auth0 Dashboard］>［Applications（アプリケーション）］>［Applications（アプリケーション）］](%24%7Bmanage_url%7D/#/applications)に移動して、**［Create Application（アプリケーションの作成）］**を選択します。新しいアプリケーションに名前を付け、**［Machine to Machine Application（マシンツーマシンアプリケーション）］**のタイプを選択します。**［Create（作成）］**を選択して続行します。アプリケーションの**［Quick Start（クイックスタート）］**ページにリダイレクトされます。ここでは、アプリケーションを使用するAPIに基づいて、ライブドキュメントをカスタマイズできます。Auth0が拡張機能用に作成したAPIを選択します(**auth0-authorization-extension-api**などの名前にする必要があります)。APIとアプリケーションを一緒に操作するのは初めてなので、「This application is not authorized for this API」（このアプリケーションはこのAPIに対して承認されていません）というメッセージが表示されます。APIで使用するアプリケーションを承認するには、**［Navigate to the API and Authorize（APIに移動して承認）］**を選択します。
2. APIで使用できるマシンツーマシンアプリケーションのリストが表示されます。作成したアプリケーションの横にあるスイッチを有効にして承認します。

アプリケーションを承認すると、**［Grant ID（付与ID）］**が表示されます。アプリケーションに付与する**スコープ**を選択することもできます。付与するスコープは、アクセスするエンドポイントによって異なります。たとえば、[すべてのユーザーを取得](https://auth0.com/docs/api/authorization-extension#get-all-users)するには、`read:users`を付与します。
3. スコープに変更を加えた場合は、**［Update（更新）］**を選択して保存します。

### アクセストークンの取得

APIにアクセスするには、[適切なトークンを要求して取得](/login/flows/call-your-api-using-the-client-credentials-flow)する必要があります。

### APIの呼び出し

APIは次の方法で呼び出すことができます。

* HTML要求
* cURLコマンド

また、エンドポイントに関する詳細情報と、上記の3つの方法を使用して各エンドポイントを呼び出す方法のサンプルについては、[［Authorization Extension API Explorer（認可拡張機能APIエクスプローラー）］](https://auth0.com/docs/api/authorization-extension)を参照してください。

また、**API Explorer**を参照することもできます。これには、API経由で拡張機能へのアクセスを有効にした後にコマンドラインで実行できるすべての操作が記載されています。

APIドキュメントについては、**［Explorer（エクスプローラー）］**ページを選択してください。