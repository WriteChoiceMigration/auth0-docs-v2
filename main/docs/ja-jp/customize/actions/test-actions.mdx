---
og:description: Learn how to test and debug Auth0 Actions
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: アクションをテストする
og:url: https://auth0.com/docs/
permalink: test-actions
title: アクションをテストする
twitter:description: Learn how to test and debug Auth0 Actions
twitter:title: アクションをテストする
---

Auth0 Actionsのテスト・デバッグ方法は、実装段階によって異なります。

We recommend that you test individual actions from the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip> as you implement them. Once you are ready, you should verify that the end-to-end flow works as expected using tenant logs through the Auth0 Dashboard.

## 個別のアクションをテストする

個々のアクションは、Actions Code Editorでテストできます。このエディターのテスト機能は、アクションに関連付けられたフローに従って、サンプルペイロードを使用してアクションへの呼び出しをシミュレーションします。個々のアクションをテストするには：

1. Navigate to [Auth0 Dashboard > Actions](https://manage.auth0.com/#/actions), and choose the Flow and Action that you would like to edit.
2. Locate the Actions Code Editor, and select **Test** (the play icon) from its sidebar. Edit the payload in the Test sidebar to analyze the outcome of different payloads.
3. Select **Run**.

テスト結果には、アクションが実行したステップや、コンソールの出力、生じたエラー、アクションの実行に関する統計が表示されます。

<Frame>![Screenshot of the testing module inside of the Action Code Editor](/images/cdy7uua7fh8z/7I4CRM8SmRFiibjuk55L86/794042f525cddd55a8005cc646b3c9c2/test-action-code-editor.png)</Frame>

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

You can also test an Action using the Management API's [**Test an Action** endpoint](https://auth0.com/docs/api/management/v2#!/Actions/post_test_action) and providing a payload corresponding with the flow with which the Action is associated. To get a sample payload, test the Action using the Test capability of the Actions Code Editor.

</Callout>

## デプロイしたアクションをデバッグする

Now that you have tested your Action, it’s time to deploy it and observe its execution. Assuming you have deployed your Action and added it to a flow (to learn how to attach Actions to Flows, read the "Attach the Action to a flow" section in [Write Your First Action](/docs/customize/actions/write-your-first-action)), you can debug your live Action in a few steps.

### エンドツーエンドのログインフローを検証する

For a `post-login` Action, you can verify the end-to-end-login flow by executing a login attempt for your tenant:

1. Navigate to [Auth0 Dashboard > Authentication > Authentication Profile](https://manage.auth0.com/#/authentication-profiles), and select **Try**. A window containing a sample login will open.
2. Proceed through the login flow. The login flow will execute any configured Actions.

テナントログを分析する

### フローに関連付けられたアクションがバインドされているトリガーが実行されるたびに、[テナントログ](/logs/view-log-events)にアクション実行の詳細が含まれます。

Whenever a trigger executes that has an associated Action bound to its flow, your [tenant logs](/docs/deploy-monitor/logs/view-log-events) will include Action execution details.

アクションに関連付けられるログタイプの例としては、次のようなものが挙げられます：

<Frame>![Screenshot of Tenant Log List in the Auth0 Dashboard, showing logs that are associated with Action execution.](/images/cdy7uua7fh8z/4hIo2YJ8fr2tfMEWhaLyn4/7935eec2f5a59c0191cbf24eaccf044d/2025-01-31_14-30-57.png)</Frame>

アクション実行に関する詳細を表示するには、アクション実行に関連しているログを選択してから、**［Action Details（アクションの詳細）］**ビューを選択します。［Action Details（アクションの詳細）］には、実行の統計、コンソールの出力、エラーが表示されます。

<table class="table"><thead>
<tr>
<th><strong>Name</strong></th>
<th><strong>Trigger(s)</strong>                                </th>
</tr>
</thead>
<tbody>
<tr>
<td>Success Login</td>
<td><a href="/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger">post-login</a></td>
</tr>
<tr>
<td>Failed Login</td>
<td><a href="/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger">post-login</a></td>
</tr>
<tr>
<td>Success Exchange</td>
<td><a href="/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger">post-login</a></td>
</tr>
<tr>
<td>Failed Exchange</td>
<td><a href="/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger">post-login</a></td>
</tr>
<tr>
<td>Success Change Password</td>
<td><a href="/docs/customize/actions/explore-triggers/password-reset-triggers/post-change-password-trigger">post-change-password</a></td>
</tr>
<tr>
<td>Failed Change Password</td>
<td><a href="/docs/customize/actions/explore-triggers/password-reset-triggers/post-change-password-trigger">post-change-password</a></td>
</tr>
<tr>
<td>Successful Signup</td>
<td><a href="/docs/customize/actions/explore-triggers/signup-and-login-triggers/pre-user-registration-trigger">pre-user-registration</a></td>
</tr>
<tr>
<td>Failed Signup</td>
<td><a href="/docs/customize/actions/explore-triggers/signup-and-login-triggers/pre-user-registration-trigger">pre-user-registration</a></td>
</tr>
<tr>
<td>Success Exchange</td>
<td><a href="/docs/customize/actions/explore-triggers/machine-to-machine-trigger">credentials-exchange</a></td>
</tr>
<tr>
<td>Failed Exchange</td>
<td><a href="/docs/customize/actions/explore-triggers/machine-to-machine-trigger">credentials-exchange</a></td>
</tr>
</tbody>
</table>

アクションのユニットテスト

<Frame>![Screenshot of individual log associated with Actions testing.](/images/cdy7uua7fh8z/1WrsQvjZxI2WRMrtltandy/0bc92038a5bc7b6344a95ef271eff299/actions-log-detail.png)</Frame>

## Auth0 Actionsのユニットテストを行うには、アクション関数に渡されるイベントとAPIをモックします。アクションは、バージョン制御またはローカルディレクトリに配置でき、Jestなどのツールを使って自動的にテストできます。次の例では、[Login/Post Login](/signup-and-login-triggers/login-trigger)トリガーと[Jest]()を使用してモックとテストを行います。

​You can unit test your Auth0 Actions by mocking the event and api passed into your Action function. Your Actions can live in version control or local directory, and you can use a tool like Jest to automatically test your Actions. In the following example, we use the [Login / Post Login](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger) trigger and [Jest](https://jestjs.io/) to mock and test.

**テストファイルコード：**

```javascript lines
// action.js

exports.onExecutePostLogin = async (event, api) => {
  const namespace = "https://my-app.example.com";
  if (event.authorization) {
    api.idToken.setCustomClaim(`${namespace}/favorite_color`, "pink");
  }
};
```






ベストプラクティス

```javascript lines
// action.spec.js

const { onExecutePostLogin } = require("./action.js");
test("sets favorite_color ID token claim to pink", async () => {
  const namespace = "https://my-app.example.com";
  const mockFunction = jest.fn();
  const mockApi = { idToken: { setCustomClaim: mockFunction } };
  const mockEvent = {authorization: {}};

  await onExecutePostLogin(mockEvent, mockApi);
  expect(mockFunction).toBeCalledWith(
    `${namespace}/favorite_color`,
    "pink"
  );
});
```






## Auth0でアクションを構築する場合は、[環境ごとに専用のAuth0テナントを作成することをお勧めします](/get-started/create-tenants/set-up-multiple-environments)。そうすれば、運用環境のユーザーベースをその他の環境から隔離できるだけでなく、環境ごとに別々の管理者を設定できます（たとえば、エンジニアが運用設定へのアクセス権を持たない場合など）。

When building Actions on Auth0, [we recommend that you create a dedicated Auth0 tenant per environment](/docs/get-started/auth0-overview/create-tenants/set-up-multiple-environments). Doing so allows you to isolate your production user base from your other environments, as well as configure different administrators per environment (for example, engineers might not have access to production configuration).

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

If you wish to entirely manage, test, and deploy your Actions via a CLI or CI/CD pipeline, you can use the [Deploy CLI Tool](/docs/deploy-monitor/deploy-cli-tool).

</Callout>