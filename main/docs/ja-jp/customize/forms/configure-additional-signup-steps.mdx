---
og:description: Learn how to configure additional signup steps using Forms for Actions
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: ユースケース：Formsを使用して追加のサインアップ手順を構成する
og:url: https://auth0.com/docs/
permalink: configure-additional-signup-steps
title: ユースケース：Formsを使用して追加のサインアップ手順を構成する
twitter:description: Learn how to configure additional signup steps using Forms for
  Actions
twitter:title: ユースケース：Formsを使用して追加のサインアップ手順を構成する
---

Forms for Actionsを使用すると、サインアップまたはログインフローに追加のステップを作成し、ユーザーがアプリケーションにアクセスできるようにする前にそれらのステップを必須にすることができます。

以下のセクションでは、ノードとフローを使用して追加のサインアップステップフォームを作成する方法と、フォームを[ポストログイン](/signup-and-login-triggers/login-trigger)アクションに追加する手順について説明します。


### ステップノードを構成する

ステップノードは、ユーザーに表示されるグラフィカルインターフェースです。次の手順に従って、ステップノードに[フィールド](/nodes-and-components)を追加し、ユーザーのフルネームと役職の値を収集します。

1. **［Components menu（コンポーネントメニュー）］**から**［Rich text（リッチテキスト）］**フィールドを**［Step（ステップ）］**ノードにドラッグします。

* **［Rich text（リッチテキスト）］**：カスタムメッセージを入力します。。
* **［Save（保存）］**を選択します。
2. **［Text（テキスト）］**フィールドを**［Step（ステップ）］**ノードにドラッグします。

* **Id**：`full_name`を入力します。
* **［Label（ラベル）］**：`フルネーム`を入力します。
* **［Label（ラベル）］**：チェックボックスを有効にします。
* **［Required（必要）］**：チェックボックスを有効にします。
* **［Save（保存）］**を選択します。
3. **［Text（テキスト）］**フィールドを**［Step（ステップ）］**ノードにドラッグします。

* **Id**：`job_title`を入力します。
* **［Label（ラベル）］**：`役職`を入力します。
* **［Label（ラベル）］**：チェックボックスを有効にします。
* **［Required（必要）］**：チェックボックスを有効にします。
* **［Save（保存）］**を選択します。
4. **［Publish（公開）］**を選択し、保存します。

### **フローノードの構成**

次の手順に従って、**［Step（ステップ）］**ノードの後に​​**［Flow（フロー）］**ノードを追加し、`user_metadata`を更新して認証フローを再開します。

1. フォームエディターの下にある**［Flow（フロー）］**を選択します。
2. **［Step（ステップ）］**と**［Ending Screen（終了スクリーン）］**ノードの間にある既存のリンクを削除します。
3. 新しい**［Flow（フロー）］** > **［Click to add a flow（クリックして、フローを追加する）］** > **［Create a new flow（新しいフローを作成する）］**を選択します。

* **［Name（名前）］**フィールドに`Update user_metadata`を入力します。
* **［Create（作成）］**を選択します。
* **［Save（保存）］**を選択します。
4. 下の画像のように**［Step（ステップ）］**と**［Ending Screen（終了スクリーン）**ノードに**［Flow（フロー）］**ノードをリンクします。
5. **［Publish（公開）］**を選択し、保存します。

Auth0ユーザーの更新アクションをフローに追加するには、次の手順に従います。

1. **［Flow（フロー）］**の**［Update user_metadata（user_metadataの更新）］** > **［Edit flow（フローの編集）］**を選択し、新しいタブでフローエディターを開きます。
2. ** **アクションの開始の下にある**［+］**アイコンを選択し、**Update user（ユーザーの更新）**アクションを追加します。以下のフィールドに記入して、**［Save（保存）］**を選択し、続けてください。

* **Connection（接続）**：ドロップダウンからM2MアプリケーションへのVault接続を選択します。
* **User ID（ユーザーID）**：`{{context.user.user_id}}`と入力します。
* **［Body（ボディ）］**：次のコードをコピーして貼り付け、`full_name`および`job_title`プロパティを使用してuser_metadataを更新します。
* **［Save（保存）］**を選択します。
3. ［Publish（公開）］を選択し、保存します。

## フォームレンダーコードを取得する

次の手順に従って、フォームレンダーコードを取得して、カスタムのログイン後アクションを使ったフォームを視覚的にレンダリングします。

* Formディターから**<>［Render（レンダー）］**を選択します。
* **［Copy（コピー）］**を選択します。

## ポストログインアクションの作成

ポストログインアクションを作成してフォームをレンダリングするには、次の手順に従います。

1. **［Auth0 Dashboard（Auth0ダッシュボード）］>［Actions（アクション）］>［Flows（フロー）］>［Login（ログイン）］**に移動します。
2. **+**アイコンを選択し、**［Build from scratch（初めから構築する）］**を選択します。

* **［Name（名前）］**：`［Render Additional Signup Form（追加サインアップフォームのレンダリング）］`を入力します。
* **［Trigger（トリガー）］**：`［Login / Post Login（ログイン/ログイン後）］`を選択します。
* **［Runtime（ランタイム）］**：推奨バージョンを選択します。
3. **［Create（作成）］**を選択します。

ログイン後アクションを構成するには：

1. 既存のコードをコードエディターから削除します。
2. フォームレンダリングコードをコードエディターにペーストします。
3. コードを編集して、フォームをレンダリングする条件ロジックを定義します。
4. **［Deploy（導入）］**を選択します。
5. **［Render Additional Signup Form（追加サインアップフォームのレンダリング）］**アクションを**［Login（ログイン）］**フローにドラッグ＆ドロップします。
6. **［Apply（適用）］**を選択します。

### **実装のテスト**

次の手順に従って実装をテストします。

* 新規ユーザーでアプリケーションにサインアップします。
* ログインフローのログイン後アクションでは、フォームがレンダリングされ、情報の入力が求められます。
* **［Auth0 Dashboard（Auth0ダッシュボード）］>［User Management（ユーザー管理）］>［Users（ユーザー）］**を選択し、新しいユーザーを見つけ、その属性`full_name`および`job_title`が追加サインアップステップからの情報を含んでいることを検証します。