---
og:description: Learn how to use variables in Forms for Actions.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 変数とヘルパー関数
og:url: https://auth0.com/docs/
permalink: variables
title: 変数とヘルパー関数
twitter:description: Learn how to use variables in Forms for Actions.
twitter:title: 変数とヘルパー関数
---

変数を使用すると、フォームとフローに含まれるデータにアクセスして、カスタムビジネスロジックと自動化を作成できます。

変数を使用する際の基本的な考慮事項は次のとおりです。

* 変数は中括弧`{{ variable }}`で囲みます。
* 変数が存在しないか解決できない場合は、`未定義`の変数と同じ効果があります。
* `null`または`未定義`の変数を処理するには、nullish演算子を使用できます。例:`{{fields.foo ?? fields.bar}}`。

## 利用できる変数

フォームとフローを使用して顧客から収集したデータを参照および変換するには、さまざまな種類の変数を使用できます。



### コンテキスト変数

フォームとフローは、現在のトランザクションからコンテキスト変数を自動的に継承します。次のコンテキスト変数にアクセスできます。

* `user`オブジェクト。以下に挙げたプロパティにアクセスできます。

* `user.user_id`
* `user.username`
* `user.name`
* `user.given_name`
* `user.family_name`
* `user.nickname`
* `user.email`
* `user.email_verified`
* `user.phone_number`
* `user.phone_verified`
* `user.picture`
* `user.user_metadata`
* `user.app_metadata`
* `user.created_at`
* `user.updated_at`
* `user.last_password_reset`
* `user.identities`
* 次のプロパティにアクセスできる`組織`オブジェクト。

* `organization.id`
* `organization.name`
* `organization.display_name`
* `organization.metadata`
* 次のプロパティにアクセスできる`クライアント`オブジェクト。

* `client.client_id`
* `client.name`
* 次のプロパティにアクセスできる`テナント`オブジェクト。

* `tenant.name`
* 次のプロパティにアクセスできる`トランザクション`オブジェクト。

* `transaction.state`



例：  `{{context.user.user_id}}`は、`ユーザー`オブジェクトの`user_id`を参照します。

### フォームフィールド変数

フィールド変数には、フォームの入力フィールドからユーザーから収集されたデータと、非表示フィールドのデータが含まれます。各フィールドのデータは、フィールドタイプによって異なります。例：`{{fields.first_name`}}は、IDが`first_name`のフィールドの入力値を参照します。

### フロー出力アクション変数

フローアクションが実行されると、後続のアクションで参照できる出力オブジェクト応答が生成されます。例：`{{actions.generate_otp.code}}`は、IDが`generate_otp`のアクションの出力コードを参照します。

### 共有変数

後続のフローと共有する変数、または同じトランザクション内のフォームコンポーネントと共有する変数を保存できます。共有変数は一時的なものであり、特定のフォームジャーニーに関連付けられています。その値には、そのジャーニーの外部からはアクセスできません。例：`{{vars.external_id}}`は、IDが`external_id`の共有変数の値を参照します。



### ヘルパー関数

ヘルパー関数を使用すると、データを変換して簡単な操作を実行できます。例：`{{functions.toString(fields.privacy_policies)}}`は、`toString()`関数を使用して、ID`privacy_policies`のフィールドの値を変換します。

使用可能なヘルパー関数は次のとおりです。



## 変数のベストプラクティス

### 意味のあるIDを使用する

フォームフィールドまたはフローアクションを追加すると、IDが自動的に生成されます。

IDをよりわかりやすい値に更新して、含まれる情報を識別できるようにします。たとえば、ユーザーの名を保存するフォームフィールドを作成する場合は、IDを`first_name`に更新します。

### 既存のIDを更新するときは注意してください

変数がすでに使用されており、IDを変更する必要がある場合は、参照した場所を特定し、それに応じてIDを更新して、未定義または空の値にならないようにします。

### フロー実行を確認する

予期しない変数値が表示された場合は、[**実行**](/flow-execution-and-debugger)ビューを使用して変数のトラブルシューティングを行います。

### オートコンプリートメニューを使用する

オートコンプリートメニューを使用すると、既存の変数を見つけて適切に参照できます。