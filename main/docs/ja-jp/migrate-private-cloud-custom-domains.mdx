---
og:description: Describes Auth0 Private Cloud custom domain migration.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: プライベートクラウドのカスタムドメインを移行する
og:url: https://auth0.com/docs/
permalink: migrate-private-cloud-custom-domains
title: プライベートクラウドのカスタムドメインを移行する
twitter:description: Describes Auth0 Private Cloud custom domain migration.
twitter:title: プライベートクラウドのカスタムドメインを移行する
---

Beginning with Private Cloud release 1906, dedicated deployments will include the ability to fully utilize the [Auth0 Custom Domains](/docs/customize/custom-domains) feature.

Existing Private Cloud customers using <Tooltip tip="Custom Domain: Third-party domain with a specialized, or vanity, name." cta="View Glossary" href="/docs/glossary?term=custom+domains">custom domains</Tooltip> are able to complete a migration of their Private Cloud custom domains to the Auth0 custom domains. New customers/deployments will automatically use the Auth0 custom domains features.

<table class="table"><thead>
<tr>
<th>Feature</th>
<th>New Custom Domains</th>
<th>Legacy Custom Domains</th>
</tr>
</thead>
<tbody>
<tr>
<td>Use of custom domain in emails</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>Custom domain protection via API keys</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>Custom domain registration</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr>
<td>Token issuer used as custom domain</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>Auth0-managed certificates</td>
<td>Yes</td>
<td>No</td>
</tr>
<tr>
<td>Use of multiple domains</td>
<td>No</td>
<td>Yes</td>
</tr>
</tbody>
</table>

## 要件

* カスタムドメインのオリジンサーバーのホスト名に専用の新しいDNSドメイン。既存のAuth0ドメインのサブドメインでも構いません（ドメイン名が`*.auth.mydomain.com`の場合、新しいサブドメインは`*.cd.auth.mydomain.com`になります）。
* 新しいDNSドメインのワイルドカードパブリックSSL証明書
* レイヤー4ネットワークのロードバランサー。プライベートクラウドのデプロイメントで使用されている既存のものでも構いませんレイヤー7のロードバランサーを使用している場合は、レイヤー4のロードバランサーを追加する必要があります。
* レイヤー4のロードバランサーを指すDNSレコード

## 移行プロセス

現在、プライベートクラウドの顧客が既存のプライベートクラウドのカスタムドメインを使用している場合は、用意された機能のメリットを十分に活用するために、Auth0のカスタムドメインに移行する必要があります。

カスタムドメインの移行プロセスには3つの段階があり、それぞれの段階ではいくつかの手順が必要になります。

### 通信段階

移行プロセスを開始する前に、Auth0は移行プロセスを説明し、以下について問い合わせます。

* 使用したい証明書管理モデル。
  Auth0には2つの証明書管理モデルがあります。移行プロセスを簡素化するために、すべてのテナントに1つのモデルを使用することをお勧めします（必要であれば、テナントごとに別の証明書モデルを使用することもできます）。
* 使用しているロードバランサーの種類（ネットワーク（レイヤー4）またはアプリケーション（レイヤー7））。専用デプロイメントがAWSによってホストされている場合は、使用しているロードバランサーの種類を確認する必要があります。アプリケーションのロードバランサーを使用している場合は、追加のネットワークロードバランサーをプロビジョニングする必要があります。

決められた要件を満たすために新しいDNSリソースを割り当てる場合は、エッジドメイン名とそれに付随のSSL証明書、CNAMEホスト名、Let's Encryptの連絡先に使用しているメールアドレスを準備する必要があります。

### インフラストラクチャの準備段階

Auth0は顧客に代わって移行環境を整えます。この段階では、以下を行う必要があります。

1. Set up the network load balancer
2. Set up your new DNS records
3. Validate and verify that your set up is correct

### 移行段階

移行段階の目標は、すべての新しい機能性を備えたカスタムドメインを作成し、新たに作成したドメイン名で正しく機能するようにすべての依存関係を更新することです。

最初の手順では、Auth0のカスタムドメイン機能を使って新しいドメインを作成します。

この手順が完了したら、使用するAuth0機能によっては、追加の構成手順があるかもしれません。

### 最終構成

アプリケーションで必要な変更がすべて完了したら、マネージドサービスエンジニアが移行プロセスの完了をサポートします。

## Learn more

* [Troubleshoot Custom Domains](/docs/troubleshoot/integration-extensibility-issues/troubleshoot-custom-domains)