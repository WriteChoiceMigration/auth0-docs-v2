---
og:description: Describes Auth0 Private Cloud custom domain migration.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: プライベートクラウドのカスタムドメインを移行する
og:url: https://auth0.com/docs/
permalink: migrate-private-cloud-custom-domains
title: プライベートクラウドのカスタムドメインを移行する
twitter:description: Describes Auth0 Private Cloud custom domain migration.
twitter:title: プライベートクラウドのカスタムドメインを移行する
---

プライベートクラウドのリリース1906から、専用デプロイメントでは[Auth0のカスタムドメイン](/custom-domains)機能をフルに活用できるようになります。

カスタムドメインを使用している既存のプライベートクラウド顧客は、プライベートクラウドのカスタムドメインからAuth0のカスタムドメインに移行を完了することができます。新しい顧客やデプロイメントには、Auth0のカスタムドメイン機能が自動的に使用されます。



## 要件

* カスタムドメインのオリジンサーバーのホスト名に専用の新しいDNSドメイン。既存のAuth0ドメインのサブドメインでも構いません（ドメイン名が`*.auth.mydomain.com`の場合、新しいサブドメインは`*.cd.auth.mydomain.com`になります）。
* 新しいDNSドメインのワイルドカードパブリックSSL証明書
* レイヤー4ネットワークのロードバランサー。プライベートクラウドのデプロイメントで使用されている既存のものでも構いませんレイヤー7のロードバランサーを使用している場合は、レイヤー4のロードバランサーを追加する必要があります。
* レイヤー4のロードバランサーを指すDNSレコード

## 移行プロセス

現在、プライベートクラウドの顧客が既存のプライベートクラウドのカスタムドメインを使用している場合は、用意された機能のメリットを十分に活用するために、Auth0のカスタムドメインに移行する必要があります。

カスタムドメインの移行プロセスには3つの段階があり、それぞれの段階ではいくつかの手順が必要になります。

### 通信段階

移行プロセスを開始する前に、Auth0は移行プロセスを説明し、以下について問い合わせます。

* 使用したい証明書管理モデル。
Auth0には2つの証明書管理モデルがあります。移行プロセスを簡素化するために、すべてのテナントに1つのモデルを使用することをお勧めします（必要であれば、テナントごとに別の証明書モデルを使用することもできます）。
* 使用しているロードバランサーの種類（ネットワーク（レイヤー4）またはアプリケーション（レイヤー7））。専用デプロイメントがAWSによってホストされている場合は、使用しているロードバランサーの種類を確認する必要があります。アプリケーションのロードバランサーを使用している場合は、追加のネットワークロードバランサーをプロビジョニングする必要があります。

決められた要件を満たすために新しいDNSリソースを割り当てる場合は、エッジドメイン名とそれに付随のSSL証明書、CNAMEホスト名、Let's Encryptの連絡先に使用しているメールアドレスを準備する必要があります。

### インフラストラクチャの準備段階

Auth0は顧客に代わって移行環境を整えます。この段階では、以下を行う必要があります。

1. ネットワークのロードバランサーをセットアップする
2. 新しいDNSレコードをセットアップする
3. セットアップが正しいことを検証して確認する

### 移行段階

移行段階の目標は、すべての新しい機能性を備えたカスタムドメインを作成し、新たに作成したドメイン名で正しく機能するようにすべての依存関係を更新することです。

最初の手順では、Auth0のカスタムドメイン機能を使って新しいドメインを作成します。

この手順が完了したら、使用するAuth0機能によっては、追加の構成手順があるかもしれません。

### 最終構成

アプリケーションで必要な変更がすべて完了したら、マネージドサービスエンジニアが移行プロセスの完了をサポートします。