---
description: ''
og:description: Guide on implementing Passwordless authentication with Lock.Android
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Lock.Android:パスワードレス
og:url: https://auth0.com/docs/
permalink: lock-android-passwordless
title: Lock.Android:パスワードレス
twitter:description: Guide on implementing Passwordless authentication with Lock.Android
twitter:title: Lock.Android:パスワードレス
---

Lock Passwordlessは、WhatsAppの認証方法と同様に、ユーザーがログインするために入力して確認する必要があるワンタイムパスワードを記載したメールまたはSMSをユーザーに送信して認証します。この記事では、`Lock.Android`ライブラリを使用してコードを送信する方法について説明します。

ユーザーがパスワードレス認証を自動的に終了できる[リンクをクリックして送信](/libraries/lock-android/lock-android-passwordless-with-magic-link)することで同様の結果を得ることができますが、さらにいくつかの構成手順が必要になります。

ユーザーを認証できるようにするには、アプリケーションでメール/SMS接続を有効にして、[Auth0 Dashboard](%24%7Bmanage_url%7D/#/connections/passwordless)で構成する必要があります。

## Code Passwordlessの実装

### SDKの構成

`app/build.gradle`ファイルで、Auth0ドメインおよびAuth0スキームプロパティに[マニフェストファイル](https://developer.android.com/studio/build/manifest-build-variables.html)を追加すると、それがライブラリによって内部で使用され、認証結果を取り込むインテントフィルタを登録します。



これらの値を、後でコードから参照可能な文字列リソースとして`strings.xml`ファイルに追加することをお勧めします。



### SDKの使用方法

Lockを起動する予定のアクティビティで、アプリケーションの情報を用いて`Auth0`のインスタンスを作成します。最も簡単な作成方法は、AndroidのContextを渡す方法です。これは、`strings.xml`ファイルで以前定義した値を使用します。これを行うには、文字列リソースが上記のものと同じキーを使用して定義されなければなりません。



ユーザー認証イベントを処理する`AuthenticationCallback`実装を宣言します。正常な認証シナリオで返される`Credentials`オブジェクトには、アプリケーションまたはAPIが最終的にコンシュームするトークンが含まれます。詳細については、「[トークン](/security/tokens)」をご覧ください。



Builderクラスを使用して構成し、新しいLockインスタンスを準備します。アカウントの詳細と上記で宣言したCallback実装を提供します。オーディエンス、スコープ、使用可能な接続などの値はここで構成できます。完了したら、Lockインスタンスをビルドします。このインスタンスは、再使用されるように意図されており、必要なくなった時に廃棄されなければなりません。これを行うのに最適な場所は、アクティビティの`onDestroy`メソッド内です。

以下のサンプルは、`useCode()`メソッドを呼び出して、Lockがユーザーのメールまたは電話番号に**CODE**を送信するようにします。



最後に、アクティビティ内から`PasswordlessLock`ウィジェットを起動します。



どのパスワードレス接続が有効になっているかに応じて、Lockは**CODE**をメールまたはSMSで送信します。使用可能な場合は、最初に「メール」接続が選択されます。次に、ユーザーは確認手順でCODEを入力する必要があります。値がサーバーが期待するものと等しい場合、認証は成功します。