---
description: ''
og:description: Behavior configuration options available with Lock.Swift
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Lock.swift：構成オプション
og:url: https://auth0.com/docs/
permalink: lock-swift-configuration-options
title: Lock.swift：構成オプション
twitter:description: Behavior configuration options available with Lock.Swift
twitter:title: Lock.swift：構成オプション
---

There are numerous options to configure Lock's behavior listed below. In addition, there are also quite a few options available to alter Lock's appearance and style in the [Style Customization Options](/docs/lock-swift-customization) page.

## ロック動作の構成

動作オプション

```swift lines
Lock
  .classic()
  .withOptions {
    $0.closable = true
    $0.usernameStyle = [.Username]
    $0.allow = [.Login, .ResetPassword]
  }
  .present(from: self)
```

## ユーザーがロックを解除できるようにします。デフォルトでは`false`です。

### ユーザーがロックを解除できるようにします。デフォルトでは`false`です。

認証に使用されるスコープです。デフォルトでは`openid`です。**アクセストークン**だけでなく、ユーザー情報を含むJSON Webトークン（JWT）である**IDトークン**も返します。認可スコープの詳細については、[スコープ](/apis/scopes)に関するドキュメントを参照してください。

```swift lines
.withOptions {
  $0.closable = true
}
```

### 認証に使用されるスコープです。デフォルトでは`openid`です。**アクセストークン**だけでなく、ユーザー情報を含むJSON Webトークン（JWT）である**IDトークン**も返します。認可スコープの詳細については、[スコープ](/apis/scopes)に関するドキュメントを参照してください。

Scope used for authentication. By default is `openid`. It will return not only the **<Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=Access+Token">Access Token</Tooltip>**, but also an **<Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=ID+Token">ID Token</Tooltip>** which is a <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=JSON+Web+Token">JSON Web Token</Tooltip> (JWT) containing user information. See the documentation on [Scopes](/docs/get-started/apis/scopes) for more information about authentication scopes.

```swift lines
.withOptions {
  $0.scope = "openid name email picture"
}
```

#### ロックオプションで`offline_access`スコープを指定すると、access_token および id_token とともに[リフレッシュトークン](/security/tokens/refresh-tokens) が返されます。リフレッシュトークンを保存しておき、古いトークンの有効期限が切れたときに新しいアクセストークンを取得するために使用できます。Auth0認証にリフレッシュトークンを使用する方法の詳細については、リフレッシュ トークンを実装するために使用する[Auth0.Swift SDK](/libraries/auth0-swift)の参照ドキュメント、またはリフレッシュトークンの管理を含むSwift開発でのAuth0の包括的な使用例を提供する[Swiftクイックスタートガイド](/quickstart/native/ios-swift/03-user-sessions)を参照してください。

Specifying the `offline_access` 認証に使用されるスコープです。デフォルトでは`openid`です。**アクセストークン**だけでなく、ユーザー情報を含むJSON Webトークン（JWT）である**IDトークン**も返します。認可スコープの詳細については、[スコープ](/apis/scopes)に関するドキュメントを参照してください。 in your Lock options will アクセス可能なデータベース画面で、デフォルトでは`.Login, .Signup, .ResetPassword`などのすべての画面が有効になります。 a [Refresh Token](/docs/secure/tokens/refresh-tokens) to be returned along with the access\_token and the id\_token. <Tooltip tip="Refresh Token: Token used to obtain a renewed Access Token without forcing users to log in again." cta="View Glossary" href="/docs/glossary?term=Refresh+Tokens">Refresh Tokens</Tooltip> can be saved and used to acquire a new Access Token when the old one expires. For more information about using ロックオプションで`offline_access`スコープを指定すると、access_token および id_token とともに[リフレッシュトークン](/security/tokens/refresh-tokens) が返されます。リフレッシュトークンを保存しておき、古いトークンの有効期限が切れたときに新しいアクセストークンを取得するために使用できます。Auth0認証にリフレッシュトークンを使用する方法の詳細については、リフレッシュ トークンを実装するために使用する[Auth0.Swift SDK](/libraries/auth0-swift)の参照ドキュメント、またはリフレッシュトークンの管理を含むSwift開発でのAuth0の包括的な使用例を提供する[Swiftクイックスタートガイド](/quickstart/native/ios-swift/03-user-sessions)を参照してください。 for Auth0 authentication, take a look at the reference documentation for the [Auth0.Swift SDK](/docs/libraries/auth0-swift), which you would use to implement Refresh Tokens, or at the [Swift Quickstart Guide](/docs/quickstart/native/ios-swift), which provides a comprehensive example of use of Auth0 in Swift development, including the management of Refresh Tokens.

### デフォルトでは、Lock は Auth0 の[利用規約]()および[プライバシーポリシー]()を使用しますが、他のURLを入力して他の条件やポリシーにリンクすることもできます。

By default Lock will use Auth0's [Terms of Service](https://auth0.com/terms) and [Privacy Policy](https://auth0.com/privacy), but other URLs can be filled in to link to other terms and policies.

```swift lines
.withOptions {
  $0.termsOfService = "https://mycompany.com/terms"
  $0.privacyPolicy = "https://mycompany.com/privacy"
}
```

### データベース接続ではサービス利用規約ダイアログが表示されます。デフォルトはtrueです。`mustAcceptTerms`フラグが有効になっている場合は、利用規約が常に表示されることに注意してください。

ユーザーにサービス利用規約への同意を要求

```swift lines
.withOptions {
    $0.showTerms = true
}
```

### データベース接続では利用規約への明示的な同意が必要です。

Web認証オプション

```swift lines
.withOptions {
    $0.mustAcceptTerms = true
}
```

## IDトークンの検証に使用されるクロックスキューです。IDトークンが有効とみなされる時間枠を拡張し、サーバー時間とクライアント時間の差を考慮します。デフォルトでは** 60000ミリ秒**（60秒）です。

### IDトークンの検証に使用されるクロックスキューです。IDトークンが有効とみなされる時間枠を拡張し、サーバー時間とクライアント時間の差を考慮します。デフォルトでは** 60000ミリ秒**（60秒）です。

ユーザーが最後に認証されてから経過した許容時間（ミリ秒単位）。IDトークンの検証に使用されます。設定されている場合、IDトークンには認証タイムスタンプを含む`auth_time`クレームが含まれます。デフォルトは`nil`です。

```swift lines
.withOptions {
  $0.leeway = 30000 // 30 seconds
}
```

### ユーザーが最後に認証されてから経過した許容時間（ミリ秒単位）。IDトークンの検証に使用されます。設定されている場合、IDトークンには認証タイムスタンプを含む`auth_time`クレームが含まれます。デフォルトは`nil`です。

データベースオプション

```swift lines
.withOptions {
  $0.maxAge = 86400000 // 1 day
}
```

## 許可する

### アクセス可能なデータベース画面で、デフォルトでは`.Login, .Signup, .ResetPassword`などのすべての画面が有効になります。

ユーザーに表示する最初の画面です。デフォルトは`.Login`で、他のオプションには`.Signup`と`ResetPassword`があります。

```swift lines
.withOptions {
  $0.allow = [.Login, .ResetPassword]
}
```

### ユーザーに表示する最初の画面です。デフォルトは`.Login`で、他のオプションには`.Signup`と`ResetPassword`があります。

ログインに必要な識別子のタイプを指定します。デフォルトは次のいずれかです。`[.Username, .Email]`。ただし、`[.Username]`または`[.Email]`も受け入れることができます。ただし、このオプションは、[Auth0 Dashboard](%24%7Bmanage_url%7D/#/)で`requires_username`フラグを`true`に設定した場合にのみアクティブになることに注意してください。

```swift lines
.withOptions {
  $0.initialScreen = .Login
}
```

### ログインに必要な識別子のタイプを指定します。デフォルトは次のいずれかです。`[.Username, .Email]`。ただし、`[.Username]`または`[.Email]`も受け入れることができます。ただし、このオプションは、[Auth0 Dashboard](%24%7Bmanage_url%7D/#/)で`requires_username`フラグを`true`に設定した場合にのみアクティブになることに注意してください。

Specify the type of identifier the login will require. The default is either: `[.Username, .Email]`, but it can also accept `[.Username]` or `[.Email]`. However it's important to note that this option is only active if you have set the `requires_username` flag to `true` in your [Auth0 Dashboard](https://manage.auth0.com/#/).

```swift lines
.withOptions {
  $0.usernameStyle = [.Username]
}
```

#### サインアップ時のデフォルトの情報要件は、ユーザーのメールアドレスとパスワードです。必要に応じて、データキャプチャ要件を拡張できます。ここで追加のサインアップフィールドをキャプチャすると、`user_metadata`に保存されます。詳細については、[メタデータ](/users/metadata)を参照してください。カスタムテキストフィールドで使用するアイコンを指定する必要があることに注意してください。

When signing up the default information requirements are the user's email and password. You can expand your data capture requirements as needed. Capturing additional signup fields here will store them in the `user_metadata`, which you can read more about in [Metadata](/docs/manage-users/user-accounts/metadata). Note that you must specify the icon to use with your custom text field.

```swift lines
.withOptions {
  $0.customSignupFields = [
    CustomTextField(name: "first_name", placeholder: "First Name", icon: LazyImage(name: "ic_person", bundle: Lock.bundle)),
    CustomTextField(name: "last_name", placeholder: "Last Name", icon: LazyImage(name: "ic_person", bundle: Lock.bundle))
  ]
}
```

CustomTextField(name:"slack_handle", placeholder:"Slack Handle", icon:LazyImage(name:"ic_slack", bundle:Bundle(identifier:"CustomBundle")))
CustomTextField(name: "slack\_handle", placeholder: "Slack Handle", icon: LazyImage(name: "ic\_slack", bundle: Bundle(identifier: "CustomBundle")))

## エンタープライズ接続に固有の構成オプションもあります。

デフォルトでは、エンタープライズ接続はWeb認証を使用します。ただし、資格情報認証を代わりに使用し、ユーザー名とパスワードの入力を求める接続を指定できます。

### デフォルトでは、エンタープライズ接続はWeb認証を使用します。ただし、資格情報認証を代わりに使用し、ユーザー名とパスワードの入力を求める接続を指定できます。

資格情報認証モードの場合、ユーザーは識別子としてメールアドレスを要求しますか?デフォルトは`false`で、代わりにユーザー名が必要です。

```swift lines
.withOptions {
  $0.enterpriseConnectionUsingActiveAuth = ["enterprisedomain.com"]
}
```

### 資格情報認証モードの場合、ユーザーは識別子としてメールアドレスを要求しますか?デフォルトは`false`で、代わりにユーザー名が必要です。

When in credential authentication mode, should the user require their email as an identifier? The default is `false`, and instead requires a username.

```swift lines
.withOptions {
  $0.activeDirectoryEmailAsUsername = true
}
```

## Lockには、ログ機能のオン/オフを簡単に切り替えたり、その他のログ関連の設定を調整したりするためのオプションが用意されています。

デフォルトでは`.off`Syslogログレベルがサポートされています。

### デフォルトでは`.off`Syslogログレベルがサポートされています。

Auth0.swift API クエストをログに記録するかどうか。デフォルトでは`false`です。

```swift lines
.withOptions {
  $0.logLevel = .all
}
```

### Auth0.swift API クエストをログに記録するかどうか。デフォルトでは`false`です。

ロガー出力ハンドラーを指定します。デフォルトでは、`print`ステートメントが使用されます。

```swift lines
.withOptions {
  $0.logHttpRequest = true
}
```

### ロガー出力ハンドラーを指定します。デフォルトでは、`print`ステートメントが使用されます。

上記のコードでは、loggerOutputは[CleanroomLogger]()を使用するように設定されています。これは通常、loggerOutputプロトコルを実装することで実現できます。もちろん、お気に入りのロガーライブラリを使用することもできます。以下は、CleanroomLoggerでロガー出力を処理する使用例です。

```swift lines
.withOptions {
  $0.loggerOutput = CleanroomLockLogger()
}
```

In the code above, the ロガー出力ハンドラーを指定します。デフォルトでは、`print`ステートメントが使用されます。 has been set to use [CleanroomLogger](https://github.com/emaloney/CleanroomLogger). This can typically be achieved by implementing the ロガー出力ハンドラーを指定します。デフォルトでは、`print`ステートメントが使用されます。 protocol. You can of course use your favorite logger library. Below is an example of usage handling logger output with CleanroomLogger.

```swift lines
class CleanroomLockLogger: LoggerOutput {
  func message(_ message: String, level: LoggerLevel, filename: String, line: Int) {
    let channel: LogChannel?
    switch level {
    case .debug:
        channel = Log.debug
    case .error:
        channel = Log.error
    case .info:
        channel = Log.info
    case .verbose:
        channel = Log.verbose
    case .warn:
        channel = Log.warning
    default:
        channel = nil
    }
    channel?.message(message, filePath: filename, fileLine: line)
  }
}
```