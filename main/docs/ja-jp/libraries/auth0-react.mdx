---
description: ''
og:description: Describes the Auth0 SDK for React Single Page Apps
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: シングルページアプリ用Auth0 React SDK
og:url: https://auth0.com/docs/
permalink: auth0-react
title: シングルページアプリ用Auth0 React SDK
twitter:description: Describes the Auth0 SDK for React Single Page Apps
twitter:title: シングルページアプリ用Auth0 React SDK
---

Auth0 React SDK（auth0-react.js）は、Auth0を使用してReactアプリケーションで認証と認可を実装するためのJavaScriptライブラリです。カスタムReactフックとその他の高階コンポーネントを提供し、ベストプラクティスに従ってReactアプリをセキュリティ保護しながら、同時にコードの量を減らすことができます。

Auth0 React SDKは、付与とプロトコルの詳細、トークンの失効と更新、そして、トークンの保管とキャッシュをも処理します。内部では、[ユニバーサルログイン](/login/universal-login)と[PKCEを用いた認可コード付与フロー](/login/flows/authorization-code-flow-with-proof-key-for-code-exchange-pkce)を実装しています。

ライブラリは[GitHubで提供しており](https://github.com/auth0/auth0-react)、[APIに関するさらなる詳細を読むことができます](https://auth0.github.io/auth0-react/)。

## インストール

プロジェクトでauth0-react.jsを使用するには、いくつかのオプションがあります。

* [npm](https://npmjs.org/)から：

`npm install @auth0/auth0-react`
* [yarn](https://yarnpkg.com/)から：
`yarn add @auth0/auth0-react`

## 開始

まず、アプリケーションを1つの`Auth0Provider`コンポーネントでラップする必要があります。これにより、アプリケーションの内部に配置されたコンポーネントにReactのコンテキストが提供されます。



## isLoadingとerror

SDKが初期化するのを待ってから、`isLoading`状態と`error`状態ですべてのエラーを処理します。



## ログイン

`loginWithRedirect`または`loginWithPopup`を使用して、ユーザーをログインさせます。



## ログアウト

`logout`を使用して、ユーザーをログアウトさせます。Auth0 Dashboardの「Allowed Logout URLs（許可されているログアウトURL）」に`returnTo`が指定されていることを確認してください。



## ［User（ユーザー）］

`user`値を使用して、ユーザープロファイル情報にアクセスします。



## クラスコンポーネントと併用する

フックの代わりに`withAuth0`高階コンポーネントを使用して、`auth0`プロパティをクラスコンポーネントに追加します。



## ルートを保護する

`withAuthenticationRequired`高階コンポーネントを使用して、ルートコンポーネントを保護します。認証されていない状態でこのルートにアクセスすると、ユーザーはログインページにリダイレクトされ、ログイン後にこのページに戻ってきます。



**注** カスタムルーターを使用している場合、`Auth0Provider`にカスタムの`onRedirectCallback`メソッドを提供して、ユーザーを保護されたページに戻すアクションを実行する必要があります。[react-router](https://github.com/auth0/auth0-react/blob/master/EXAMPLES.md#1-protecting-a-route-in-a-react-router-dom-app)、[Gatsby](https://github.com/auth0/auth0-react/blob/master/EXAMPLES.md#2-protecting-a-route-in-a-gatsby-app)、および[Next.js](https://github.com/auth0/auth0-react/blob/master/EXAMPLES.md#3-protecting-a-route-in-a-nextjs-app-in-spa-mode)の例を参照してください。

## APIを呼び出す

アクセストークンを使用して保護されたAPIを呼び出すには、`Auth0Provider`または`getAccessTokenSilently`のいずれかで、必ず[アクセストークン](/security/tokens/access-tokens/get-access-tokens)の`audience`および`scope`を指定してください。その後、これを要求の`Authorization`ヘッダーに渡して、保護されたAPIを呼び出します。