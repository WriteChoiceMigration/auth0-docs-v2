---
description: ''
og:description: User Management with Auth0.Swift
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Auth0.swift：ユーザー管理
og:url: https://auth0.com/docs/
permalink: auth0-swift-user-management
title: Auth0.swift：ユーザー管理
twitter:description: User Management with Auth0.Swift
twitter:title: Auth0.swift：ユーザー管理
---

The <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> provides [User Account Linking](/docs/manage-users/user-accounts/user-account-linking), which allows you to link and unlink separate user accounts from different providers, tying them to a single profile. It also allows you to update user metadata and other profile information.

## ユーザーをリンクする

ユーザーアカウントをリンクすると、ユーザーがどのアカウントからでも認証できるようになり、どのアカウントを使用してログインしても同じプロファイルが引き出されます。Auth0では、デフォルトですべてのアカウントが個別のプロファイルとして扱われるため、ユーザーのアカウントをリンクしたい場合は以下の手順が必要です。

The `link` method accepts two parameters: the primary profile's user ID and the secondary profile's <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=Access+Token">Access Token</Tooltip> (the token obtained after login with this identity). The user ID in question is the unique identifier for this user account. If the ID is in the format `facebook|1234567890`, the ID required is the portion after the delimiting pipe (in this case, `1234567890`).

```swift lines
Auth0
   .users(token: "user-scoped access token")
   .link(userId, withOtherUserToken: "another user token")
   .start { result in
      switch result {
      case .success(let userInfo):
        print("User: \(userInfo)")
      case .failure(let error):
        print(error)
      }
   }
```

## ユーザーのリンク解除は、リンクと同様の処理になります。`unlink`メソッドは、セカンダリープロファイルのユーザーID、セカンダリープロファイルのプロバイダー（接続のIDプロバイダー）とプライマリープロファイルのユーザーIDの3つのパラメーターを受け付けます。

Unlinking users is a similar process to linking users. The `unlink` method takes three parameters: the secondary profile's user ID, the secondary profile's provider (the connection's <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+provider">identity provider</Tooltip>), and the primary profile's user ID.
アカウントのリンクでは、セカンダリーアカウントのプロファイルのメタデータはプライマリーアカウントのプロファイルのメタデータとマージされません。同様に、アカウントのリンク解除では、セカンダリーアカウントのプロファイルはプライマリーアカウントのプロファイルのメタデータを保持しません。

```swift lines
Auth0
   .users(token: "user-scoped access token")
   .unlink(identityId: identifier, provider: provider, fromUserId:userId)
   .start { result in
      switch result {
      case .success(let userInfo):
        print("User: \(userInfo)")
      case .failure(let error):
        print(error)
      }
   }
```

ユーザーメタデータを取得する

## ユーザーメタデータを更新する

```swift lines
Auth0
    .users(token: "user-scoped access token")
    .get(userId, fields: ["user_metadata"], include: true)
    .start { result in
        switch result {
        case .success(let userInfo):
            print("User: \(userInfo)")
        case .failure(let error):
            print(error)
        }
    }
```

## メタデータの更新では、`userMetadata`オブジェクトを作成してから、`patch`メソッドを呼び出して、ユーザーIDと`userMetadata`オブジェクトを渡します。このオブジェクトの値は、同じキーを持つ既存の値を上書きするか、ユーザーメタデータに値がない場合は新しい値を追加します。

When updating user metadata, you will create a `userMetadata` object and then call the `patch` method, passing it the user ID and the `userMetadata` object. The values in this object will overwrite existing values with the same key, or add new ones for those that don't yet exist in the user metadata.

```swift lines
Auth0
    .users(token: "user-scoped access token")
    .patch("user identifier", userMetadata: ["first_name": "John", "last_name": "Doe"])
    .start { result in
        switch result {
        case .success(let userInfo):
          print("User: \(userInfo)")
        case .failure(let error):
          print(error)
        }
    }
```