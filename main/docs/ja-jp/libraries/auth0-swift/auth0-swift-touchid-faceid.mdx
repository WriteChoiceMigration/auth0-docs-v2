---
description: ''
og:description: How to implement Touch ID / Face ID authentication with Auth0.swift.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Auth0.swift：Touch ID / Face ID認証
og:url: https://auth0.com/docs/
permalink: auth0-swift-touchid-faceid
title: Auth0.swift：Touch ID / Face ID認証
twitter:description: How to implement Touch ID / Face ID authentication with Auth0.swift.
twitter:title: Auth0.swift：Touch ID / Face ID認証
---

次のようなシナリオです：ユーザーが認証したら、そのユーザーの資格情報を保管して、有効期間中は継続して使用したいと考えます。有効期限が切れたら、`refreshToken`を使って更新し、ログインページが再度表示されないようにしたいと考えます。これを自動的に行うのではなく、ユーザーの指紋認識や顔認識で本人確認を求めます。

You will be using the [Credentials Manager](https://github.com/auth0/Auth0.swift/blob/master/Auth0/CredentialsManager.swift) utility in [Auth0.swift](https://github.com/auth0/Auth0.swift/) to streamline the management of user credentials and perform biometric authentication.

## 使用の開始

まず、次を実行して`Auth0`モジュールをインポートします：

`import Auth0`

### 資格情報マネージャー

資格情報を取得する前に、iOSデバイスが対応している生体認証（Face IDまたはTouch ID）を活用することもできます。

資格情報マネージャーをセットアップすることから始めます。そして、生体認証を有効化します。タイトルに渡して、画面に表示することもできます。

```swift lines
let credentialsManager = CredentialsManager(authentication: Auth0.authentication())
credentialsManager.enableBiometrics(withTitle: "Touch ID / Face ID Login")
```

We strongly recommend that you add the [NSFaceIDUsageDescription](https://developer.apple.com/library/archive/documentation/General/Reference/InfoPlistKeyReference/Articles/CocoaKeys.html#//apple_ref/doc/uid/TP40009251-SW75) setting to your project's `Info.plist` to display a reason for using Face ID. In some cases, if you do not provide a description string and the user attempts Face ID authentication, the user's attempt may fail.

```xml lines
...
<key>NSFaceIDUsageDescription</key>
<string>Reason why we use Face ID here</string>
...
```

### ユニバーサルログインページを表示して、認証が成功したら、資格情報を資格情報マネージャーに渡します。

Present the <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> page and, upon successful authentication, pass the credentials to the Credentials Manager.

```swift lines
Auth0
    .webAuth()
    .scope("openid profile offline_access")
    .audience("https://{yourDomain}/userinfo")
    .start {
        switch $0 {
        case .failure(let error):
            // Handle error
        case .success(let credentials):
            // Store credentials securely with the 資格情報マネージャー
            credentialsManager.store(credentials: credentials)
        }
}
```

### ユーザーの資格情報を更新しなければならない場合には、資格情報マネージャーから`credentials`メソッドを呼び出します。

新しい資格情報を手動で保管する必要はありません。更新時に資格情報マネージャーが処理します。

```swift lines
credentialsManager.credentials { error, credentials in
    guard error == nil, let credentials = credentials else {
        // Handle error
        // Fallback to login screen
    }
    // Continue routing the user as authentication was successful
}
```

次の手順

## プロジェクトのサンプルをダウンロードして、iOSのクイックスタートにある「[iOSのTouch ID / Face ID](/quickstart/native/ios-swift/08-touch-id-authentication)」セクションの指示に従います。

You can download a sample project and follow the instructions in the iOS quickstart section on [Touch ID / Face ID in iOS](/docs/quickstart/native/ios-swift).