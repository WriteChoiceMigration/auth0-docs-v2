---
description: ''
og:description: Keeping your user logged in with Auth0.swift
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Auth0.swift：トークンを保存および更新する
og:url: https://auth0.com/docs/
permalink: auth0-swift-save-and-renew-tokens
title: Auth0.swift：トークンを保存および更新する
twitter:description: Keeping your user logged in with Auth0.swift
twitter:title: Auth0.swift：トークンを保存および更新する
---

`offline_access`スコープを含んだまま認証を行う場合、ユーザーに再び資格情報を求めることなく新しいトークンの要求に使用できるリフレッシュトークンが返されます。

## 資格情報マネージャー

[Auth0.swift](https://github.com/auth0/Auth0.swift)には、資格情報の保存と更新プロセスを合理化するためのユーティリティクラスが用意されています。`accessToken`または`idToken`プロパティには、[［Credentials（資格情報）］](https://github.com/auth0/Auth0.swift/blob/master/Auth0/Credentials.swift)インスタンスからアクセスすることができます。これは、ユーザー資格情報を管理する上で推奨される方法です。

まず、`Auth0`モジュールをインポートします。

`import Auth0`

次に、ユニバーサルログインページを表示します。





### 資格情報の確認

アプリの起動時にクイックチェックを実行して、マネージャーに更新可能な資格情報が保存されていることを確認すると便利です。保存されていない場合は、ユーザーを認証画面に移動できます。



### ユーザーの資格情報の取得

ユーザーの資格情報は以下のようにして取得できます。



ユーザーの資格情報の更新は、トークンが期限切れになったときとまったく同じように行われます。資格情報マネージャーが資格情報を自動的に更新し、更新された資格情報をキーチェーンに保存して、資格情報かエラーのいずれかを含む`Result`を返します。

## 代替の方法 - SimpleKeychain

このセクションは、資格情報マネージャーを使用したくない開発者向けです。システムキーチェーンより軽いラッパーであるSimpleKeychainユーティリティが含まれており、トークンを安全に保存するために使用できます。

まず、`SimpleKeychain`モジュールをインポートします。

`import SimpleKeychain`

次に、インスタンスを作成して、必要なトークンを保存します。この場合、認証に成功した後、キーチェーンに`access_token`と`refresh_token`を保存します。



これらを保存したら、いつでも新しい[Credentials](https://github.com/auth0/Auth0.swift/blob/master/Auth0/Credentials.swift)インスタンスを要求できます。

### ユーザーの資格情報の更新