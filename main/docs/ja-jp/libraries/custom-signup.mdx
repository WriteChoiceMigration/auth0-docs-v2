---
description: ''
og:description: How to customize the user signup form with additional fields using
  Lock or the Auth0 API.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: カスタムサインアップ
og:url: https://auth0.com/docs/
permalink: custom-signup
title: カスタムサインアップ
twitter:description: How to customize the user signup form with additional fields
  using Lock or the Auth0 API.
twitter:title: カスタムサインアップ
---

LockまたはAuth0 APIを使うと、ユーザーサインアップフォームをカスタマイズして、メールアドレスとパスワード以外のフィールドを追加できます。

There are many factors to consider before you choose [Lock vs. Custom UI](/docs/customize/login-pages/classic-login/customize-with-lock-sdk). For example, using Lock, you can redirect to another page to capture data or use progressive profiling. When using the Auth0 API, you can capture custom fields and store them in a database. There are certain limitations to the customization that should be considered when choosing the method that best suits your purpose. Some typical customizations include adding a username and verifying password strength.

<Card title="Universal Login recommended">

Auth0 offers a [Universal Login](/docs/authenticate/login/auth0-universal-login) option that you can use instead of designing your own custom login or signup pages, or using those that are embedded in any of the Auth0 libraries. If you want to offer signup and login options, and you only need to customize the application name, logo and background color, then Universal Login might be an easier option to implement.

</Card>

## Lockは[カスタムフィールドでのサインアップ](/libraries/lock/lock-configuration)をサポートします。

Lock supports [custom fields signup](/docs/libraries/lock/lock-configuration).

Lock's `additionalSignUpFields` option will only work with database signups. For signups using social <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+providers">identity providers</Tooltip>, collecting these fields in the same manner is not possible with Lock, but there are two other options to allow social IDP signups with Lock while still collecting additional custom fields.

### ソーシャルプロバイダーのサインアップでLockを使い、カスタムフィールドデータを収集する1つ目の方法は、[リダイレクトルール](/rules/redirect-users)を使用して、追加情報を求める別のページにユーザーをリダイレクトしてから戻し、認証トランザクションを終了させる方法です。

One way to use social provider signups with Lock and collect custom fields is to use [redirect rules](/docs/customize/rules/redirect-users) to redirect the user to another page where you ask for extra information, and then redirect back to finish the authentication transaction.

### もう1つの方法は、ユーザープロファイルを時間をかけて徐々に構築していく[プログレッシブプロファイリング](/users/user-profiles/progressive-profiling)を使用します。サインアップ時は必要最小限の情報を収集し、その後、ユーザーがアプリとやり取りする度に少しのデータ（たとえば、1つの質問で）を収集してプロファイルを完成させます。サインアップにソーシャルIdPを使用する目的は、簡単で効率的なサインアッププロセスをユーザーに提供することなので、この方法を使えば、負担を抑えながら欲しい情報を収集することができます。

Another way to collect custom field data when signing users up with social providers is via [progressive profiling](/docs/manage-users/user-accounts/user-profiles/progressive-profiling) whereby you can slowly build up user profile data over time. You collect the bare minimum details upon signup, but when a user later interacts with your app, you collect a small amount of data (perhaps one question) each time until their profile is complete. This allows you to collect the desired information but with less friction, since the goal of using a social IDP for signup is making it more effortless and streamlined for the user.

## カスタムフィールドをキャプチャするサインアップフォームを作成する

### 現時点では、サインアップ時にユーザーが入力したカスタムフィールドを検証する方法がありません。検証は、ログイン時にAuth0 [Rule](/rules)から行うか、アプリケーションでカスタムの**server-side（サーバー側）**ロジックを使用して行わなければなりません。

フォームデータを送信する

There is currently no way to validate user-supplied custom fields when signing up. Validation must be done from an Auth0 [Rule](/docs/customize/rules) at login, or with custom, **server-side** logic in your application.

### 次のものを送信する必要があります：

Send a POST request to the [/dbconnections/signup](https://auth0.com/docs/api/authentication/reference#signup) endpoint in Auth0.

サインアップするユーザーの`email`と`password`

* ユーザーのデータを保存するデータベース`connection`の名前
* `given_name`、`family_name`、`name`、`nickname`、`picture`を含む、更新したい任意のユーザープロファイル属性
* `user_metadata`の一部として任意のカスタムフィールド
* カスタムフィールドの制限
* ユーザーがサインアップすると、カスタムフィールドは`user_metadata`の一部として送信されます。このフィールドには次のような制限があります。

## `user_metadata`に含められるフィールドは10個まで

`user_metadata.field`値は文字列でなければならない

* `user_metadata.field.value.length`は500文字未満
* `user_metadata.field.value.length`は100文字未満
* `user_metadata`の現在のサイズ制限は**16 MB**
* リダイレクトモード
* ログインに成功すると、Auth0はユーザーを、クエリ文字列内のJWT（`id_token`）とともに構成済みCallback URLにリダイレクトします。

## サーバーは、その後、APIv2を呼び出して必要なカスタムフィールドをユーザープロファイルに追加します。

After a successful login, Auth0 will redirect the user to your configured callback URL with a <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JWT">JWT</Tooltip> (`id_token`) in the query string.

よく行われるサインアップのカスタマイズは、ユーザー名を追加することです。

## この機能を有効にするには、ダッシュボードの[［Connections（接続）］>［Database（データベース）］](%24%7Bmanage_url%7D/#/connections/database/)セクションに移動して、編集したい接続の**［Settings（設定）］**タブにある**［Requires Username（ユーザー名を必須にする）］**設定をオンにします。

カスタムフォームで`username`フィールドをキャプチャして、要求本文に`username`を追加します。

To enable this feature, turn on the **Requires Username** setting on the [Connections > Database](https://manage.auth0.com/#/connections/database/) section of the dashboard under the **Settings** tab for the connection you wish to edit.

データベース接続のパスワードポリシーは、ダッシュボードで設定できます。詳細については、「[Auth0データベース接続のパスワード強度](/connections/database/password-strength)」を参照してください。

## カスタムサインアップフォームの実装に必要な場合は、設定したパスワードポリシーを、その他の接続情報と一緒に、[Management v2 API](/api/management/v2#!/Connections/get_connections_by_id)から取得できます。結果は、クライアント側で解析でき、ダッシュボードでその接続のために設定された現在のパスワードポリシーの情報を含みます。

Password policies for database connections can be configured in the dashboard. For more information, see: [Password Strength in Auth0 Database Connections](/docs/authenticate/database-connections/password-strength).

If required for implementation of custom signup forms, the configured password policies, along with other connection information, can be retrieved from the [Management v2 API](https://auth0.com/docs/api/management/v2#!/Connections/get_connections_by_id). The result can be parsed client-side, and will contain information about the current password policy (or policies) configured in the dashboard for that connection.