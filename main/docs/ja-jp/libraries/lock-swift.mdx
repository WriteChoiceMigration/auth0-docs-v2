---
description: ''
og:description: A widget that provides a frictionless login and signup experience
  for your native iOS apps.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Lock.swift
og:url: https://auth0.com/docs/
permalink: lock-swift
title: Lock.swift
twitter:description: A widget that provides a frictionless login and signup experience
  for your native iOS apps.
twitter:title: Lock.swift
---

このリファレンスガイドでは、Lockユーザーインターフェイスの実装方法と、認証ニーズに合わせてUIとして使用するためのLockの構成とカスタマイズの詳細について説明します。ただし、アクセストークンの保存、呼び出し、更新、ユーザー プロファイル情報の取得など、Auth0とSwiftでさらに多くのことを行う方法を学習したい場合は、[Auth0.swift SDK](/libraries/auth0-swift)を確認してください。または、[Swiftクイックスタート](/quickstart/native/ios-swift)を参照して、完全な例を確認し、Lockをインターフェイスとして使用する場合とカスタムインターフェイスを使用する場合の両方のオプションを確認してください。

GitHubの[ Lock.swiftリポジトリ](https://github.com/auth0/Lock.swift)を確認してください。

## 要件

* iOS 9+
* Xcode 11.4+ / 12.x
* Swift 4.x / 5.x

## インストール

### Cocoapods

[Cocoapods](https://cocoapods.org)を使用している場合は、`Podfile`に次の行を追加します。

`pod 'Lock', '~> 2.0'`

それから`pod install`を実行します。CocoaPodsの詳細は、[公式ドキュメント](https://guides.cocoapods.org/using/getting-started.html)を確認してください。

### Carthage

[Carthage](https://github.com/Carthage/Carthage)を使用している場合は、`Cartfile`に次の行を追加します。

`github "auth0/Lock.swift" ~> 2.0`

次に、`carthage bootstrap`を実行します。Carthageの使用に関する詳細は、[公式のドキュメンテーション](https://github.com/Carthage/Carthage#if-youre-building-for-ios-tvos-or-watchos)を確認してください。

### SPM

Swift Package Managerを使用している場合は、Xcodeで次のメニュー項目を開きます。

**［File（ファイル）］ > ［Swift Packages］ > ［Add Package Dependency（パッケージ依存関係の追加）］...**

**パッケージリポジトリの選択**プロンプトで、次のURLを追加します。

`https://github.com/auth0/Lock.swift.git`

次に、**［Next（次へ）］**を押して残りのステップを完了します。



## セットアップ

### アプリケーションとの統合

アプリケーションがURLを開くように要求されたときに、Lockに通知する必要があります。これは、`AppDelegate`ファイルで行うことができます。



### Lockのインポート

必要な場所に**Lock**をインポートする

`lockのインポート`

### Auth0資格情報

Lock を使用するには、[Auth0 Dashboard](%24%7Bmanage_url%7D)のアプリケーション設定で確認できるAuth0クライアントIDとドメインを提供する必要があります。

アプリケーションバンドルに、次の形式の資格情報を含む`Auth0.plist`という名前の`plist`ファイルを追加できます。



## Lock Classicの実装

Lock Classicは、データベース、ソーシャル、およびエンタープライズ接続を使用して認証を処理します。

### OIDC準拠モード

このSDKはOIDC準拠モードで使用することを強く推奨しています。このモードを有効にすると、SDKはAuth0の現在の認証パイプラインを使用するように強制され、レガシーエンドポイントに到達できなくなります。デフォルトでは`false`です



Lockを表示するには、UIViewControllerに次のスニペットを追加します。



## Auth0.Swiftライブラリを使用してユーザープロファイルにアクセスする

ユーザープロファイル情報にアクセスするには、`Auth0.Swift`ライブラリを使用する必要があります。



[Auth0.Swiftライブラリのドキュメント](/libraries/auth0-swift)で、その使用方法の詳細を確認してください。

## 接続の指定

Lockは、アプリケーション用に構成された接続を自動的に読み込みます。デフォルトの動作をオーバーライドする場合は、認証オプションとしてユーザーに表示する接続を手動で指定できます。これは、メソッドを呼び出して、接続を指定できるクロージャを提供することで実行できます。

データベース接続の追加:



複数のソーシャル接続の追加:



## スタイル設定とカスタマイズ

Lockには、`withStyle`を使用して独自のブランド アイデンティティをLockに適用するのに役立つ多くのスタイル設定オプションが用意されています。たとえば、Lockウィジェットのプライマリカラーとヘッダーテキストを変更するには:

### タイトル、ロゴ、プライマリカラーをカスタマイズします



アプリのLockの外観を変更するためのスタイル設定オプションの完全なセットについては、[カスタマイズガイド](/libraries/lock-swift/lock-swift-customization)を参照してください。

## 構成オプション

Lockの動作を構成するためのオプションは多数あります。以下は、Lockを閉じられるように設定し、ユーザー名のみ（メールは不可）に制限し、ログイン画面とパスワードのリセット画面のみを表示するように構成した例です。



アプリのLock動作を変更するための動作設定オプションの完全なセットについては、[構成ガイド](/libraries/lock-swift/lock-swift-configuration-options)を参照してください。

## パスワードマネージャーのサポート

デフォルトでは、[1Password](https://1password.com/)を使用したパスワードマネージャーのサポートは、データベース接続に対して有効になっています。1Passwordのサポートでは、ログイン画面とサインアップ画面にオプションが表示されるように、ユーザーが1Passwordアプリをインストールしている必要があります。passwordManagerのenabledプロパティを使用して、1Passwordサポートを無効にすることができます。



デフォルトでは、`appIdentifier`はアプリのバンドル ID に設定され、`displayName`はアプリの表示名に設定されます。これらは次のようにカスタマイズできます。



アプリの`info.plist`に以下を追加する必要があります。