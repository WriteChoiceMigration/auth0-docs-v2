---
description: ''
og:description: A widget that provides a frictionless login and signup experience
  for your native iOS apps.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Lock.swift
og:url: https://auth0.com/docs/
permalink: lock-swift
title: Lock.swift
twitter:description: A widget that provides a frictionless login and signup experience
  for your native iOS apps.
twitter:title: Lock.swift
---

This reference guide will show you how to implement the Lock user interface, and give you the details on configuring and customizing Lock in order to use it as the UI for your authentication needs. However, if you'd like to learn how to do more with Auth0 and Swift, such as how to save, call and refresh <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=Access+Tokens">Access Tokens</Tooltip>, get user profile info, and more, check out the [Auth0.swift SDK](/docs/libraries/auth0-swift). Or, take a look at the [Swift Quickstart](/docs/quickstart/native/ios-swift) to walk through complete examples and see options, both for using Lock as the interface, and for using a custom interface.

Check out the [Lock.swift repository](https://github.com/auth0/Lock.swift) on GitHub.

## 要件

* iOS 9+
* Xcode 11.4+ / 12.x
* Swift 4.x / 5.x

## インストール

### Cocoapods

If you are using [Cocoapods](https://cocoapods.org), add this line to your `Podfile`:

`pod 'Lock', '~> 2.0'`

次に、**［Next（次へ）］**を押して残りのステップを完了します。
For more information on Cocoapods, check [their official documentation](https://guides.cocoapods.org/using/getting-started.html).

### 次に、**［Next（次へ）］**を押して残りのステップを完了します。

If you are using [Carthage](https://github.com/Carthage/Carthage), add the following line to your `Cartfile`:

`github "auth0/Lock.swift" ~> 2.0`
**［File（ファイル）］ > ［Swift Packages］ > ［Add Package Dependency（パッケージ依存関係の追加）］...**
For more information about 次に、**［Next（次へ）］**を押して残りのステップを完了します。 usage, check [their official documentation](https://github.com/Carthage/Carthage#if-youre-building-for-ios-tvos-or-watchos).

### 次に、**［Next（次へ）］**を押して残りのステップを完了します。

セットアップ

アプリケーションとの統合

アプリケーションがURLを開くように要求されたときに、Lockに通知する必要があります。これは、`AppDelegate`ファイルで行うことができます。

`https://github.com/auth0/Lock.swift.git`

Lockのインポート

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

For further reference on SPM, check the [official documentation](https://developer.apple.com/documentation/swift_packages/adding_package_dependencies_to_your_app).

</Callout>

## 必要な場所に**Lock**をインポートする

### Auth0資格情報

Lock を使用するには、[Auth0 Dashboard](%24%7Bmanage_url%7D)のアプリケーション設定で確認できるAuth0クライアントIDとドメインを提供する必要があります。

```swift lines
func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -> Bool {
  return Lock.resumeAuth(url, options: options)
}
```

### アプリケーションバンドルに、次の形式の資格情報を含む`Auth0.plist`という名前の`plist`ファイルを追加できます。

Lock Classicの実装

`import lock`

### Lock Classicは、データベース、ソーシャル、およびエンタープライズ接続を使用して認証を処理します。

In order to use Lock you need to provide your Auth0 <Tooltip tip="Client ID: Identification value given to your registered resource from Auth0." cta="View Glossary" href="/docs/glossary?term=Client+Id">Client Id</Tooltip> and Domain, which can be found in your [Auth0 Dashboard](https://manage.auth0.com/#), under your Application's settings.

このSDKはOIDC準拠モードで使用することを強く推奨しています。このモードを有効にすると、SDKはAuth0の現在の認証パイプラインを使用するように強制され、レガシーエンドポイントに到達できなくなります。デフォルトでは`false`です

```xml lines
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
  <key>ClientId</key>
  <string>{yourClientId}</string>
  <key>Domain</key>
  <string>{yourDomain}</string>
</dict>
</plist>
```

## Lockを表示するには、UIViewControllerに次のスニペットを追加します。

Auth0.Swiftライブラリを使用してユーザープロファイルにアクセスする

### ユーザープロファイル情報にアクセスするには、`Auth0.Swift`ライブラリを使用する必要があります。

接続の指定

```swift lines
.withOptions {
    $0.oidcConformant = true
}
```

Lockは、アプリケーション用に構成された接続を自動的に読み込みます。デフォルトの動作をオーバーライドする場合は、認証オプションとしてユーザーに表示する接続を手動で指定できます。これは、メソッドを呼び出して、接続を指定できるクロージャを提供することで実行できます。

```swift lines
Lock
    .classic()
    // withConnections, withOptions, withStyle, and so on
    .withOptions {
      $0.oidcConformant = true
      $0.scope = "openid profile"
    }
    .onAuth { credentials in
      // Let's save our credentials.accessToken value
    }
    .present(from: self)
```

## データベース接続の追加:

複数のソーシャル接続の追加:

```swift lines
Auth0
   .authentication()
   .userInfo(withAccessToken: accessToken)
   .start { result in
       switch result {
       case .success(let profile):
           print("User Profile: \(profile)")
       case .failure(let error):
           print("Failed with \(error)")
       }
   }
```

Check out the [Auth0.Swift Library Documentation](/docs/libraries/auth0-swift) for more information about its uses.

## Lockには、`withStyle`を使用して独自のブランド アイデンティティをLockに適用するのに役立つ多くのスタイル設定オプションが用意されています。たとえば、Lockウィジェットのプライマリカラーとヘッダーテキストを変更するには:

タイトル、ロゴ、プライマリカラーをカスタマイズします

アプリのLockの外観を変更するためのスタイル設定オプションの完全なセットについては、[カスタマイズガイド](/libraries/lock-swift/lock-swift-customization)を参照してください。

```swift lines
.withConnections {
    connections.database(name: "Username-Password-Authentication", requiresUsername: true)
}
```

構成オプション

```swift lines
.withConnections {
    connections.social(name: "facebook", style: .Facebook)
    connections.social(name: "google-oauth2", style: .Google)
}
```

## Lockの動作を構成するためのオプションは多数あります。以下は、Lockを閉じられるように設定し、ユーザー名のみ（メールは不可）に制限し、ログイン画面とパスワードのリセット画面のみを表示するように構成した例です。

アプリのLock動作を変更するための動作設定オプションの完全なセットについては、[構成ガイド](/libraries/lock-swift/lock-swift-configuration-options)を参照してください。

### パスワードマネージャーのサポート

```swift lines
.withStyle {
  $0.title = "Company LLC"
  $0.logo = LazyImage(named: "company_logo")
  $0.primaryColor = UIColor(red: 0.6784, green: 0.5412, blue: 0.7333, alpha: 1.0)
}
```

You can see the complete set of styling options to alter the appearance of Lock for your app in the [Customization Guide](/docs/lock-swift-customization).

## デフォルトでは、`appIdentifier`はアプリのバンドル ID に設定され、`displayName`はアプリの表示名に設定されます。これらは次のようにカスタマイズできます。

アプリの`info.plist`に以下を追加する必要があります。

```swift lines
Lock
  .classic()
  .withOptions {
    $0.closable = true
    $0.usernameStyle = [.Username]
    $0.allow = [.Login, .ResetPassword]
  }
```

You can see the complete set of behavior configuration options to alter the way Lock works for your app in the [Configuration Guide](/docs/libraries/lock-swift/lock-swift-configuration-options).

## Password Manager Support

By default, password manager support using [1Password](https://1password.com/) is enabled for database connections. 1Password support will still require the user to have the 1Password app installed for the option to be visible in the login and signup screens. You can disable 1Password support using the enabled property of the passwordManager.

```swift lines
.withOptions {
    $0.passwordManager.enabled = false
}
```

By default the `appIdentifier` will be set to the app's bundle identifier and the `displayName` will be set to the app's display name. You can customize these as follows:

```swift lines
.withOptions {
    $0.passwordManager.appIdentifier = "www.myapp.com"
    $0.passwordManager.displayName = "My App"
}
```

You will need to add the following to your app's `info.plist`:

```xml lines
<key>LSApplicationQueriesSchemes</key>
<array>
    <string>org-appextension-feature-password-management</string>
</array>
```

## Learn more

* [Lock.swift: Style Customization Options](/docs/lock-swift-customization)
* [Lock.swift: Configuration Options](/docs/libraries/lock-swift/lock-swift-configuration-options)
* [Lock.swift: Custom Fields at Signup](/docs/libraries/lock-swift/lock-swift-custom-fields-at-signup)
* [Lock.swift Internationalization](/docs/customize/internationalization-and-localization/lock-swift-internationalization)
* [Logout](/docs/authenticate/login/logout)