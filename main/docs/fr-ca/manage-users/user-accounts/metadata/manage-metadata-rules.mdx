---
og:description: Learn how to manage with app metadata, user metadata, and client metadata
  using Rules.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Gérer les métadonnées avec des règles
og:url: https://auth0.com/docs/
permalink: manage-metadata-rules
title: Gérer les métadonnées avec des règles
twitter:description: Learn how to manage with app metadata, user metadata, and client
  metadata using Rules.
twitter:title: Gérer les métadonnées avec des règles
---



Vous pouvez lire, mettre à jour et supprimer les métadonnées à l’aide des [Règles d'Auth0](/rules). Dans les sections suivantes, nous nous référerons à cet exemple où l’utilisateur et ses informations sont représentés par l’extrait de code JSON suivant :



## Lire les métadonnées

Vous pouvez lire les métadonnées à l’aide de règles avec Management API. Vous pouvez également rechercher des informations relatives au profil dans `user_metadata`, telles que :

* `name`
* `nickname`
* `given_name`
* `family_name`



À titre d’exemple, supposons que les métadonnées suivantes soient stockées pour un utilisateur dont l’adresse courriel est `jane.doe@example.com` :



En utilisant l’exemple de métadonnées ci-dessus, vous pouvez vous référer à des éléments précis de l’ensemble de données dans des [règles d'Auth0](/rules) ou via un appel à [Management API](/users/guides/manage-user-metadata) comme suit :



Tout extrait JSON valide peut être utilisé comme métadonnées, mais notez que `user.app_metadata` est `Undefined` par défaut.

Pour lire les métadonnées disponibles, vous devez accéder à la propriété utilisateur adéquate.

### Lire les métadonnées de l’application

Vous pouvez prendre une décision en fonction des rôles utilisateur.



### Lire les métadonnées utilisateur

Vous pouvez baser vos décisions sur des préférences précises, par exemple une préférence de couleur :



### Lire les métadonnées de l’application (clientMetadata)

Les métadonnées de l’application (`clientMetadata`) constituent une propriété facultative de premier niveau de l’objet `context`. Les applications existantes n’ont pas de valeur pour cette propriété.



## Mettre à jour les métadonnées



### Mettre à jour les métadonnées de l’application

Pour ajouter un rôle administratif à l’utilisateur :



Il en résulte la représentation JSON suivante des informations du profil utilisateur :

### Mettre à jour les métadonnées d’un utilisateur

Pour ajouter la préférence `fontSize` de l’utilisateur au profil utilisateur :



Il en résulte la représentation JSON suivante des informations du profil utilisateur :

### Mettre à jour simultanément les métadonnées de l’application et de l’utilisateur

Pour réduire le temps de traitement de la règle, vous pouvez mettre à jour les `app_metadata` et les `user_metadata` dans la même règle :



Il en résulte la représentation JSON suivante des informations du profil utilisateur :



## Supprimer les métadonnées

### Supprimer les propriétés et les valeurs des métadonnées de l’application

Pour supprimer une propriété, il suffit de définir sa valeur sur `null`.

#### Exemple de suppression des rôles d’un utilisateur

Pour supprimer les rôles de l’utilisateur, utilisez l’exemple de règle suivant :



Il en résulte la représentation JSON suivante du profil utilisateur :



#### Exemple de suppression d’une seule valeur de propriété

Pour supprimer une seule valeur d’une propriété, supprimez cette valeur spécifique. Par exemple, pour supprimer le rôle `writer` du profil utilisateur :



Il en résulte la représentation JSON suivante du profil utilisateur :



Notez que la propriété `roles` existe toujours, mais qu’elle ne contient aucune valeur.

### Supprimer les propriétés et les valeurs des métadonnées de l’utilisateur

Pour supprimer la préférence de couleur de l’utilisateur :



Il en résulte la représentation JSON suivante des informations du profil utilisateur :