---
og:description: User migrations scenarios from various platforms using multiple methods.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Scénarios de migration des utilisateurs
og:url: https://auth0.com/docs/
permalink: user-migration-scenarios
title: Scénarios de migration des utilisateurs
twitter:description: User migrations scenarios from various platforms using multiple
  methods.
twitter:title: Scénarios de migration des utilisateurs
---

Voici quelques exemples de scénarios de migration d’utilisateurs de Gigya, Okta et Stormpath vers Auth0. Chacun de ces scénarios suppose que vous avez des comptes sur ces plateformes.

## Prérequis

Configurez la [connexion à la base de données personnalisée](/connections/database/custom-db).

1. Créez une nouvelle connexion à la base de données dans [Dashboard > Authentification > Base de données](%24%7Bmanage_url%7D/#/connections/database). Veillez à sélectionner la vue **Base de données personnalisée** et à activer le bouton à bascule **Utiliser ma propre base de données**.
2. Connectez la base de données à l’application : Dans vos réglages de connexion à la base de données, sélectionnez la vue **Applications**. Localisez la section **Applications utilisant cette connexion** et activez la connexion à la base de données pour chaque application.

## Scénario 1 : Migrer les utilisateurs de Gigya vers Auth0

1. Exportez les utilisateurs de Gigya : Utilisez [Gigya’s IdentitySync](https://help.sap.com/docs/SAP_CUSTOMER_DATA_CLOUD/8b8d6fffe113457094a17701f63e3d6a/2b717202e42a4165aa7f75f7eecab64f.html) pour transformer et exporter les données des utilisateurs afin qu’elles correspondent à un schéma cible. Pour en savoir plus sur ce processus, voir [Gigya IdentitySync : Utiliser IdentitySync](https://help.sap.com/docs/SAP_CUSTOMER_DATA_CLOUD/8b8d6fffe113457094a17701f63e3d6a/2b717202e42a4165aa7f75f7eecab64f.html?locale=en-US).

Suivez les instructions pour transformer les données utilisateur de votre base de données Gigya dans le [schéma](/users/import-and-export-users/bulk-user-import-database-schema-and-examples) correct et exporter les données transformées au format JSON.
2. Importez vos utilisateurs Gigya dans Auth0 : Vous pouvez importer des utilisateurs avec [l’extension Importation/Exportation des utilisateurs](/extensions/user-import-export-extension) ou [Management API](/api/management/v2/).

* **L’extension Importation/Exportation des utilisateurs** : Allez sur [Auth0 Dashboard > Extensions](%24%7Bmanage_url%7D/#/extensions), sélectionnez l’extension **Importation/Exportation des utilisateurs** et installez-la. Une fois l’extension installée, vous pouvez cliquer dessus pour ouvrir une interface d’importation/exportation.

Glissez votre fichier JSON d’utilisateurs Gigya exportés dans la zone de téléchargement désignée, et sélectionnez la base de données que vous avez créée précédemment. Sélectionnez **Commencer à importer des utilisateurs** pour commencer votre importation. Pour en savoir plus, voir [l’extension Importation/Exportation des utilisateurs](/extensions/user-import-export-extension).
* **Management API** : Pour importer vos utilisateurs dans Auth0, [créez une tâche](/api/management/v2#!/Jobs/post_users_imports). Pour des instructions détaillées, lisez [Importations d’utilisateurs en lot](/users/import-and-export-users/bulk-user-imports).

## Scénario 2 : Migrer les utilisateurs d’Okta vers Auth0

1. Activez l’importation d’utilisateurs : Allez sur [Auth0 Dashboard > Authentification > Base de données](%24%7Bmanage_url%7D/#/connections/database) et sélectionnez votre connexion à la base de données. Dans ses **Paramètres**, activez l’option **Importer les utilisateurs vers Auth0**.
2. Créez le [Connexion](/login) : Le script **Connexion** est exécuté lorsqu’un utilisateur tente de se connecter, mais que son compte n’est pas trouvé dans la base de données Auth0. Vous devez créer un script qui appellera le point de terminaison Okta [Authentification primaire](https://developer.okta.com/docs/api/resources/authn.html#primary-authentication), en transmettant le courriel et le mot de passe comme paramètres `nom d’utilisateur` et `mot de passe`.

En cas d’authentification réussie, Okta renvoie un [objet Transaction d’authentification](https://developer.okta.com/docs/api/resources/authn.html#authentication-transaction-model) dans les [ressources intégrées](https://developer.okta.com/docs/api/resources/authn.html#embedded-resources). Vous pouvez alors extraire les informations de l’utilisateur et les transmettre à Auth0 dans la fonction de rappel.

Dans la vue **Base de données personnalisée** de votre connexion à la base de données, localisez **Scripts d’action de base de données** et sélectionnez **Connexion**.

Cliquez sur le bouton **Essayer** au-dessus du script pour tester le fonctionnement du script.
3. Créez le [Obtenir l’utilisateur](/get-user) : Le script **Obtenir l’utilisateur** est exécuté lorsque l’utilisateur tente de réinitialiser son mot de passe mais que son compte n’est pas trouvé dans la base de données Auth0. Vous devrez créer un script qui appelle le point de terminaison Okta [Obtenir un utilisateur avec une connexion](https://developer.okta.com/docs/api/resources/users.html#get-user-with-login), en utilisant le courriel de l’utilisateur comme paramètre `Connexion`.
Vous devrez également [Créer un jeton API](https://developer.okta.com/docs/api/getting_started/getting_a_token.html) qui doit être transmis à ce point de terminaison dans l’en-tête `Autorisation`.
En cas de succès, Okta renverra un [Objet utilisateur](https://developer.okta.com/docs/api/resources/users.html#user-model) contenant les informations de l’utilisateur. Une fois de plus, vous pouvez extraire les informations de l’utilisateur et les transmettre à Auth0 dans la fonction de rappel.

Dans la vue **Base de données personnalisée** de votre connexion à la base de données, localisez **Scripts d’action de base de données** et sélectionnez **Obtenir l’utilisateur**.

Cliquez sur le bouton **Essayer** au-dessus du script pour tester le fonctionnement du script.
4. Testez la connexion à la base de données personnalisée : Cliquez sur **Try connection (Essayer la connexion)**. Le [gadget logiciel Auth0 Lock](/libraries/lock) apparaît. Saisissez l’adresse courriel et le mot de passe de l’utilisateur Okta, puis cliquez sur **Log In (Connexion). **Vous devriez voir une page Web indiquant que la connexion fonctionne, avec des informations sur l’utilisateur.
5. Pour voir les utilisateurs nouvellement importés, allez sur [ Auth0 Dashboard > Gestion des utilisateurs > Utilisateurs](%24%7Bmanage_url%7D/#/users).

## Scénario 3 : Migrer les utilisateurs de Stormpath vers Auth0

1. Activez l’importation d’utilisateurs : Allez sur [Auth0 Dashboard > Authentification > Base de données](%24%7Bmanage_url%7D/#/connections/database) et sélectionnez votre connexion à la base de données. Dans ses **Paramètres**, activez l’option **Importer les utilisateurs vers Auth0**.
2. Activez les applications pour votre connexion : Sélectionnez les **Applications** à afficher. Activez les applications qui utiliseront la connexion à la base de données.
3. Créez le [script Connexion](/login) : Le script **Connexion** est exécuté lorsqu’un utilisateur tente de se connecter, mais que son compte n’est pas trouvé dans la base de données Auth0. Vous devrez créer un script qui appelle l’API de Stormpath pour authentifier l’utilisateur, transmettant alors les informations d’identification de l’utilisateur en tant que paramètres `username` et `password`.

Si l’authentification est réussie, la réponse de Stormpath inclura l’URL du compte de l’utilisateur. Effectuez une seconde requête à l’URL du compte  pour récupérer les informations de l’utilisateur. Vous pouvez alors extraire les informations de l’utilisateur et les transmettre à Auth0 dans la fonction de rappel.

Cliquez sur le bouton **Essayer** au-dessus du script pour tester et voir si le script fonctionne correctement.
4. Créez le script [Obtenir l’utilisateur](/get-user) : Le script **Obtenir l’utilisateur** est exécuté lorsque l’utilisateur tente de réinitialiser son mot de passe mais que son compte n’est pas trouvé dans la base de données Auth0. Vous devrez créer un script qui appellera le point de terminaison `/accounts` de l’API de Stormpath, en utilisant le courriel de l’utilisateur comme paramètre `email`.
En cas de succès, Stormpath renverra les informations associées à l’utilisateur. Vous pouvez extraire les informations de l’utilisateur et les transmettre à Auth0 dans la fonction de rappel.

Cliquez sur le bouton **Essayer** au-dessus du script pour tester et voir si le script fonctionne.
5. Testez la connexion à la base de données personnalisée : Cliquez sur **Try connection (Tester la connexion)**. Le [gadget logiciel Auth0 Lock](/libraries/lock) apparaît. Saisissez l’adresse courriel et le mot de passe de l’utilisateur Stormpath, et cliquez sur **Log In (Connexion). **Vous devriez voir une page Web indiquant que la connexion fonctionne, avec des informations sur l’utilisateur.
6. Pour voir les utilisateurs nouvellement importés, allez dans [Dashboard > Gestion des utilisateurs > Utilisateurs](%24%7Bmanage_url%7D/#/users).