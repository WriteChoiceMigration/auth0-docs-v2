---
og:description: Describes how to control how the `email_verified` field is set for
  Azure AD and ADFS.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Vérification de l’adresse de courriel pour Entra ID et ADFS
og:url: https://auth0.com/docs/
permalink: azuread-adfs-email-verification
title: Vérification de l’adresse de courriel pour Entra ID et ADFS
twitter:description: Describes how to control how the `email_verified` field is set
  for Azure AD and ADFS.
twitter:title: Vérification de l’adresse de courriel pour Entra ID et ADFS
---

Auth0 user's profile has an `email_verified` field, which can be set in different ways depending on the connection type. For database connections, users must go through an email validation flow to get the email verified. For federated connections, <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+providers">identity providers</Tooltip> can return the `email_verified` field based on their own criteria.

Entra ID et ADFS ne peut pas garantir que les courriels qu’ils renvoient ont été vérifiés :

* Dans ADFS, l’administrateur ADFS peut configurer n’importe quelle adresse courriel qu’il souhaite.
* Dans Entra ID, en fonction de la configuration du locataire Entra ID, les adresses courriel renvoyées par Entra ID peuvent correspondre ou non aux boîtes courriel Office. Auth0 ne peut pas savoir si c’est le cas ou non.

Cependant, si vous êtes familier avec la configuration et la gestion d’un Entra ID ou d’un ADFS, vous pouvez choisir de faire confiance à la vérification des adresses courriel de ces comptes.

Pour répondre à ces deux besoins, les connexions Entra ID et ADFS ont une propriété **Email Verification (Vérification de l’adresse courriel)** avec deux valeurs :

* Toujours définir `email_verified` sur `true`
* Toujours définir `email_verified` sur `false`

The Azure AD connection also has a **Use Common Endpoint** property. When it's enabled, the user can authenticate with any Azure AD tenant. Given it's not possible to trust that any Azure AD tenant will return verified emails, the **Email Verification** property will need to be set to **Always set** `email_verified` **to** `false`.

When the property is set to **Always set** `email_verified` **to** `false`, users will get `email_verified` set to `false` the next time they log in, unless [syncing user profile attributes at each login](/docs/manage-users/user-accounts/user-profiles/configure-connection-sync-with-auth0) is disabled.

## Paramètre de migration de vérification des adresses courriel Entra ID/ADFS

Dans les versions précédentes, Auth0 définissait le champ `email_verified` sur `true` dans les connexions Entra ID et ADFS. Si vous utilisiez des connexions Entra ID et ADFS dans le passé, vous disposerez d’un paramètre de locataire qui remplacera le paramètre de connexion pour la **Email Verification (Vérification de l’adresse courriel)** et conservera le comportement précédent.

You can find the new tenant setting in the [Auth0 Dashboard > Settings > Advanced](https://manage.auth0.com/#/tenant/advanced). Locate the **Migrations** section, then find **Default to** `Email Verification` **setting for Azure AD/ADFS connections**.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

This setting is only available if:

* the tenant is older than the date the migration was introduced
* the tenant has one or more active ADFS or Azure AD connection

</Callout>

<Frame>![Dashboard - Advanced Tenant Settings - Migrations](/images/cdy7uua7fh8z/4K1rQIv6p96KPCYOrhjXz4/be0f7b104d743fd0d3d42d18df97e144/dashboard-tenant-edit_view-advanced_migrations_azure-adfs.png)</Frame>

Lorsque ce réglage est désactivé, `email_verified` sera toujours `true` pour les connexions Entra ID/ADFS. Lorsqu’il est activé, il utilisera le paramètre `Email Verification (Vérification de l’adresse courriel)` au niveau de la connexion.

## Flux de vérification des adresses courriel pour les connexions Entra ID/ADFS

Si votre application nécessite que les adresses courriel des utilisateurs d’une connexion Entra ID/ADFS soient toujours vérifiées, vous pouvez activer l’option **Enable email verification flow during login for Entra ID and ADFS connections (Activer le flux de vérification des adresses courriel lors de la connexion pour les connexions Entra ID et ADFS)** dans la section du locataire **Advanced Settings (Réglages avancés)**.

Une fois que l’utilisateur s’est authentifié pour la première fois avec une adresse courriel non vérifiée, Auth0 demandera à l’utilisateur de vérifier son adresse courriel en saisissant un code à usage unique qui sera envoyé à son compte de messagerie :

<Frame>![Auth0 - Email Verification Prompt - One-Time Code](/images/cdy7uua7fh8z/i92GJgntVuU5QK37adugH/b767d4db92de5bafd23113042eca2600/Verify_Email_-_English.png)</Frame>

Si l’utilisateur réussit cette étape, le champ `email_verified` sera défini sur `true` et les utilisateurs ne seront plus invités à vérifier leur adresse courriel, sauf si Entra ID ou ADFS renvoie une adresse courriel différente pour l’utilisateur.

This new screen is rendered using the <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> experience, even if you are using Classic Login. To learn how to customize it, read [Customize Universal Login Pages](/docs/customize/login-pages/universal-login/customize-templates).

To learn how to customize the email that is sent to users, read [Verify Emails using Auth0](/docs/manage-users/user-accounts/verify-emails).

<Warning>

When Azure AD does not return an `email` claim, Auth0 maps the [Azure UserPrincipalName](https://docs.microsoft.com/en-us/azure/active-directory/hybrid/plan-connect-userprincipalname) as the email. There is no guarantee that the `UserPrincipalName` value is a mailbox, so Auth0 will **not** display the email verification prompt and the user will have the field `email_verified` set to `false`.

</Warning>