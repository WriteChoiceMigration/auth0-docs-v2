---
og:description: Describes how to setup authentication using client certificates.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configuration de l’authentification du connecteur AD/LDAP à l’aide de certificats
  clients
og:url: https://auth0.com/docs/
permalink: configure-ad-ldap-connector-client-certificates
title: Configuration de l’authentification du connecteur AD/LDAP à l’aide de certificats
  clients
twitter:description: Describes how to setup authentication using client certificates.
twitter:title: Configuration de l’authentification du connecteur AD/LDAP à l’aide
  de certificats clients
---

Le connecteur AD/LDAP permet également aux utilisateurs de s’authentifier à l’aide d’un certificat installé sur leur machine ou leur appareil.

## Activer les certificats clients

1. Go to [Auth0 Dashboard > Authentication > Enterprise > Active Directory/LDAP](https://manage.auth0.com/#/connections/enterprise/ad), and select the connection you want to configure.
2. Toggle the **Use client SSL certificate authentication** option in the settings.
3. Provide IP address ranges in the **IP Ranges** field. Only users coming from the given IP ranges are prompted to authenticate using client certificates. Users from different IP ranges are prompted to login with the username and password login form.

## Configurer les certificats

Une fois que la connexion AD/LDAP a été configurée dans Auth0, vous devez configurer les certificats dans le connecteur AD/LDAP. La prise en charge des certificats clients nécessite ce qui suit :

* Un certificat SSL pour l’URL Front Facing, car l’interaction entre l’utilisateur final et le connecteur devra se faire via HTTPS.
* Un ou plusieurs certificats d’autorité de certification.
* Un certificat client signé par l’autorité de certification pour chaque utilisateur devant s’authentifier à l’aide de certificats clients.

1. Before uploading certificates to the AD/LDAP connector, convert X.509 certificates to Base64. Use Base64 or Certutil on Windows Server. To learn more, see [Base64 Decode](https://www.base64decode.org/) at Base64decode or [Certutil.exe](https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/certutil#BKMK_encode) in Microsoft documentation.
2. Upload the SSL and CA certificates to the AD/LDAP Connector:

   <Frame>![Configure AD/LDAP Connector Authentication with Client Certificates Setup Screen](/images/cdy7uua7fh8z/2zRux90ZHATIBFWyHlodue/c426e5a475ff528a467db6409980de12/connector-client-cert-config.png)</Frame>
3. To test, generate a self-signed CA and Client Certificates using **makecert.exe** on Windows, which is part of the Windows SDK:

   ```bash lines
   SET ClientCertificateName=jon
       SET RootCertificateName=FabrikamRootCA
       "C:\Program Files (x86)\Microsoft SDKs\Windows\v7.1A\Bin\makecert.exe" -sky exchange -r -n "CN=%RootCertificateName%" -pe -a sha1 -len 2048 -ss My "%RootCertificateName%.cer"
       "C:\Program Files (x86)\Microsoft SDKs\Windows\v7.1A\Bin\makecert.exe" -n "CN=%ClientCertificateName%" -pe -sky exchange -m 96 -ss My -in "%RootCertificateName%" -is my -a sha1
   ```


   

   

   Il est important que l’objet du certificat client soit au format `CN=AD_USERNAME`, par exemple `CN=jon`.

Dans une application, lorsqu’un utilisateur démarre le processus de connexion à l’aide d’une connexion AD/LDAP :

```js lines
auth.signin({
       popup: true,
       connection: 'FabrikamAD',
       scope: 'openid name email'
     }, onLoginSuccess, onLoginFailed);
```






Si l’adresse IP de l’utilisateur se trouve dans la plage IP configurée, il est invité à s’authentifier à l’aide d’un certificat client :

<Frame>![Configure AD/LDAP Connector Authentication with Client Certificates Choose Client Certificate](/images/cdy7uua7fh8z/1loz5lrd2NkHs2gKgbIJKF/11a373d520eaae08c20055cb68613972/connector-client-cert-choose.png)</Frame>

Après avoir choisi le certificat, le connecteur AD/LDAP le validera et l’utilisateur sera connecté :

<Frame>![Configure AD/LDAP Connector Authentication with Client Certificates Logged In User](/images/cdy7uua7fh8z/2Lr78NWYfzD3Hw3JIDPQmb/3790acd68fa283ca79c1263f97fa29c4/connector-client-cert-loggedin.png)</Frame>