---
og:description: Learn how to connect your app to Microsoft Azure Active Directory
  using an enterprise connection.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Connexion de votre application à Microsoft Azure Active Directory
og:url: https://auth0.com/docs/
permalink: v2
title: Connexion de votre application à Microsoft Azure Active Directory
twitter:description: Learn how to connect your app to Microsoft Azure Active Directory
  using an enterprise connection.
twitter:title: Connexion de votre application à Microsoft Azure Active Directory
---

Vous pouvez intégrer Microsoft Azure Active Directory (AD) si vous voulez permettre aux utilisateurs :

* d’utiliser votre application depuis votre entreprise, à partir d’un Azure AD contrôlé par vous ou votre organisation;
* d’utiliser votre application depuis les Azure AD d’autres entreprises. (Nous vous recommandons de configurer les annuaires externes comme des connexions différentes.)



## Étapes

Pour connecter votre application à Azure AD, vous devez :

1. [Enregistrer votre application auprès d’Azure AD,](#register-your-app-with-azure-ad)
2. [Créer une connexion d’entreprise dans Auth0](#create-an-enterprise-connection-in-auth0)
3. [Activer la connexion d’entreprise pour votre Application Auth0](#enable-the-enterprise-connection-for-your-auth0-application)
4. [Tester la connexion](#test-the-connection)

### Enregistrer votre application auprès d’Azure AD

Pour enregistrer votre application avec Azure AD, consultez le guide [Démarrage rapide de Microsoft : Enregistrer une application avec la plateforme d’identités de Microsoft](https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app).



Lors de l’enregistrement, configurez les paramètres suivants :





Au cours de ce processus, Microsoft génère un **ID d’application (client)** pour votre application; vous pouvez le trouver sur l’écran **Présentation** de l’application. **Notez cette valeur.**

#### Création d’un secret client

Pour créer un secret client, consultez le [Guide de démarrage de Microsoft : Configuration d’une application client pour accéder aux API Web - Ajout d’identifiants à votre application Web](https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app#add-credentials).

Une fois générée, **notez cette valeur.**



#### Ajout de permissions

Pour ajouter des permissions, consultez le [Guide de démarrage de Microsoft : Configuration d’une application client pour accéder aux API web - Ajout de permissions pour accéder aux API web](https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-configure-app-access-web-apis#add-permissions-to-access-web-apis).

Lorsque vous configurez des permissions, réfléchissez à ce qui suit :

Si vous souhaitez activer des attributs étendus (tels que **Profil étendu** ou **groupes de sécurité**), vous devrez configurer les autorisations suivantes pour **l’API Microsoft Graph**



### Créer une connexion d’entreprise dans Auth0

Créez et configurez une connexion d’entreprise Azure AD dans Auth0. Assurez-vous que l’**ID d’application (client)** et que le **secret client** sont générés lorsque vous configurez votre application dans le portail Microsoft Azure.

1. Accédez à [Auth0 Dashboard > Authentification > Entreprise](%24%7Bmanage_url%7D/#/connections/enterprise), trouvez **Microsoft Azure AD** et sélectionnez le signe `+`.
2. Saisissez les détails de votre connexion et sélectionnez **Créer** :
3. Dans la vue **Provisioning** (Approvisionnement), vous pouvez configurer la manière dont les profils utilisateurs sont créés et mis à jour dans Auth0.
4. Dans la vue **Expérience de connexion**, vous pouvez configurer la façon dont les utilisateurs peuvent se connecter à cette connexion.
5. Si vous disposez des autorisations administratives Azure AD nécessaires pour donner votre accord à l’application afin que les utilisateurs puissent se connecter, cliquez sur **Continuer**.

Il vous sera demandé de [vous connecter à votre compte Azure AD](https://docs.microsoft.com/en-us/azure/active-directory/develop/v2-permissions-and-consent#requesting-consent-for-an-entire-tenant) et de donner votre consentement. Autrement, fournissez l’URL  fournie à votre administrateur pour lui permettre de donner son consentement.

### Activer une connexion entreprise pour votre application Auth0

Pour utiliser votre nouvelle connexion d’entreprise Azure AD, vous devez d’abord [activer la connexion](/connections/enable-enterprise-connections) pour vos applications Auth0.

### Tester la connexion

Vous êtes maintenant prêt à [tester votre connexion](/connections/test-enterprise-connections).

## Dépannage

Voici quelques conseils de dépannage :

**J’ai enregistré mon application avec Azure AD, mais lorsque je retourne à mes enregistrements d’applications Azure Active Directory, je ne peux pas voir mon application.**

Il se peut que vous ayez accidentellement enregistré votre application dans le mauvais répertoire Azure AD (ou que vous n’ayez pas créé de répertoire Azure AD avant d’enregistrer votre application). Il vous sera probablement plus facile de réenregistrer votre application dans Azure AD. Assurez-vous que vous êtes dans le bon répertoire lorsque vous enregistrez l’application. Si vous devez créer un répertoire Azure AD, consultez le [Guide de démarrage rapide de Microsoft : Créer un nouveau locataire dans Azure Active Directory - Créer un nouveau locataire pour votre organisation](https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/active-directory-access-create-new-tenant#create-a-new-tenant-for-your-organization).

**Je reçois le message d’erreur suivant : «L’accès à ce service n’est pas possible car le listage du service n’est pas correctement configuré par l’éditeur ».**

Pour résoudre ce problème, essayez de modifier les **types de comptes pris en charge** pour votre application Azure AD enregistrée. Assurez-vous d’avoir choisi une option multilocataire appropriée dans les paramètres d’authentification de l’application Azure AD. Les options multilocataires sont les suivantes : **Comptes dans n’importe quel répertoire d’organisation (tout répertoire Azure AD - Multilocataire)**.

**Lorsque les utilisateurs essaient de se connecter, nous recevons le message d’erreur suivant : "invalid_request ; échec de l'obtention du jeton d'accès".**

La raison la plus probable de cette erreur est un **secret client ** Azure AD incorrect. Pour résoudre ce problème, générez un nouveau **secret client** pour votre application dans Azure AD, puis mettez à jour le **secret client** dans la connexion d’entreprise configurée avec Auth0.

## Renouvellement de la clé de connexion dans Azure AD

Les clés de connexion sont utilisées par le fournisseur d’identités pour signer le jeton d’authentification qu’il émet, et par l’application consommatrice (Auth0 dans ce cas) pour valider l’authenticité du jeton généré.

Pour des raisons de sécurité, la clé de connexion d’Azure AD [change régulièrement](https://docs.microsoft.com/en-us/azure/active-directory/develop/active-directory-signing-key-rollover). Si cela se produit, **vous n’avez rien à faire**. Auth0 utilisera automatiquement la nouvelle clé.

## Suppression de libellé non vérifié

Si vous utilisez un domaine personnalisé, l’invite de consentement de l’application pour la connexion à Azure AD peut indiquer que votre domaine est « non vérifié ». Pour supprimer le libellé « non vérifié » :

1. Vérifiez le domaine de l’application Auth0: [Ajoutez votre nom de domaine personnalisé à l’aide du portail Azure Active Directory](https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/add-custom-domain#add-your-custom-domain-name-to-azure-ad).
2. Attribuez le domaine vérifié à l’application Auth0 : [Comment faire : Configurez le domaine d’éditeur d’une application](https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-configure-publisher-domain#configure-publisher-domain-using-the-azure-portal).

## Étapes suivantes

* [Intégrer Auth0 en utilisant l’une de nos bibliothèques](/libraries)
* [Intégrer Auth0 en utilisant notre Authentication API](/api/authentication)
* [En savoir plus sur le flux d’authentification](/login/flows)
* [Transmettre des paramètres supplémentaires au fournisseur d’identité](/pass-parameters-to-idps)
* [Redemander des autorisations aux utilisateurs](/reprompt-permissions)