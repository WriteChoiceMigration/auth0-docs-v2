---
og:description: Describes how to configure OIDC back-channel logout with your Auth0
  services.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configuration de déconnexion du canal d’appui OIDC
og:url: https://auth0.com/docs/
permalink: configure-back-channel-logout
title: Configuration de déconnexion du canal d’appui OIDC
twitter:description: Describes how to configure OIDC back-channel logout with your
  Auth0 services.
twitter:title: Configuration de déconnexion du canal d’appui OIDC
---

## Disponibilité

La déconnexion du canal d’appui OIDC est disponible pour tous les clients du plan Enterprise. Vous devez vérifier le point de terminaison de métadonnées `/.well-known/*` de la norme OIDC pour déterminer si votre application satisfait aux exigences.



## Restrictions de la déconnexion du canal d’appui

Les URL de déconnexion du canal d’appui sont appelées sur des points de terminaison exposés au public et doivent respecter certaines restrictions :

1. Vous devez utiliser les protocoles HTTPS. Les protocoles HTTP non chiffrés ou d’autres protocoles ne sont pas autorisés.
2. Vous ne devez pas utiliser de sous-domaines Auth0. Voici plusieurs sous-domaines Auth0 :

* auth0.com
* auth0app.com
* webtask.io
* webtask.run
3. Nous ne recommandons pas l’utilisation d’adresses IP sans domaine. Les adresses IP doivent être publiques pour utiliser la déconnexion par canal d’appui. Les adresses IP à portée interne, réservée ou de boucle ne sont pas autorisées.

## Configuration d’Auth0

Enregistrez votre application pour recevoir des jetons de déconnexion via Auth0 Dashboard ou Management API.



## Configuration de votre application

Une fois que vous avez configuré la déconnexion par canal d’appui via Auth0 Dashboard ou Management API, configurez votre application pour utiliser le service en fonction de la technologie ou du cadre d'applications.

1. Implémentez l’authentification de l’utilisateur final en fonction de votre type d’application.

1. Les utilisateurs finaux doivent pouvoir se connecter à l’application et une session doit être créée.
2. Un jeton d’ID doit être émis par Auth0 et doit être accessible dans le système dorsal de l’application pour un traitement ultérieur.
2. Étendez le processus de connexion pour sauvegarder le `sid` et, éventuellement, les sous-demandes après la validation du jeton d’ID.

1. Ces demandes doivent être sauvegardées en fonction de la session d’application en cours.
2. Les fonctions de gestion de session doivent être en mesure de récupérer une session spécifique à l’aide de la valeur `sid`.
3. Configurez le point de terminaison de déconnexion du canal d’appui :

1. Le point de terminaison doit traiter uniquement les requêtes `HTTP POST`.
2. Extrayez le paramètre `logout_token` et validez-le en tant que JWT standard conformément à la spécification.
3. Vérifiez que le jeton contient une demande d’événement avec une valeur d’objet JSON et un membre nommé `http://schemas.openid.net/event/backchannel-logout`.
4. Vérifiez que le jeton contient les demandes `sid` et/ou `sub`.
5. Vérifiez que le jeton ne contient PAS la demande `nonce`. Cela est nécessaire pour éviter les abus en distinguant le jeton de déconnexion du jeton d’ID.
6. Une fois le jeton validé, récupérez la session correspondant à la valeur `sid` et/ou `sub` reçue et mettez-y fin. Le processus exact de clôture de la session de l'application dépend des détails de la mise en œuvre. Par exemple, cet événement peut devoir être communiqué au programme frontal.

## Exemple de demande de déconnexion par canal d’appui OIDC

Charge utile codée de jeton :





Charge utile décodée de jeton :



## Réponses attendues

* **HTTP 200** :  ce protocole confirme la déconnexion de l’utilisateur de l’application spécifique.
* **HTTP 400** : indique une demande incorrecte. La demande n’est pas comprise ou la validation du jeton a échoué. Auth0 enregistre le problème dans les journaux du locataire mais ne tente pas d’autres demandes pour cette session.

## Résoudre les problèmes

### L’application n’a pas reçu les événements de déconnexion

Votre application n’a pas reçu de demande de déconnexion après un événement de déconnexion.

1. Assurez-vous que votre application dispose d’une URL de déconnexion par canal d'appui enregistrée dans Auth0 Dashboard.
2. Assurez-vous que l’URL de déconnexion par canal d'appui est accessible depuis le locataire Auth0.
3. Assurez-vous qu’une session valide est établie. L’utilisateur final doit se connecter à votre application spécifique via Auth0.
4. Vérifiez la présence de messages concernant l'échec de la transmission des messages de déconnexion dans les journaux du locataire Auth0.
5. Assurez-vous que la déconnexion est déclenchée par le point de terminaison standard de déconnexion. D’autres événements ne déclenchent pas d’événements de déconnexion.
6. Si possible, vérifiez si des demandes ont été bloquées sur le serveur Web et/ou dans les journaux du pare-feu de l’application.
7. Confirmez que vous utilisez un certificat valide (non auto-signé) dans le point de terminaison de déconnexion du canal d'appui.

#### Je ne trouve pas les journaux de locataire pour la déconnexion du canal d’appui OIDC.

Cette fonctionnalité est progressivement mise à disposition de tous les locataires depuis le 3 octobre 2023. Vous pouvez toujours recevoir des [codes d’événements de journalisation de locataire](/logs/log-event-type-codes)`sslo` pour `oidc_backchannel_logout_succeeded` ou `fslo` pour `oidc_backchannel_logout_failed`.

### L’application client ne peut pas vérifier le jeton de déconnexion reçu

Si la transaction échoue toujours avec une erreur 400 :

1. Vérifiez si le jeton est un JWT standard codé en base64. Certains serveurs web peuvent tronquer les paramètres longs. Pour en savoir plus, consultez [Algorithmes de signature](/applications/signing-algorithms).
2. Si possible, capturez un jeton et vérifiez qu’il s’agit d’un JWT. Utilisez une source vérifiée, comme [JWT.IO](http://jwt.io).
3. Assurez-vous que la fonction de vérification récupère la clé de connexion du locataire dynamiquement via les [JSON Web Key Sets (ensembles de clés JSON Web)](/security/tokens/json-web-tokens/json-web-key-sets) (JWKS).

### Erreurs d’expiration de délai de réponse

Auth0 attendra cinq secondes pour que l’URL de déconnexion par canal d'appui OIDC de l’application réponde. Passé ce délai, un « Échec de requête de déconnexion par canal d’appui OIDC » est enregistré dans les journaux du locataire, avec une description de réponse vide.