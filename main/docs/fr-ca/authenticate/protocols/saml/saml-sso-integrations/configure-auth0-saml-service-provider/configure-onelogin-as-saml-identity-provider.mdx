---
og:description: Learn how to configure OneLogin as a SAML identity provider for use
  with Auth0.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configurer OneLogin en tant que fournisseur d’identité SAML
og:url: https://auth0.com/docs/
permalink: configure-onelogin-as-saml-identity-provider
title: Configurer OneLogin en tant que fournisseur d’identité SAML
twitter:description: Learn how to configure OneLogin as a SAML identity provider for
  use with Auth0.
twitter:title: Configurer OneLogin en tant que fournisseur d’identité SAML
---

Configurer OneLogin as a <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=identity+provider">identity provider</Tooltip> by completing the following steps:

1. Configurer OneLogin SAML integration
2. Configure SAML connection in Auth0.
3. Test connection.

## Conditions préalables

Vous devez avoir un compte développeur OneLogin.

## Configurer OneLogin

1. Log in to the [OneLogin](https://www.onelogin.com/) Dashboard, and click **Apps** > **Add Apps**.
2. Search for **SAML**, and select **SAML Test Connector (IdP w/attr)**.
3. When prompted, change the **Display Name** of your app.
4. Click **SAVE**.
5. Go to the **SSO** tab, and copy the values for **SAML 2.0 Endpoint (HTTP)** and **SLO Endpoint (HTTP)**.
6. Click on the **View Details** link at the **X.509 Certificate** field.
7. Download the X.509 certificate **onelogin.pem**.

## Configurer la connexion Auth0

1. Go to [Dashboard > Authentication > Enterprise > SAMLP](https://manage.auth0.com/#) and click the **plus** icon to be redirected to the page that allows you to create a new Connection.
2. You will be prompted to provide the appropriate configuration settings for this Connection. The only mandatory fields are:

<table class="table"><thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Sign In URL</strong></td>
<td>The SAML 2.0 Endpoint (HTTP) value you noted when setting up your OneLogin app.</td>
</tr>
<tr>
<td><strong>Sign Out URL</strong></td>
<td>The SLO Endpoint (HTTP) value you noted when setting up your OneLogin app.</td>
</tr>
<tr>
<td><strong>X509 Signing Certificate</strong></td>
<td>The certificate you downloaded from Onelogin. You will need to upload the certificate directly to Auth0.</td>
</tr>
</tbody>
</table>
3. Click **Save** to proceed.
4. In the next window, you'll be provided two options.

   1. If you are a domain administrator, you can click **Continue** for additional instructions on SAML Identity Provider Configuration.
   2. If you are not, you can give your domain administrator the provided URL so that they can finish the configuration.

### Valeurs de configuration d’Auth0

Pour terminer la configuration de l’application SAML, l’administrateur aura besoin des informations suivantes concernant Auth0 :

* **SAML Consumer URL**: `https://{yourDomain}/login/callback`
* **SAML <Tooltip tip="Audience: Unique identifier of the audience for an issued token. Named aud in a token, its value contains the ID of either an application (Client ID) for an ID Token or an API (API Identifier) for an Access Token." cta="View Glossary" href="/docs/glossary?term=Audience">Audience</Tooltip>**: `urn:auth0:{yourTenant}:yourConnectionName`

Also copy the values of the **post-back URL** and the **Entity ID** before heading back to the Configuration tab of your [OneLogin](https://www.onelogin.com/) app:

<table class="table"><thead>
<tr>
<th>Auth0 value</th>
<th>OneLogin configuration field</th>
</tr>
</thead>
<tbody>
<tr>
<td>Post-back URL</td>
<td>ACS (Consumer) URL and Recipient</td>
</tr>
<tr>
<td>Entity ID</td>
<td>Audience</td>
</tr>
</tbody>
</table>

Fournissez également une expression régulière valide pour le **Validateur d’URL de l’ACS (Consommateur)**. Par exemple :

`[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)`

## Tester la connexion

Avant de tester votre connexion :

* Assurez-vous que vous disposez d’un utilisateur OneLogin que vous pouvez utiliser pour les essais. Si ce n’est pas le cas, allez dans l’onglet **Utilisateurs** du tableau de bord OneLogin et ajoutez-en un.
* Assurez-vous que votre nouvelle connexion Auth0 SAMLP a été associée à une application (sinon vous obtiendrez une erreur `invalid_request: the connection was disabled`).

A côté de votre connexion **SAML**, cliquez sur le bouton **Essayer**. Si tout se passe bien, vous serez redirigé vers une page vous informant que la connexion fonctionne.

## Authentification unique initiée par IdP

OneLogin offers an Application Portal/Launcher to its users. If you want to take advantage of this functionality, you will have to change the **SAML Consumer URL** in OneLogin dashboard to include the `connection` parameter (e.g., `https://{yourDomain}/login/callback?connection=onelogin-customer`). Be sure to replace `onelogin-customer` with the name of your Auth0 connection.

Finally, be sure to enable IdP-initiated login for the connection and pick the application to which your user is redirected after the SAML assertion is consumed. To learn more, read [Configure Identity-Provider-Initiated Single Sign-On](/docs/authenticate/protocols/saml/saml-sso-integrations/identity-provider-initiated-single-sign-on).

## Modifier les mappages de connexion

If you use OneLogin and Auth0 out of the box, users logging in using OneLogin and created in the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip> will be missing some profile information you might like to have.

Pour collecter des informations supplémentaires sur l’utilisateur, modifiez les paramètres appropriés dans le tableau de bord OneLogin, incluez les paramètres dans l’assertion SAML et créez les mappages dans la connexion Auth0.

### Attributs du profil utilisateur

Parfois, les attributs du profil utilisateur standard ne suffisent pas pour la fonctionnalité que vous souhaitez créer. Dans ce cas, vous pouvez utiliser des attributs personnalisés afin d’améliorer le jeton SAML. Prenons un exemple de base.

Le jeton SAML contient, entre autres, deux attributs : `FirstName` et `LastName`. Ajoutons un nouvel attribut personnalisé, nommé `FullName`, qui contiendra la concaténation du prénom et du nom.

1. Navigate to the OneLogin dashboard and edit your app.
2. On the **Parameters** tab, click **Add Parameter**.
3. In the pop-up, set a name for your new custom attribute using the **Field name** text box. Make sure you check the **Include in SAML assertion** flag. Click **Save**.
4. The new attribute you created is displayed. Click on the **Value** field, which is currently displaying `- No default -`.
5. Click the **Value** dropdown menu and select `- Macro -`.
6. At the text box, set the value to `{firstname} {lastname}`. Click **Save**.
7. Test our changes. Go back to [Auth0 dashboard > Authentication > Enterprise > SAML](https://manage.auth0.com/#/connections/enterprise). On your **SAML** connection, click the **Try** button. The result should include the new attribute `FullName`.

You can find more information on Attribute Macros at the [OneLogin Help Center](https://support.onelogin.com/hc/en-us/articles/201174464-Attribute-macros).

### Ajouter un nouveau paramètre à l’assertion SAML

Pour les besoins de la démonstration, voyons comment nous pouvons ajouter l’information `EmailAddress` à notre connexion, laquelle est plus que la concaténation de deux champs que nous envoyons déjà.

1. Before you can map users' **EmailAddress**, you must add this field as a custom parameter to the OneLogin dashboard. Set **Field name** to `EmailAddress` and **Value** as `Email`.
2. You can find details on the steps needed to customize the user profile in the section above.
3. Once you've made your changes, save them, and test your connection once again.
4. Review your Auth0 user, making sure that the `EmailAddress` information is now included and that the value is correct.

Vous êtes maintenant prêt à procéder au mappage des champs d’information de l’utilisateur dans Auth0.

1. Go to the **Settings** of your [SAML](https://manage.auth0.com/#/connections/enterprise) and navigate to the tab **Mappings**. For the email addresses, copy the mapping below, and paste it into the text box.
2. Save your changes, and try your connection again. Once you have successfully logged in, go to [Dashboard > User Management > Users](https://manage.auth0.com/#/users), and check your login. You will see additional information for the appropriate user.