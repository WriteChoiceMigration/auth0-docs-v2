---
og:description: Describes how to configure Auth0 to serve as a service provider in
  a SAML federation.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configurer Auth0 en tant que fournisseur de services SAML
og:url: https://auth0.com/docs/
permalink: configure-auth0-saml-service-provider
sidebarTitle: Configurer Auth0 en tant que fournisseur de services SAML
title: Configurer Auth0 en tant que fournisseur de services SAML
twitter:description: Describes how to configure Auth0 to serve as a service provider
  in a SAML federation.
twitter:title: Configurer Auth0 en tant que fournisseur de services SAML
---

Pour configurer Auth0 en tant que fournisseur de services (SP) dans une fédération SAML, vous devez créer une connexion Entreprise dans Auth0, puis mettre à jour votre fournisseur d’identité SAML (IdP) avec les métadonnées de la connexion.

Auth0 prend en charge l’utilisation d’Auth0 en tant que SP dans les configurations conformes au protocole SAML 1.1 ou SAML 2.0.

## Obtenir les métadonnées et le certificat du fournisseur d’identité

Vous devrez recueillir certaines métadonnées de configuration auprès du fournisseur d’identité pour créer une connexion dans Auth0 :



## Créer une connexion SAML Entreprise dans Auth0

Vous pouvez créer une connexion SAML Entreprise dans le Auth0 Dashboard ou avec l’Auth0 Management API.



### Configurer la connexion SAML pour les passerelles proxy

Si Auth0 se trouve derrière une passerelle proxy, vous devrez configurer les champs `destinationUrl` et `recipientUrl` de la connexion SAML en conséquence.

1. Obtenez la configuration actuelle de votre connexion SAML avec le point de terminaison [Obtenir une connexion](https://auth0.com/docs/api/management/v2/connections/get-connections-by-id) de Management API.
2. Copiez la valeur de l’objet `options` de la réponse renvoyée.
3. Ajoutez les champs suivants à l’objet `options` :
4. Appelez le point de terminaison [Mettre à jour une connexion](https://auth0.com/docs/api/management/v2/connections/patch-connections-by-id) de Management API avec l’objet `options` en entier mis à jour dans le corps de la demande.

### Personnaliser le modèle de demande

Lorsque Auth0 envoie la demande d’authentification à l’IdP, le corps de la demande contient un objet `AuthnRequest`. Vous pouvez personnaliser le modèle utilisé pour cet objet :

1. Accédez à [Dashboard > Authentication (Authentification) > Enterprise (Entreprise) > SAML](%24%7Bmanage_url%7D/#/connections/enterprise/samlp), et sélectionnez votre connexion.
2. Passez à la vue **Settings (Paramètres)** et localisez le champ **Request Template (Modèle de demande)**.
3. Modifiez le modèle.
4. Sélectionnez **Sauvegarder les changements**.

#### Variables de modèle

Vous pouvez placer des variables dans le modèle `AuthnRequest` en utilisant la syntaxe `@@VariableName@@`. Les variables suivantes sont disponibles :



## Configuration de l’IdP

Rendez-vous à [Paramètres de configuration du fournisseur d’identités SAML](/saml-configuration/saml-identity-provider-configuration-settings) pour trouver les métadonnées que vous devrez fournir à l’IdP.

Auth0 prend en charge tous les IdP SAML conformes au protocole SAML 1.1 ou SAML 2.0. Vous trouverez des instructions détaillées pour configurer des fournisseurs spécifiques :

* [ADFS](/saml-configuration/configure-auth0-saml-service-provider/configure-adfs-saml-connections)
* [Okta](/saml-configuration/configure-auth0-saml-service-provider/configure-okta-as-saml-identity-provider)
* [OneLogin](/saml-configuration/configure-auth0-saml-service-provider/configure-onelogin-as-saml-identity-provider)
* [Ping](/saml-configuration/configure-auth0-saml-service-provider/configure-pingfederate-as-saml-identity-provider)
* [Salesforce](/saml-configuration/configure-auth0-saml-service-provider/configure-salesforce-as-saml-identity-provider)
* [SiteMinder](/saml-configuration/configure-auth0-saml-service-provider/configure-siteminder-as-saml-identity-provider)
* [SSOCircle](/saml-configuration/configure-auth0-saml-service-provider/configure-ssocircle-as-saml-identity-provider)

## Tester la connexion

Pour tester votre connexion dans le Dashboard :

1. Accédez à [Dashboard > Authentication (Authentification) > Enterprise (Entreprise) > SAML](https://manage.auth0.com/#/connections/enterprise/samlp).
2. Localisez la connexion que vous avez créée, sélectionnez l’icône de menu **…** (trois points) et sélectionnez **Try (Essayer)**.
3. Une page de connexion universelle s’affiche et vous invite à saisir vos informations d’identification.
4. Saisissez l’adresse courriel d’un utilisateur qui existe dans l’IdP. Si vous avez configuré la [Home Realm Discovery (Découverte du domaine d’accueil)](https://auth0.com/docs/authenticate/login/auth0-universal-login/identifier-first#define-home-realm-discovery-identity-providers), assurez-vous de saisir une adresse courriel qui utilise l’un des domaines spécifiés.
5. Après avoir été redirigé vers l’écran de connexion de l’IdP, connectez-vous comme vous le feriez normalement.
6. Vous serez redirigé vers une page sur Auth0 qui affiche le contenu de l’assertion d’authentification envoyée à Auth0 par l’IdP.

## Dépannage de la connexion

Si votre connexion ne fonctionne pas comme prévu, essayez les étapes suivantes :

* Effacez l’historique de votre navigateur, les témoins et la mémoire cache avant chaque test. Si vous ne le faites pas, le navigateur peut ne pas récupérer les dernières informations de configuration, ou il peut y avoir des témoins périmés qui affectent l’exécution.
* Assurez-vous que votre navigateur autorise les témoins et que le JavaScript est activé.
* [Capturez un fichier HAR](https://auth0.com/docs/troubleshoot/troubleshooting-tools/generate-and-analyze-har-files) de la transaction, puis utilisez l’[outil SAML Auth0](http://samltool.io/) pour décoder l’assertion SAML et en inspecter le contenu.