---
og:description: Describes how to configure SAML Identity Provider-initiated Single
  Sign-on (SSO).
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configurer l’authentification unique initiée par le fournisseur d’identité
  SAML
og:url: https://auth0.com/docs/
permalink: identity-provider-initiated-single-sign-on
title: Configurer l’authentification unique initiée par le fournisseur d’identité
  SAML
twitter:description: Describes how to configure SAML Identity Provider-initiated Single
  Sign-on (SSO).
twitter:title: Configurer l’authentification unique initiée par le fournisseur d’identité
  SAML
---

Many instructions for setting up a <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> federation begin with <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=Single+Sign-on">Single Sign-on</Tooltip> (SSO) initiated by the service provider. The service provider redirects the user to the <Tooltip tip="Single Sign-On (SSO): Service that, after a user logs into one applicaton, automatically logs that user in to other applications." cta="View Glossary" href="/docs/glossary?term=identity+provider">identity provider</Tooltip> (IdP) for the purposes of authentication. This process is commonly used for consumer-facing scenarios.

Cependant, dans les scénarios d’entreprise, il est parfois courant de commencer par l’IdP qui initie le SSO au lieu du fournisseur de services. Par exemple, une entreprise peut mettre en place un portail pour s’assurer que les utilisateurs accèdent à l’application voulue une fois connectés au portail.

## Risques et considérations

Les flux initiés par IdP présentent un risque de sécurité et ne sont donc pas recommandés. Nous vous recommandons d’utiliser, dans la mesure du possible, des flux initiés par le fournisseur de services.

Make sure you understand the risks before enabling IdP-Initiated SSO. In this scenario, Auth0 receives the unsolicited response from the IdP and the application receives the unsolicited response from Auth0. Neither entity can verify that the user started the flow. Because of this, enabling this flow opens the possibility of an [Login CSRF attack](https://support.detectify.com/support/solutions/articles/48001048951-login-csrf), where an attacker can trick a legitimate user into unknowingly logging into the application with the identity of the attacker.

### Flux initié par le fournisseur d’identité OpenID Connect

<Tooltip tip="OpenID: Open standard for authentication that allows applications to verify users' identities without collecting and storing login information." cta="View Glossary" href="/docs/glossary?term=OpenID">OpenID</Tooltip> Connect (OIDC) does not support the concept of an IdP-Initiated flow. So while Auth0 offers the possibility of translating a SAML IdP-Initiated flow (from a SAML connection) into an OIDC response for an application, any application that properly implements the OIDC/OAuth2 protocol will reject an unrequested response.

Lorsque vous utilisez des applications OIDC, la meilleure solution consiste à demander à votre application de créer un point de terminaison de connexion. Le seul objectif de ce point de terminaison est d’initier la redirection vers le fournisseur d’identité (votre locataire Auth0).

Si vous utilisez plusieurs fournisseurs d’identité, assurez-vous que le point de terminaison de connexion est spécifique au fournisseur d’identité ou qu’il peut accepter un paramètre permettant d’identifier le fournisseur d’identité qui initie le flux de travail.

Une autre approche consiste à demander aux utilisateurs de démarrer le flux de connexion au niveau de l’application.

### URL de publication

Lorsque vous utilisez le SSO initié par le fournisseur d’identité, assurez-vous d’inclure le paramètre de connexion dans l’URL de post-back :

```http wrap lines
https://{yourDomain}/login/callback?connection={yourConnectionName}
```






If you are using the [Organizations](/docs/manage-users/organizations) feature, you can optionally include an organization parameter containing the organization ID of the desired organization:

```http wrap lines
https://{yourDomain}/login/callback?connection={yourConnectionName}&organization={yourCustomersOrganizationId}
```






<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

In order for users to successfully log-in using this method, the connection must be enabled for the Organization. Additionally, you must either configure [auto-membership](/docs/manage-users/organizations/configure-organizations/grant-just-in-time-membership) for the enabled connection or ensure users have membership for the Organization.

</Callout>

### Lock/Auth0.js

Si votre application est de type monopage et utilise Lock ou Auth0.js pour traiter les résultats de l’authentification, vous devez indiquer explicitement que vous souhaitez autoriser les flux initiés par le fournisseur d’identité, ce qui expose l’application à d’éventuelles attaques CSRF par connexion.

If you are using Auth0.js, you must update the `webAuth.parseHash` of the library and set the flag `__enableIdPInitiatedLogin` to `true`.

```javascript lines
var data = webAuth.parseHash(
      {
        ...
        __enableIdPInitiatedLogin: true
        ...
      }
```

Si vous utilisez Lock, vous pouvez inclure l’indicateur en utilisant le paramètre options envoyé au constructeur.

`const lock = new Auth0Lock(clientID, domain, options)`

L’indicateur est le suivant :

`var options = { _enableIdPInitiatedLogin: true };`

Notez que l’indicateur `enableIdPInitiatedLogin` est précédé d’un trait de soulignement lorsqu’il est utilisé avec Lock et de deux traits de soulignement lorsqu’il est utilisé avec la bibliothèque auth0.js.

## Mettre en place une authentification unique (SSO) initiée par un fournisseur d’identité (IdP)

1. Go to the [Dashboard > Authentication > Enterprise](https://manage.auth0.com/#/connections/enterprise) and choose **SAMLP Identity Provider**.
2. Under **Settings** you can see the configuration for IdP-Initiated SSO.

   <Frame>![Protocols IdP-initiated SSO Configuration Screen](/images/cdy7uua7fh8z/1HORCAp4fZQg0BOoIopvoS/0009d4b5f405c2436af5729d52a3867d/2025-01-28_13-47-26.png)</Frame>

* **Comportement d’authentification unique initié par un fournisseur d’identité** : cette option vous permet d’activer les connexions initiées par un fournisseur d’identité pour la connexion SAML. Sélectionnez **Accept Requests (Accepter les demandes)** et remplissez tous les champs requis.
* **Application par défaut :** lorsque la connexion initiée par IdP réussit, les utilisateurs sont acheminés vers cette application. Ce paramètre affiche les applications disponibles activées pour cette connexion. Sélectionnez dans le menu déroulant l’application pour laquelle vous souhaitez que les utilisateurs se connectent à l’aide du fournisseur d’identité. Une seule application peut être sélectionnée pour une connexion initiée par un fournisseur d’identité par connexion SAML.
* **Protocole de réponse :** il s’agit du protocole utilisé pour connecter **l’application par défaut** sélectionnée. Le plus souvent, la configuration des applications se fait avec le protocole OpenID Connect (voir ci-dessus). Cependant, si vous avez configuré un module complémentaire SAML2 Web App pour votre application et que vous souhaitez acheminer l’assertion SAML, vous devez sélectionner SAML. Une fois qu’une assertion SAML valide a été transmise à l’URL de publication, Auth0 envoie une réponse de connexion à la première URL de rappel autorisée de l’application par défaut configurée au moyen du protocole de réponse choisi, qui peut être modifié à l’aide du champ Chaîne de requête pour indiquer un `redirect_uri` si vous utilisez OIDC.
* **Query String:** Query string options help to customize the behavior when the OpenID Connect protocol is used. You can set multiple options similar to setting parameters with a [query string](https://en.wikipedia.org/wiki/Query_string). You can set:

<table class="table"><thead>
<tr>
<th>Setting</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>redirect_uri</code></td>
<td>When the IdP-initiated login has completed the request is then redirected to the first URL listed in the <strong>Allowed Callback URLs</strong> for the application. However, if you set a <code>redirect_uri</code>, the IdP will redirect to this URL. This adds flexibility for cases such as when you have a set subdomain scheme with a wildcard and you only want to redirect to one specific subdomain.</td>
</tr>
<tr>
<td><code>scope</code></td>
<td>Define scopes for the ID token sent. You can set multiple scopes.</td>
</tr>
<tr>
<td><code>response_type</code></td>
<td>Set the token for the Implicit Grant Flow for SPAs. You can set code for the Authorization Code Grant Flow for regular web apps.</td>
</tr>
</tbody>
</table>

  <Warning>

  In an IdP initiated flow, Auth0 servers strip scopes inside a token if the callback URL is an unverified domain. Auth0 defines only `localhost` and [127.0.0.1](http://127.0.0.1/) as unverified domains. If you use either as your callback URL, tokens from the `/userinfo` endpoint will return an empty response. To get a token response with requested scopes, use a verified domain.

  </Warning>

  Exemple de chaîne de requête :
  `redirect_uri=https://jwt.io&scope=openid email&response_type=token`

## Liste déroulante des applications limitée à 100

If you want to select an application as the **Default Application** in IdP-initiated SSO, and the application isn't in the first 100 applications listed in the drop-down list for your tenant, you must use the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> to select that application. You must run a patch:

```json lines
{
"options": {
"signInEndpoint": "yourIdpSignInUrl",
"idpinitiated": {
"client_id": "yourClientId",
"client_protocol": "saml",
"client_authorizequery": ""
},
"signingCert": "[copied-from-GET]"
}
}
```


## Learn more

* [Work with Certificates and Keys as Strings](/docs/authenticate/protocols/saml/saml-sso-integrations/work-with-certificates-and-keys-as-strings)