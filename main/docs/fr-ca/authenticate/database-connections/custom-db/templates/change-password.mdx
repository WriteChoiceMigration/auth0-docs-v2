---
og:description: Describes custom database action script templates for changing a user's
  password.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Modifier les modèles de script de mot de passe
og:url: https://auth0.com/docs/
permalink: change-password
title: Modifier les modèles de script de mot de passe
twitter:description: Describes custom database action script templates for changing
  a user's password.
twitter:title: Modifier les modèles de script de mot de passe
---

Le script de modification du mot de passe met en œuvre la fonction définie pour modifier le mot de passe de l’utilisateur indiqué dans la base de données externe. Nous recommandons de nommer cette fonction `changePassword`.

Le script n’est utilisé que dans un [scénario d’authentification héritée](/overview-custom-db-connections) et est nécessaire si vous souhaitez modifier le mot de passe d’un utilisateur dans la base de données externe. Il s’exécutera lorsqu’un utilisateur effectue un [flux de production de réinitialisation de mot de passe](/brand-and-customize/customize-password-reset-page), ou lorsqu’un flux de production de modification de mot de passe est lancé depuis Auth0 Dashboard ou Auth0 Management API.

## Fonctionnalité ChangePassword

La fonctionnalité `changePassword` doit :

* Mettre à jour le mot de passe de l’utilisateur dans la base de données externe.
* Renvoyer `true` (ou un objet contenant la propriété `last_password_reset`) si l’opération de changement de mot de passe a réussi. Si la propriété `last_password_reset` est présente dans l’objet, elle sera mise à jour sur le profil de l’utilisateur.
* Renvoyer `false` si l’opération de changement de mot de passe a échoué.
* Renvoyer une erreur si la base de données externe n’a pas pu être atteinte.

### Définition

La fonction `changePassword` accepte trois paramètres et renvoie une fonction `callback` :





### Exemple

Voici un exemple fictif en JavaScript de la manière dont vous pourriez implémenter la fonction  `changePassword`. Pour voir des exemples propres à une langue, consulter [Exemples de scripts propres à une langue](#language-specific-script-examples).



### Chiffrement



Pour éviter toute fuite potentielle de données, cryptez la valeur du mot de passe à l’aide d’une bibliothèque de cryptage de hachage telle que `bcrypt`.

#### Exemple



## Fonction de rappel

La fonction de `callback` accepte deux paramètres et est utilisée pour transmettre des données d’erreur ou indiquer le résultat de l’opération.

### Définition





### Retourne un succès

Si l’opération de modification de courriel est réussie, renvoyez la fonction de `callback`, et passez une valeur `null` comme paramètre `error` et une valeur `true` comme paramètre `operationResult`.

#### Exemple



### Renvoie une notification de réussite et met à jour l’attribut last_password_reset.

Si l’opération de modification de courriel est réussie, renvoyez la fonction de `callback`, et passez une valeur `null` comme paramètre `error` et une valeur d’objet `profil` comme paramètre. Si l’attribut `last_password_reset` est fourni dans l’objet, il sera mis à jour dans le profil de l’utilisateur.

#### Exemple



### Renvoyer un échec

Si l’opération de modification du courriel a échoué, renvoyez la fonction de `callback`, et passez une valeur `null` comme paramètre `error` et une valeur `false` comme paramètre `operationResult`.

#### Exemple



### Renvoyer une erreur

Si une erreur survient, renvoyez la fonction de `callback`, et passer l’information pertinente concernant l’erreur comme paramètre `error`.

#### Exemple



## Exemples de scripts propres à une langue

Auth0 fournit des exemples de scripts à utiliser avec les langages/technologies ci-dessous :

* [JavaScript](#javascript)
* [Fournisseur d’appartenances ASP.NET (MVC3 – Fournisseurs universels)](#asp-net-membership-provider-mvc3-universal-providers-)
* [Fournisseur d’appartenances ASP.NET (MVC4 – Appartenance simple)](#asp-net-membership-provider-mvc4-simple-membership-)
* [MongoDB](#mongodb)
* [MySQL](#mysql)
* [PostgreSQL](#postgresql)
* [Serveur SQL](#sql-server)
* [Base de données SQL Windows Azure](#windows-azure-sql-database)



### JavaScript



### Fournisseur d’appartenances ASP.NET (MVC3 – Fournisseurs universels)



### Fournisseur d’appartenances ASP.NET (MVC4 – Appartenance simple)



### MongoDB



### MySQL



### PostgreSQL



### Serveur SQL



### Base de données Azure SQL Windows