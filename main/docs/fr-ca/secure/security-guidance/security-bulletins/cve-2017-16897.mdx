---
og:description: 'CVE-2017-16897: Security Update for passport-wsfed-saml2 Passport
  strategy library'
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 'CVE-2017-16897: Mise à jour de la sécurité pour la bibliothèque Passport
  Strategy passport-wsfed-saml2'
og:url: https://auth0.com/docs/
permalink: cve-2017-16897
title: 'CVE-2017-16897: Mise à jour de la sécurité pour la bibliothèque Passport Strategy
  passport-wsfed-saml2'
twitter:description: 'CVE-2017-16897: Security Update for passport-wsfed-saml2 Passport
  strategy library'
twitter:title: 'CVE-2017-16897: Mise à jour de la sécurité pour la bibliothèque Passport
  Strategy passport-wsfed-saml2'
---

**Date de publication**: 22 décembre 2017

**Numéro CVE**: CVE-2017-16897

**Crédit**: Alan Bishop

## Présentation

A vulnerability has been discovered in the [passport-wsfed-saml2 library](https://github.com/auth0/passport-wsfed-saml2) affecting versions < `3.0.5`. **passport-wsfed-saml2** is a WS-Federation protocol and SAML2 tokens authentication provider for [Passport.js](http://passportjs.org/).

This vulnerability allows an attacker to impersonate another user and potentially elevate their privileges if the <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=SAML">SAML</Tooltip> <Tooltip tip="Security Assertion Markup Language (SAML): Standardized protocol allowing two parties to exchange authentication information without a password." cta="View Glossary" href="/docs/glossary?term=identity+provider">identity provider</Tooltip> does not sign the full SAML response, but instead only signs the assertion within the response.

Une personne malveillante qui exploiterait avec succès cette vulnérabilité pourrait utiliser cette réponse pour créer un **NameIdentifier** différent dans le but de se connecter en tant qu’un autre utilisateur. Cette personne malveillante pourrait d’autre part lancer une attaque d’escalade de privilèges si elle s’authentifie en tant qu’utilisateur précis avec privilèges administratifs. Elle doit disposer d’un compte existant, ou être capable d’intercepter le trafic chiffré et de modifier la réponse SAML à la volée.

Cette mise à jour est destinée à éliminer cette vulnérabilité en évitant les attaques enveloppantes des éléments **Assertion** et **Response**, et en fournissant des modifications de protection dans les expressions XPath. Une mise à jour a d’autre part été implémentée pour améliorer la méthode de journalisation des informations concernant la signature de la réponse SAML.

La correction de cette vulnérabilité nécessite une mise à jour de la bibliothèque.

## Cela me concerne-t-il?

Cette vulnérabilité concerne les locataires du nuage utilisant la **Connexion de fournisseur d’identité SAMLP** par laquelle le fournisseur d’identité a :

* signé la réponse SAML et l’assertion, ou
* pas signé la réponse SAML, ni l’assertion.

Aucune action n’est requise pour les locataires du nuage Auth0.

The vulnerability scope also extended to those using the [passport-wsfed-saml2 strategy with passport.js](https://github.com/auth0/passport-wsfed-saml2), which requires a library upgrade (see the next section).

## Comment résoudre ce problème?

Les développeurs utilisant la bibliothèque **passport-wsfed-saml2** doivent effectuer une mise à niveau vers la dernière version : `3.0.5`.

Des packages mis à jour sont proposés sur npm. Pour assurer la livraison de corrections de bogues supplémentaires, veuillez vous assurer que votre fichier `package.json` est mis à jour pour recevoir les correctifs et les mises à jour mineures de nos bibliothèques.

```json lines
{
  "dependencies": {
    "passport-wsfed-saml2": "^3.0.5"
  }
}
```






### Cette mise à jour aura-t-elle des répercussions sur mes utilisateurs?

Non. Ce correctif corrige la bibliothèque que votre application exécute, mais n’aura pas d’impact sur vos utilisateurs, leur état actuel ou les sessions existantes.