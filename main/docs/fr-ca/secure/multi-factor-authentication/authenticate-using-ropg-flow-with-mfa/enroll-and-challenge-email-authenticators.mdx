---
og:description: Describes how to build your own MFA flows using SMS or voice as an
  authentication factor.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Inscription et authentifiants par défi-réponse avec courriel
og:url: https://auth0.com/docs/
permalink: enroll-and-challenge-email-authenticators
title: Inscription et authentifiants par défi-réponse avec courriel
twitter:description: Describes how to build your own MFA flows using SMS or voice
  as an authentication factor.
twitter:title: Inscription et authentifiants par défi-réponse avec courriel
---



Lorsque le courriel est activé comme facteur d’authentification, tous les utilisateurs disposant de courriels vérifiés peuvent les utiliser pour compléter le MFA.





* [Configurer le courriel](/mfa/mfa-factors/configure-email-notifications-for-mfa) comme facteur d’authentification dans le Dashboard ou à l’aide de la [Management API](https://auth0.com/docs/api/management/v2#!/Guardian/put_factors_by_name).

## Inscription avec courriel

Pour permettre aux utilisateurs d’inscrire des courriels en plus de leur courriel vérifié comme identité principale, vous devez suivre les étapes suivantes. 

### Inscrire des facteurs d’authentification



Utilisez les paramètres suivants :





Si l’étape réussie, vous recevez une réponse comme celle-ci :



Si vous recevez une erreur `User is already enrolled (Utilisateur déjà inscrit)`, l’utilisateur a déjà un facteur MFA inscrit. Avant d’associer un autre facteur à l’utilisateur, vous devez lancer un défi-réponse à l’utilisateur avec le facteur existant.



### Confirmer l’inscription par courriel

L’utilisateur recevra un courriel contenant le code à six chiffres qu’il devra saisir dans l’application.

Pour compléter l’inscription, réalisez une requête `POST` au [**`/oath/jeton`**](https://auth0.com/docs/api/authentication#get-token) du point de terminaison. Incluez le `oob_code` retourné dans la réponse précédente et le `binding_code` avec la valeur inscrite dans le courriel.



Si l’appel ne réussi pas, vous recevrez une réponse dans le format suivant, contenant le jeton d’accès :



À ce stade, l’authentificateur est entièrement associé et prêt à être utilisé, et vous disposez des jetons d’authentification pour l’utilisateur.

À tout moment, vous pouvez vérifier si un authentificateur a été confirmé en appelant le point de terminaison des facteurs d’authentification MFA. Si l’authentification est confirmée, la valeur passe de `active` à `réelle`.

Vous pouvez éventuellement personnaliser les courriels que les utilisateurs reçoivent. Consultez [Personnalisation des modèles de courriel](/brand-and-customize/email/customize-email-templates) pour en savoir davantage.

## Défi-réponse avec courriel

### Obtenir un jeton MFA

Obtenez un jeton MFA en suivant les étapes décrites dans [Authentification avec le propriétaire de la ressource Autorisation par mot de passe et MFA](/mfa/ropg-mfa).

### Récupérer les facteurs d’authentification enregistrés

Pour effectuer le défi-réponse avec l’utilisateur, vous aurez besoin de l’`authenticator_id` pour le facteur que vous désirez utiliser. Vous pouvez énumérer toutes les authentifications à l’aide du point de terminaison des facteurs d’authentification MFA :



### Défi-réponse avec mot de passe à usage unique

Pour déclencher un défi-réponse avec courriel, `POST` au point de terminaison du défi-réponse MFA à l’aide de l’`authenticator_id` correspondante et du `mfa_token`.



### Compléter l’authentification à l’aide du code reçu

Si l’opération réussie, vous recevrez la réponse suivante :



Votre application devrait inviter l’utilisateur à saisir un code et l’envoyer dans le cadre de la requête dans le paramètre `binding_code` dans l’appel suivant au point de terminaison du `oauth/token` :



Si l’appel réussi, vous recevrez une réponse dans le format ci-dessous, contenant le jeton d’accès :