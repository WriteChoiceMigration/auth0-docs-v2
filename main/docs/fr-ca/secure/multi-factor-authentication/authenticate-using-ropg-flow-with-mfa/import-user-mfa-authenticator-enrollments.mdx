---
og:description: Describes how to import MFA enrollments for your existing users.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Importer les inscriptions des utilisateurs à l’authentifiant MFA
og:url: https://auth0.com/docs/
permalink: import-user-mfa-authenticator-enrollments
title: Importer les inscriptions des utilisateurs à l’authentifiant MFA
twitter:description: Describes how to import MFA enrollments for your existing users.
twitter:title: Importer les inscriptions des utilisateurs à l’authentifiant MFA
---

Vous pouvez importer les inscriptions à la MFA d’un utilisateur avec une [migration automatique](/users/import-and-export-users/configure-automatic-migration-from-your-database) et des [importations d’utilisateurs en masse](/users/import-and-export-users/bulk-user-imports). Les types d’inscription pris en charge sont :

* Courriel : pour la vérification par courriel.
* Téléphone : pour la vérification par SMS
* OTP : pour les mots de passe à usage unique (OTP) utilisés avec des applications d’authentification, telles que Google Authenticator.

L’importation des inscriptions à la MFA offre une expérience utilisateur fluide, car les utilisateurs n’auront pas à se réinscrire après la migration.

L’expérience de connexion classique ne prend pas en charge la sélection de facteurs pour les utilisateurs ayant plusieurs facteurs. Si vous prévoyez d’importer des utilisateurs avec plusieurs facteurs enregistrés, envisagez d’utiliser l’expérience de [connexion universelle](/login/universal-login) .

## Schéma

Le schéma s’applique aux facteurs MFA pour les deux flux de production suivants.



## Migration automatique

Les inscriptions à la MFA peuvent aussi être importées lors d’une [migration automatique](/connections/database/custom-db/overview-custom-db-connections#automatic-migration-scenario). Vous pouvez le faire en indiquant toutes les inscriptions existantes dans le champ `mfa_factors` de l’utilisateur fourni au rappel à la fin de votre [script de connexion](/login)à la base de données personnalisé.

Tous les échecs figureront dans vos journaux de locataire en tant qu’échecs de connexion et se distingueront des autres échecs par leur description : `Impossible d’importer les facteurs MFA.`. Par exemple :



## Importation d’utilisateurs en masse

1. Préparez un fichier `users.json` . Consultez les [importations d’utilisateurs en masse](/users/import-and-export-users/bulk-user-imports) pour obtenir plus de détails.
2. Incluez les inscriptions à la MFA existantes pour chaque utilisateur.
3. Commencez une importation d’utilisateurs en masse.
4. Mettez à jour les facteurs de tout utilisateur existant en activant l’option `upsert` dans votre demande initiale.
5. Une fois l’importation terminée, vérifiez que la réponse ne contient pas d’erreurs. Si l’importation de l’un des facteurs MFA des utilisateurs a échoué, vous verrez des erreurs telles que :

Lorsque vous utilisez l’option `upsert` ,toutes les mises à jour non liées à la MFA des utilisateurs existants auront été appliquées au profil de l’utilisateur. Par exemple, le résumé des erreurs suivant montre que l’attribut `picture` de l’utilisateur a été correctement défini sur `http://example.org/jdoe.png`, cependant nous n’avons pas pu importer les facteurs MFA fournis. Dans des cas comme celui-ci, il est possible de réessayer l’importation pour les utilisateurs qui n’ont pas été importés.



## Code de récupération

Auth0 ne propose pas de moyen d’importer des codes de récupération. Lorsque les facteurs MFA de l’utilisateur sont importés, aucun code de récupération n’est attribué à l’utilisateur.

Pour fournir un code de récupération aux utilisateurs, vous pouvez vérifier s’ils en ont un enregistré et, si ce n’est pas le cas, utilisez le [point de terminaison de régénération de code de récupération](/api/management/v2#!/Users/post_recovery_code_regeneration) pour en générer un nouveau.