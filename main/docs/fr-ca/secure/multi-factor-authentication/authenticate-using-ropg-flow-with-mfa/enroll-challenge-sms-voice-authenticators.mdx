---
og:description: Describes how to build your own MFA flows using SMS and/or voice as
  an authentication factor.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Facteurs d’authentification SMS et vocaux pour l’inscription et les défis
  de connexion
og:url: https://auth0.com/docs/
permalink: enroll-challenge-sms-voice-authenticators
title: Facteurs d’authentification SMS et vocaux pour l’inscription et les défis de
  connexion
twitter:description: Describes how to build your own MFA flows using SMS and/or voice
  as an authentication factor.
twitter:title: Facteurs d’authentification SMS et vocaux pour l’inscription et les
  défis de connexion
---





* [Configurez le téléphone comme facteur d’authentification](/mfa/mfa-factors/configure-sms-voice-notifications-mfa) dans Dashboard ou à l’aide de la  [Management API](/api/management/v2#!/Guardian/put_factors_by_name).

## Inscription par SMS ou par la voix



### Inscrire des facteurs d’authentification



Pour s’inscrire par SMS ou par la voix, ils s’inscrivent avec un numéro de téléphone, soit par SMS, soit par la voix. Spécifiez les paramètres ci-dessous pour appeler le point de terminaison. Le paramètre `oob_channels` indique comment vous souhaitez envoyer le code à l’utilisateur (SMS ou voix).





Si l’étape réussie, vous recevez une réponse comme celle-ci :



Si vous recevez une erreur `User is already enrolled (Utilisateur déjà inscrit)`, l’utilisateur a déjà un facteur MFA inscrit. Avant d’associer un autre facteur à l’utilisateur, vous devez lancer un défi-réponse à l’utilisateur avec le facteur existant.



### Confirmez l’inscription par SMS ou par voix

Les utilisateurs recevront un courriel contenant un code à six chiffres qu’il devront saisir dans l’application.

Pour compléter l’inscription, réalisez une requête `POST` au point de terminaison OAuth Token. Vous devez inclure le `oob_code` retourné dans la réponse précédente et le `binding_code` avec la valeur reçue dans le message.



Si l’appel ne réussi pas, vous recevrez une réponse dans le format suivant, contenant le jeton d’accès :



## Défi-réponse par SMS ou par la voix

### Obtenir un jeton MFA

Obtenez un jeton MFA en suivant les étapes décrites dans [Autorisation par mot de passe et MFA dans l’authentification avec le propriétaire de la ressource ](/mfa/ropg-mfa).

### Récupérer les facteurs d’authentification enregistrés

Pour effectuer le défi-réponse avec l’utilisateur, vous aurez besoin de l’`authenticator_id` pour le facteur que vous désirez utiliser. Vous pouvez énumérer toutes les authentifications à l’aide du point de terminaison des facteurs d’authentification MFA :



Vous obtiendrez une liste de facteurs d’authentification avec le format suivant :



### Défi-réponse avec mot de passe à usage unique

Pour déclencher un défi-réponse `POST` au point de terminaison du défi-réponse de MFA à l’aide de l’`authenticator_id` correspondante et du `mfa_token`.



### Compléter l’authentification à l’aide du code reçu

Si l’opération réussit, vous recevrez la réponse suivante :



Votre application doit demander à l’utilisateur le code à 6 chiffres envoyé dans le message et doit être défini dans le paramètre `binding_code`. Vous pouvez vérifier le code et obtenir des jetons d’authentification à l’aide du point de terminaison du jeton OAuth0, en spécifiant le `binding_code` et le `oob_code` renvoyés par l’appel précédent :



Si l’appel ne réussit pas, vous recevrez une réponse dans le format ci-dessous, contenant le jeton d’accès :



**Remarque : **Les retours de SMS et de codes invalides sont soumis à une limitation anti-attaques. Les codes SMS peuvent être envoyés 10 fois et rechargés une fois par heure, tandis que les codes non valides peuvent être renvoyés 10 fois et rechargés une fois toutes les six minutes.