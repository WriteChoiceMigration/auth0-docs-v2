---
og:description: Describes how to build your own MFA flows using push as an authentication
  factor.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Inscrire et lancer un défi-réponse pour les authentifiants Push
og:url: https://auth0.com/docs/
permalink: enroll-and-challenge-push-authenticators
title: Inscrire et lancer un défi-réponse pour les authentifiants Push
twitter:description: Describes how to build your own MFA flows using push as an authentication
  factor.
twitter:title: Inscrire et lancer un défi-réponse pour les authentifiants Push
---



Vous pouvez inscrire et lancer un défi-réponse pour les utilisateurs avec des notifications poussées, avec l’application ou la trousse SDK Guardian en utilisant MFA API.



* [Configurez Push](/mfa/mfa-factors/configure-push-notifications-for-mfa) comme facteur d’authentification dans Dashboard ou à l’aide de [Management API](https://auth0.com/docs/api/management/v2#!/Guardian/put_factors_by_name).

## Inscrire avec Push

### Inscrire des facteurs d’authentification



Pour inscrire avec Push, définissez le paramètre `authenticator_types` sur `[oob]` et le paramètre `oob_channels` sur `[auth0]`.



Si l’étape réussie, vous recevez une réponse comme celle-ci :



Si vous recevez une erreur `User is already enrolled (Utilisateur déjà inscrit)`, l’utilisateur a déjà un facteur MFA inscrit. Avant d’associer un autre facteur à l’utilisateur, vous devez lancer un défi-réponse à l’utilisateur avec le facteur existant.



### Confirmer l’inscription avec Push

Pour confirmer l’inscription, l’utilisateur final devra balayer un code QR avec le `barcode_uri` dans l’application Guardian dans les 5 minutes qui suivent.

Ensuite, l’application Guardian application informera Auth0 que l’utilisateur a bien été inscrit. Pour savoir si cela s'est produit, interrogez le point de terminaison des jetons Auth0 avec le code `oob_code` renvoyé par l’appel au point de terminaison MFA Associate.



Si l’utilisateur n’a pas balayé le code, une réponse `authorization_pending` sera renvoyée, indiquant que vous devez appeler de nouveau `oauth_token` dans quelques secondes :



Si l’appel ne réussi pas, vous recevrez une réponse dans le format suivant, contenant le jeton d’accès :



À ce stade, l’authentificateur est entièrement associé et prêt à être utilisé, et vous disposez des jetons d’authentification pour l’utilisateur.

À tout moment, vous pouvez vérifier si un authentificateur a été confirmé en appelant le point de terminaison des facteurs d’authentification MFA. Si l’authentification est confirmée, la valeur passe de `active` à `réelle`.

## Lancer un défi-réponse avec Push

### Obtenir un jeton MFA

Obtenez un jeton MFA en suivant les étapes décrites dans [Authentification avec le propriétaire de la ressource Autorisation par mot de passe et MFA](/mfa/ropg-mfa).

### Récupérer les facteurs d’authentification enregistrés

Pour effectuer le défi-réponse avec l’utilisateur, vous aurez besoin de l’`authenticator_id` pour le facteur que vous désirez utiliser. Vous pouvez énumérer toutes les authentifications à l’aide du point de terminaison des facteurs d’authentification multifacteur :



Vous obtiendrez une liste de facteurs d’authentification avec le format suivant :



Lorsque les utilisateurs s’inscrivent avec Push, ils sont également inscrits dans OTP, car Guardian prend en charge les [défis-réponses avec OTP](/mfa/ropg-mfa/enroll-and-challenge-otp-authenticators) dans les scénarios où l’utilisateur ne dispose pas de connectivité.

### Lancer un défi-réponse à l’utilisateur avec Push

Pour déclencher un défi-réponse avec courriel, `POST` au point de terminaison du défi-réponse d’AMF à l’aide de l’ `authenticator_id` correspondante et du `mfa_token`.



### Compléter l’authentification à l’aide du code reçu

Si l’opération réussit, vous recevrez la réponse suivante :



Votre application doit commencer à interroger le point de terminaison OAuth0 Token jusqu’à ce que l’utilisateur accepte la notification poussée.



L’appel peut renvoyer un des résultats suivants :