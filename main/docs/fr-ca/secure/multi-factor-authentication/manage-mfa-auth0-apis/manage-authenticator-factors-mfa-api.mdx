---
og:description: Describes how to manage MFA authenticator factor enrollments for applications
  using the Auth0 MFA API.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Gérer les facteurs d’authentification avec l’Authentication API
og:url: https://auth0.com/docs/
permalink: manage-authenticator-factors-mfa-api
title: Gérer les facteurs d’authentification avec l’Authentication API
twitter:description: Describes how to manage MFA authenticator factor enrollments
  for applications using the Auth0 MFA API.
twitter:title: Gérer les facteurs d’authentification avec l’Authentication API
---

Auth0 fournit plusieurs [Points de terminaison API](/api/authentication#multi-factor-authentication) pour vous aider à gérer les authentifiants que vous utilisez avec une application pour l’authentification multifacteur (MFA). Vous pouvez utiliser ces points de terminaison pour créer une interface utilisateur complète permettant aux utilisateurs de gérer leurs facteurs d’authentification.

## Obtention des jetons d’accès API MFA

Pour appeler l’API MFA afin de gérer les enregistrements, vous devez d’abord obtenir un jeton d’accès pour l’API MFA.

Pour utiliser l’API MFA dans le cadre d’un flux d’authentification, vous pouvez suivre les étapes détaillées dans [Authentification avec l’octroi du mot de passe du propriétaire de la ressource et MFA](/mfa/ropg-mfa). Si vous construisez une interface utilisateur pour gérer les facteurs d’authentification, vous devrez obtenir un jeton que vous pourrez utiliser pour l’API MFA à tout moment, pas seulement pendant l’authentification.

Si vous utilisez [Universal Login (Connexion universelle)](/login/universal-login), redirigez l’utilisateur vers le point de terminaison Authorize, en spécifiant le public `https://${account.namespace}/mfa/`, avant d’appeler l’API MFA.

### Connexion universelle

Si vous utilisez [Connexion universelle](/login/universal-login), redirigez l'utilisateur vers le point de terminaison Authorize, en spécifiant l'audience `https://${account.namespace}/mfa/`, avant d'appeler l'API MFA.



### Octroi par mot de passe du propriétaire de la ressource

Si vous utilisez la méthode de la Subvention du Propriétaire de la Ressource (Resource Owner Password Grant/ROPG), vous disposez de 3 options :

* Lors de la connexion, faites appel à l'audience `https://${account.namespace}/mfa/` et utilisez un [jeton d’actualisation](/security/tokens/refresh-tokens) pour l’actualiser plus tard.
* Si vous devez répertorier et supprimer des authentifiants, demandez à l’utilisateur de [s’authentifier à nouveau](/mfa/ropg-mfa) avec `/oauth/token`, en spécifiant l'audience `https://${account.namespace}/mfa/`. Les utilisateurs devront effectuer une authentification multifacteur avant de pouvoir répertorier et/ou supprimer les facteurs d’authentification.
* Si vous avez uniquement besoin de répertorier les authentifiants, demandez à l’utilisateur de [s’authentifier à nouveau](/mfa/ropg-mfa) en utilisant `/oauth/token` avec nom d’utilisateur/mot de passe. Le point de terminaison renverra une erreur `mfa_required` et un `mfa_token` que vous pouvez utiliser pour répertorier les authentifiants. Les utilisateurs devront fournir leur mot de passe pour voir leurs authentifiants.

### Permissions

Lorsque vous demandez un jeton pour l'audience MFA, vous pouvez demander les permissions suivantes :



## Répertorier les authentifiants

Pour obtenir une liste des authentifiants pour un utilisateur, vous pouvez appeler le point de terminaison des authentifiants MFA :



Dans la réponse, vous devriez recevoir des informations concernant le(s) type(s) d’authentifiants :



Avec comme objectif de créer une interface utilisateur permettant aux utilisateurs finaux de gérer leurs facteurs, vous devriez ignorer les authentifiants dont le paramètre `active` est défini sur `false`. Ces authentifiants ne sont pas confirmés par les utilisateurs. Ils ne peuvent donc pas être utilisés pour exiger une authentification multifacteur.

L’API MFA répertoriera les inscriptions suivantes selon le type d’authentifiant :



## Inscrire des authentifiants

Consultez les liens suivants pour obtenir des détails sur la façon d’inscrire des authentifiants pour différents facteurs :

* [SMS ou voix](/mfa/ropg-mfa/enroll-challenge-sms-voice-authenticators)
* [Mot de passe à usage unique (OTP)](/mfa/ropg-mfa/enroll-and-challenge-otp-authenticators)
* [Push](/mfa/ropg-mfa/enroll-and-challenge-push-authenticators)
* [Courriel](/mfa/ropg-mfa/enroll-and-challenge-email-authenticators)

Vous pouvez également utiliser le [Flux de connexion universelle](/mfa/auth0-guardian/create-custom-enrollment-tickets) pour abonner des utilisateurs à tout moment.

## Supprimer des authentifiants

Pour supprimer un authentifiant associé, envoyez une demande `DELETE` au point de terminaison des authentifiants MFA remplaçant `AUTHENTICATOR_ID` avec l’ID d’authentifiant qui convient. Vous pouvez obtenir l'ID lorsque vous répertoriez les facteurs d'authentification.

Si un `mfa_token` a été utilisé pour répertorier les authentifiants, les utilisateurs devront [compléter MFA pour obtenir un jeton d’accès](https://auth0.com/docs/fr-ca/api/authentication/muti-factor-authentication/verify-mfa-with-otp) avec une audience de `https://${account.namespace}/mfa/` afin de supprimer un authentifiant.



Si l’authentifiant a été supprimé, une réponse 204 est renvoyée.

Lorsque vous supprimez un authentifiant, les actions suivantes ont lieu selon le type d’authentifiant :

Pour supprimer un code de récupération et en générer un nouveau, obtenez un [Jeton d’accès à Management API](https://auth0.com/docs/api/management/v2/tokens) Autho et utiliser Management API [Point de terminaison de régénération du code de récupération](https://auth0.com/docs/api/management/v2/#!/Users/post_recovery_code_regeneration).

## Régénérer des codes de récupération

Pour supprimer un code de récupération et en générer un nouveau, obtenez un [Jeton d’accès à Management API](https://auth0.com/docs/api/management/v2/tokens) et utiliser  le [point de terminaison de régénération](https://auth0.com/docs/api/management/v2/#!/Users/post_recovery_code_regeneration) Management API.



Vous obtiendrez un nouveau code de récupération que l’utilisateur final devra enregistrer, par exemple :