---
og:description: How to determine if you are being rate limited
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Cas d’utilisation des limites anti-attaques
og:url: https://auth0.com/docs/
permalink: rate-limit-use-cases
title: Cas d’utilisation des limites anti-attaques
twitter:description: How to determine if you are being rate limited
twitter:title: Cas d’utilisation des limites anti-attaques
---

## Découvrez quand les demandes adressées à un locataire sont assorties d’une limite anti-attaques

Il existe plusieurs façons de déterminer si le produit d’un client est soumis à une limite anti-attaques de la part d’Auth0. Vous trouverez ci-dessous les causes possibles des limites anti-attaques.

### Journaux de locataires

By subscribing to different tenant logs, you can track issues related to request volumes. To understand how tenant and operations event logs work in Auth0, read [Logs](/docs/deploy-monitor/logs).

#### api_limit

The `api_limit` event is triggered immediately after a rate limit is exceeded for the global rate limit bucket for the Authentication or <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>. If the number of request tokens utilized remains above 80% after one minute for the same rate limit bucket, a second warning log is generated. If a rate limit is exceeded for a different rate limit bucket, a new `api_limit` event is generated. This helps customers identify which rate limit configuration their API calls are triggering, which is a critical first step in diagnosing the root cause.

#### api_limit_warning

Le journal `api_limit_warning` est déclenché lorsque le taux de requêtes d’un client consomme 80 % des jetons de requête pour un compartiment de limite anti-attaques donné. Si le nombre de jetons de requête utilisés reste supérieur à 80 % après une minute pour le même compartiment de limite anti-attaques, un deuxième journal d’avertissement est créé. Si le seuil de 80 % est dépassé pour un compartiment de limite anti-attaques différent, un nouveau journal `api_limit_warning` est créé.

#### appi (Public Performance Burst uniquement)

Le journal `appi` est déclenché lorsqu’un locataire client doté d’un module complémentaire Public Performance Burst dépasse sa limite anti-attaques de requêtes Authentication API soutenue de 100 RPS, consommant ainsi un bloc de 15 minutes de son allocation de 48 heures.  de rafale. Si, après 15 minutes, le débit de requêtes dépasse à nouveau la limite de 100 RPS, un deuxième journal `appi` est déclenché.

### Réponses de l’API

Auth0 Réponses de l’API deliver [HTTP 429 (Too Many Requests)](http://tools.ietf.org/html/rfc6585#section-4) responses with the exceeded rate limit. This enables customers to observe rate limit enforcement in real time. However, this is only useful for custom-built customer applications interacting directly with the Auth0 API.

### Gestion des erreurs des trousses SDK

If you are using an SDK, refer to the [Management API SDK libraries](/docs/libraries#mgmt) error pages.

### Pages d’erreur

The error page response is sent for endpoints that render HTML content to the end user. If your tenant is configured to use generic (Auth0 hosted) pages, Auth0 renders the error page instead of the expected content when you exceed the response limit.  If your tenant is configured to use [custom error pages](/docs/customize/login-pages/custom-error-pages), the user is redirected to the custom error page URL with the relevant error in the `error_description` query string parameter.  For more information, see [Affected endpoints](/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/authentication-api-endpoint-rate-limits#affected-endpoints) and the [JSON Error](/docs/troubleshoot/customer-support/operational-policies/rate-limit-policy/authentication-api-endpoint-rate-limits#json-error) descriptions.

## Découvrez les raisons pour lesquelles un locataire est soumis à une limite anti-attaques

If you believe tenant requests are rate limited and need assistance to understand why, open a request via the [Support Center](http://support.auth0.com).  As part of your request, please include the full raw log where the issue was seen.

## Comment savoir si une limite anti-attaques sera appliquée à des requêtes émises à un locataire

Auth0 fournit des informations actualisées sur l’état actuel de vos limites anti-attaques en utilisant les en-têtes de réponse HTTP des points de terminaison concernés par des limites anti-attaques. Cet état est communiqué comme suit :

* `x-ratelimit-limit` : nombre maximum de requêtes disponibles.
* `x-ratelimit-remaining` : nombre de requêtes restantes disponibles jusqu’à ce que le compartiment reçoive des requêtes supplémentaires.
* `x-ratelimit-reset`: [UNIX timestamp](https://en.wikipedia.org/wiki/Unix_time), in seconds, of the expected time when additional requests will be added to the bucket.

Par exemple :

La limite anti-attaques suivante s’applique à une API :

* Limite de charge subite : `1000`
* Limite anti-attaques appliquée : `100``demandes par seconde` (pour une période fixe).

De ces informations, vous pouvez déduire :

* La limite anti-attaques appliquée est de `100 requêtes par seconde` pour une période fixe.
* En raison de la fenêtre fixe, le compartiment des requêtes est rempli toutes les secondes.

Si vous recevez les x-headers suivants dans votre réponse API :

* `x-ratelimit-limit 1000` :
* `x-ratelimit-remaining 50` :
* `x-ratelimit-reset 1675452600` :

Vous savez déjà que :

* Votre locataire a utilisé 950 des 1 000 requêtes autorisées pour cette API, et il ne lui reste que 50 demandes jusqu’à ce que des demandes supplémentaires soient ajoutées.
* Les nouvelles requêtes ont été ajoutées à `1675452600` ou 19:30:00 UTC le 3 février 2023.
* Une nouvelle requête sera ajoutée à ce moment-là.

Therefore, if you are making requests at a rate greater than what is described above, then a rate limitation is expected.  How soon you will be rate limited depends on the burst limit and to what extent you are exceeding the sustained limit.

## Exemples d’applications des limites anti-attaques

### Exemple de requêtes par seconde

Supposons qu’Auth0 lance une nouvelle API appelée `/ratelimitexample` avec les valeurs de limite anti-attaques suivantes :

* Limite de charge subite : Cinq (5) requêtes
* Limite anti-attaques appliquée : 10 requêtes par seconde.

Limite anti-attaques appliquée :  Six (6) requêtes par seconde.

* L’API commence avec (et ne dépassera jamais) cinq jetons de requête, ce qui correspond à la limite de charge subite.
* Le compartiment de 10 jetons est rempli toutes les secondes, à l’aide d’une fenêtre fixe. De nouveaux jetons sont ajoutés au compartiment, le remplissant au « début » de chaque seconde.

 Le compartiment de six jetons est rempli toutes les minutes, à l’aide d’une fenêtre fixe. De nouveaux jetons sont ajoutés au compartiment, le remplissant au « début » de chaque minute.

<Frame>![](/images/cdy7uua7fh8z/30m5xST81Db6mROVGCV5Bj/34d9638eb7467f02c2d0ecbe87ff0fd8/Examples_of_how_rate_limits_are_enforced_-_Page_1.png)</Frame>

Exemple de scénario avec des limites anti-attaques :

* Dans ce scénario :
* T0 - T1sec. :  l’utilisateur final effectue six requêtes dans la première seconde.  Cinq requêtes - correspondant à la limite de charge subite - reçoivent une réponse de `200`.  La sixième requête reçoit une erreur `429` parce qu’il n’y a plus de jetons de requête.
* T1sec - T2sec : Auth0 complète le compartiment des jetons de requête en raison de l’algorithme de fenêtre fixe. En conséquence, les septième à la 11e demandes sont réussies, épuisant le compartiment à partir de la 12e demande, ce qui entraîne une erreur `429`.

### T2sec - T3sec : Auth0 remplit à nouveau le compartiment de jetons et la prochaine demande (13) reçoit une réponse `200`.

Exemple de requêtes par minute

* Supposons qu’Auth0 lance une nouvelle API appelée `/ratelimitexample` avec les valeurs de limite anti-attaques suivantes :
* Limite de charge subite : Cinq (5) requêtes

Limite anti-attaques appliquée :  Six (6) requêtes par seconde.

* Principales étapes :
* L’API commence avec cinq jetons de requête, ce qui équivaut à la limite de charge subite.

Le compartiment de six jetons est rempli toutes les minutes, à l’aide d’une fenêtre fixe. De nouveaux jetons sont ajoutés au compartiment, le remplissant au « début » de chaque minute.

<Frame>![](/images/cdy7uua7fh8z/PhtwGBwS9PfEpNQbPeA1o/dc2b05c72ef960a19958dbafa0295e70/Examples_of_how_rate_limits_are_enforced_-_Page_1__1_.png)</Frame>

Exemple de scénario avec des limites anti-attaques :

* Dans ce scénario :
* T0 - T1min :  l’utilisateur final effectue six requêtes dans la première minute.  Cinq requêtes - correspondant à la limite de charge subite - reçoivent une réponse de `200`.  La sixième requête reçoit une erreur `429` parce qu’il n’y a plus de jetons de requête.
* T+1min - T+2min : Auth0 remplit le compartiment des jetons en raison de l’algorithme de fenêtre fixe. En conséquence, les septième à la 11e demandes sont réussies, épuisant le compartiment à partir de la 12e demande, ce qui entraîne une erreur `429`.

### T+2min : Auth0 remplit à nouveau le compartiment de jetons et la prochaine demande (13) reçoit une réponse `200`.

Autres scénarios

## Parfois, Auth0 affecte deux limites anti-attaques à une seule API.  Cela permet de configurer une limite de charge subite et une limite anti-attaques mieux adaptées aux besoins du service.  En effet, la première limite anti-attaques devient la limite de charge subite appliquée, et la deuxième limite anti-attaques devient la limite anti-attaques appliquée.  Dans ce scénario, Auth0 ne publie que les limites de charge subite et anti-attaques appliquées, plutôt que de communiquer les limites de charge subite et anti-attaques réelles.

Utilisation de l’inscription des utilisateurs finaux et de l’API de connexion

Il y a une poignée de Flux d’authentification, y compris la Connexion, l’Inscription et le Changement de mot de passe.  Le plus courant est généralement la Connexion, suivi par l’Inscription.

La connexion d’un utilisateur final initie plusieurs appels API aux points de terminaison de l’Authentication API afin de déterminer si l’utilisateur final est autorisé à recevoir un jeton d’autorisation et, par conséquent, à accéder à l’application qu’il a demandée.

* Authentication Experience (e.g., New <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> or Classic Login)
* Expérience d’authentification (p. ex., nouvelle connexion universelle ou connexion classique)
* Flux d’authentification (p. ex., Connexion, Inscription ou Changement de mot de passe)

Type de flux d’authentification (p. ex., connexion par nom d’utilisateur/mot de passe; connexion par connexion sociale; connexion lorsqu’un jeton d’authentification existe déjà)

### Ci-dessous, nous décrivons quelques configurations client courantes et leur impact sur l’utilisation de l’API.

[Auth0 Universal Login](/docs/authenticate/login/auth0-universal-login) provides the essential feature of an <Tooltip tip="Authorization Server: Centralized server that contributes to defining the boundaries of a user’s access. For example, your authorization server can control the data, tasks, and features available to a user." cta="View Glossary" href="/docs/glossary?term=authorization+server">authorization server</Tooltip>: the login flow. When a user needs to prove their identity to gain access to your application, you can redirect them to Ci-dessous, nous décrivons quelques configurations client courantes et leur impact sur l’utilisation de l’API. and let Auth0 handle the authentication process.

<table class="table"><thead>
<tr>
<th>Authentication flow</th>
<th>Flow type</th>
<th>Requests to Authentication API endpoints</th>
</tr>
</thead>
<tbody>
<tr>
<td>Login</td>
<td>Username/Password Challenge*</td>
<td>5</td>
</tr>
<tr>
<td>Login</td>
<td>3rd Party Identity Provider – e.g., Social or Work Login</td>
<td>6</td>
</tr>
<tr>
<td>Login</td>
<td>Auth0 Authentication Session Exists</td>
<td>1</td>
</tr>
<tr>
<td>Signup</td>
<td>via Username/Password</td>
<td>6</td>
</tr>
</tbody>
</table>

#### Modifiers

Certain authentication configurations modify the base request count. These adjustments depend on additional security measures or authentication flows:

<table class="table"><thead>
<tr>
<th><strong>Modifier</strong></th>
<th><strong>Description</strong></th>
<th><strong>Additional Requests</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ID First</strong></td>
<td>Identifies the user before requesting credentials.</td>
<td>+2</td>
</tr>
<tr>
<td><strong>MFA</strong></td>
<td>Adds Multi-Factor Authentication.</td>
<td>+2 per factor</td>
</tr>
<tr>
<td><strong>OTP</strong></td>
<td>One-time password for Authentication</td>
<td>+2</td>
</tr>
<tr>
<td><strong>Enterprise Login</strong></td>
<td>Authentication through an enterprise connection (e.g., SAML, OIDC, LDAP).</td>
<td>+1</td>
</tr>
<tr>
<td><strong>Client Credentials</strong></td>
<td>Used for machine-to-machine authentication. Applies universally, even if actions are used.</td>
<td>+1</td>
</tr>
</tbody>
</table>

\*Anything used in combination adds to the overall requests.

### Connexion universelle

[Classic Login](/docs/authenticate/login/auth0-universal-login/universal-login-vs-classic-login/classic-experience) is an Auth0-hosted login experience that relies on JavaScript for customization. Implementing Classic Login is less complex than embedding the authentication process directly in your app, and can help prevent the dangers of cross-origin authentication.

<table class="table"><thead>
<tr>
<th>Authentication flow</th>
<th>Flow type</th>
<th>Requests</th>
</tr>
</thead>
<tbody>
<tr>
<td>Login</td>
<td>Username/password challenge</td>
<td>8</td>
</tr>
<tr>
<td>Login</td>
<td>3rd Party Identity Provider – e.g., Social or Work Login</td>
<td>8</td>
</tr>
<tr>
<td>Login</td>
<td>Auth0 authentication session exists</td>
<td>2</td>
</tr>
<tr>
<td>Signup</td>
<td>Username/password</td>
<td>8</td>
</tr>
</tbody>
</table>

<Warning>

Customers configuring Custom Databases should add two (2) additional authentication API calls to each authentication flow described above. For more details, see [Custom Database Connections](/docs/authenticate/database-connections/custom-db).

</Warning>

#### Modifiers

The following factors increase request counts for Classic Login:

<table class="table"><thead>
<tr>
<th><strong>Modifier</strong></th>
<th><strong>Description</strong></th>
<th><strong>Additional Requests</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>SMS Authentication Only</strong></td>
<td>When using SMS as the primary authentication method.</td>
<td>+7</td>
</tr>
<tr>
<td><strong>Native Social Login</strong></td>
<td>Login using a native social provider (e.g., Google, Facebook).</td>
<td>+1</td>
</tr>
<tr>
<td><strong>Redirects</strong></td>
<td>Additional redirects during authentication increase request count.</td>
<td>+1</td>
</tr>
</tbody>
</table>