---
og:description: Describes how to use the pagination parameters for specific Management
  API v2 endpoint queries.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Effectuer la migration vers les requêtes paginées des points de terminaison
  de Management API v2
og:url: https://auth0.com/docs/
permalink: migrate-to-paginated-queries
title: Effectuer la migration vers les requêtes paginées des points de terminaison
  de Management API v2
twitter:description: Describes how to use the pagination parameters for specific Management
  API v2 endpoint queries.
twitter:title: Effectuer la migration vers les requêtes paginées des points de terminaison
  de Management API v2
---

After **26 January 2021** (or Private Cloud version 2202), requests to <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> v2 endpoints will return a maximum of 50 items for tenants in the Public Cloud. To retrieve more items, you must include the `page` and `per_page` parameters. Beginning on **21 July 2020** (or Private Cloud version 2108), Auth0 will display tenant logs and a migration toggle to help you prepare for this change.

Les locataires concernés sont ceux qui répondent aux critères suivants :

* Locataires de nuage public créés **avant le 21 juillet 2020** ou déploiements de nuage privé sur la version 2108
* Actively making calls to the affected endpoints without passing the `per_page` parameter for queries that can return more than 1 result.

Les locataires suivants adopteront par défaut le nouveau comportement de pagination et continueront à fonctionner comme ils le font aujourd’hui après le 26 janvier 2021 :

* Locataires de nuage public créés **à compter du 21 juillet 2020** ou déploiements de nuage privé sur la version 2108 ou supérieure
* N’utiliser aucun des points de terminaison concernés
* Utiliser les points de terminaison concernés et transmettre le paramètre `per_page`, ou effectuer des requêtes qui renverront toujours un seul résultat.

## Points de terminaison concernés

Les appels aux points de terminaison de Management API v2 suivants sont affectés :

* [`GET /api/v2/clients`](https://auth0.com/docs/api/management/v2#!/Clients/get_clients)
* [`GET /api/v2/client_grants`](https://auth0.com/docs/api/management/v2#!/Clients/client_grants)
* [`GET /api/v2/grants`](https://auth0.com/docs/api/management/v2#!/Clients/grants)
* [`GET /api/v2/connections`](https://auth0.com/docs/api/management/v2#!/Clients/connections)
* [`GET /api/v2/device-credentials`](https://auth0.com/docs/api/management/v2#!/Clients/device_credentials)
* [`GET /api/v2/resource-servers`](https://auth0.com/docs/api/management/v2#!/Clients/resource_servers)
* [`GET /api/v2/rules`](https://auth0.com/docs/api/management/v2#!/Clients/rules)

Les avis de dépréciation seront enregistrés dans vos journaux de locataires pour toutes les demandes sans options de pagination qui renvoient actuellement plus d’un élément, une fois par heure, pour chaque client et point de terminaison différent.

## Actions

1. Replace all calls to the affected endpoints by providing the `page` and `per_page` parameters.

<table class="table"><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>page</code></td>
<td>Integer</td>
<td>Page index of the results to return. First page is 0.</td>
</tr>
<tr>
<td><code>per_page</code></td>
<td>Integer</td>
<td>Number of results per page. Paging is disabled if the parameter is not sent.</td>
</tr>
</tbody>
</table>
2. Confirm that you are no longer seeing deprecation notices in your tenant logs. Check if a request returned more than 50 items. Look at the `details.size_exceeded` field and check if it's `true`.

   1. Use the following log query to return all calls without pagination options with more than 1 result:
      `type:depnote AND description:*Unpaginated*`
   2. Use the following log query to return all calls without pagination options with more than 50 results:
      `type:depnote AND description:*Unpaginated* AND details.size_exceeded:true`

   Pour identifier l’application effectuant la demande, les journaux incluront le `client_id` utilisé pour effectuer la Vous pouvez également trouver le point de terminaison utilisé dans le champ logs `details.path` .
3. Disable Management API unpaginated requests for your tenant. Go to [Dashboard > Tenant Settings > Advanced > Migration](https://manage.auth0.com/#/tenant/advanced). This will simulate the expected behavior after the migration window closes, causing calls to affected endpoints to return up to 50 results. You will be able to re-enable unpaginated requests any time before that date.

### Mettre à jour les extensions

You may need to update from previous versions of [Auth0 Extensions](/docs/customize/extensions) and custom extensions to the latest versions to make sure they are only performing paginated queries.

1. Check your tenant logs for deprecation notices for clients with an ID matching an extension URL. It means you will need to update that extension.
2. Go to [Dashboard > Extensions](https://manage.auth0.com/#/extensions), select **Installed Extensions**, and click on the extension's **Update** link if present.

### Mettre à jour l’outil Deploy CLI

If you are using the `auth0-deploy-cli` tool, you must update to version **5.3.0 or later**. To learn more, see [Deploy CLI Tool](/docs/deploy-monitor/deploy-cli-tool).