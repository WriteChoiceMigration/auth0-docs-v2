---
og:description: Describes Auth0 Actions items affected by the Node.js 18
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Migrer depuis Node 18 vers Node 22
og:url: https://auth0.com/docs/
permalink: migrate-nodejs-22
title: Migrer depuis Node 18 vers Node 22
twitter:description: Describes Auth0 Actions items affected by the Node.js 18
twitter:title: Migrer depuis Node 18 vers Node 22
---

Depuis le 15 janvier 2025, l’environnement d’exécution de l’extensibilité de la version 22 de Node est généralement disponible sur l’ensemble de notre suite d’offres d’extensibilité. Cela inclut les Actions, Règles, Hooks, scripts de base de données et connexions personnalisées avec les réseaux sociaux. Nous vous encourageons vivement à mettre à jour vers Node 22 dès que possible pour adhérer aux meilleures pratiques de sécurité du code.

### Considérations générales

* Le code au niveau module de vos Actions est maintenant invoqué une fois par instance de votre Action, et peut être réutilisé selon les besoins sur de nombreuses exécutions.
* For available modules in the new runtime, you can reference [Can I require: Auth0 Extensibility](https://auth0-extensions.github.io/canirequire/).
* La directive « `use npm` » n’est plus disponible dans Node 22.
* L’accès en écriture au système de fichiers a été désactivé.

### Intégrations Marketplace

#### Intégrations des connexions avec les réseaux sociaux

Use the [Management API](https://auth0.com/docs/api/management/v2) to identify a complete list of social connections impacted by a Node runtime version change. In particular, all potentially impacted social connections, either explicitly created as a custom social connection or initially added through the Marketplace, have the `strategy` attribute with a value of either `oauth1` or `oauth2`.

You can then paginate through all the existing custom social connections in a given tenant using the [GET all connections](https://auth0.com/docs/api/management/v2#!/Connections/get_connections) endpoint. For example, the following query options returns the names and identifiers of up to 100 custom social connections:

```http wrap lines
/api/v2/connections?strategy=oauth1&strategy=oauth2&include_totals=true&fields=name&per_page=100
```






The <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip> does not allow updating the scripts for custom social connections added through the Marketplace. If a script change is required to be compatible with Node 22, you must use the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>.

## Tâches de migration

### Créer de nouvelles actions personnalisées

Pour créer une nouvelle action personnalisée avec la version de Node 22 par l’Auth0 Dashboard :

1. Navigate to [Auth0 Dashboard > Actions > Library](https://manage.auth0.com/#/dashboard/actions/library).
2. Select **Create Action > Build from scratch**.
3. In the **Runtime\*** field, select **Node 22 (Recommended)**.
4. Write your custom Actions in Node 22, test, and deploy when ready.

### Mettre à niveau des actions personnalisées existantes

You can individually upgrade existing custom Actions built on Node 12, 16, or 18 to Node 22 and [revert to the previous version](/docs/customize/actions/manage-versions#revert-actions) using the older runtime. Upgrade Actions to Node 22 by creating and deploying a new version of the existing implementation with any required changes and set to use Node 22 as the runtime.

### Choisissez la version 22 de Node pour les autres produits d’extensibilité

Le temps d’exécution utilisé pour les offres d’extensibilité restantes (autres que les actions) est défini globalement au niveau des paramètres avancés du locataire. La modification de ce paramètre affecte simultanément les fonctionnalités suivantes :

* règles
* appels
* scripts personnalisés de base de données
* scripts de connexion personnalisée avec les réseaux sociaux

Pour modifier le paramètre d’exécution de l’extensibilité du locataire dans l’Auth0 Dashboard :

1. Navigate to **Dashboard > Settings > Advanced**.
2. Scroll to the **Extensibility** section.
3. For **Runtime**, select **Node 22**.
4. For **Legacy Extensibility**, select the Runtime version if applicable.

Étant donné qu’il s’agit d’un paramètre global qui a un impact simultané sur plusieurs fonctionnalités d’extensibilité, nous vous recommandons d’effectuer d’abord cette étape dans votre locataire de développement, de tester toutes les fonctionnalités d’extensibilité applicables et de ne passer à votre locataire de production que lorsque vous ne voyez aucun problème en cours de développement.

Specifically for Custom DB scripts you can [follow the steps as explained on this page](/docs/authenticate/database-connections/custom-db/custom-database-connections-scripts/environment) to individually verify a script against a specific runtime version before proceeding to change the global runtime version.