---
og:description: Learn how to set up Cloudflare for use as the custom domain proxy
  for Auth0.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configurer Cloudflare en tant que proxy inverse
og:url: https://auth0.com/docs/
permalink: configure-cloudflare-for-use-as-reverse-proxy
title: Configurer Cloudflare en tant que proxy inverse
twitter:description: Learn how to set up Cloudflare for use as the custom domain proxy
  for Auth0.
twitter:title: Configurer Cloudflare en tant que proxy inverse
---



Pour configurer Cloudflare en tant que proxy inverse en utilisant l’approche conseillée, un plan Cloudflare Entreprise Plan avec les fonctionnalités suivantes est requis :



## Configurer Cloudflare



Pour configurer Cloudflare en tant que proxy inverse, vous devrez créer un enregistrement CNAME, une règle Page et une règle Transform dans Cloudflare.

1. [Configurez et vérifiez un domaine personnalisé.avec des certificats autogérés](https://auth0.com/docs/customize/custom-domains/self-managed-certificates) si ce n’est déjà fait. Prenez note des valeurs **Nom du domaine d’origine** et **cname-api-key** car vous en aurez besoin plus tard.
2. Dans le tableau de bord de Cloudflare de la zone cible, [créez un enregistrement CNAME](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records) avec les paramètres suivants :
3. [Créez une règle de page](https://support.cloudflare.com/hc/en-us/articles/200172336-Creating-Page-Rules) pour toutes les URL sous le domaine personnalisé choisi, avec les paramètres suivants :
4. [Créer une règle Transform](https://developers.cloudflare.com/rules/transform/request-header-modification/create-dashboard/) :

1. Passez à la vue **Modifier l’en-tête de demande**.
2. Sélectionnez **Créer la règle** et choisissez un nom pour celle-ci.
3. Sous **Lorsque les demandes entrantes correspondent**, sélectionnez **Expression de filtre personnalisée** et choisissez une expression qui autorise la règle à accepter les demandes associées au domaine personnalisé choisi. Par exemple, utilisez une correspondance exacte dans le champ **Nom d’hôte**.
4. Sous Modifier l’en-tête de demande, sélectionnez **Définir comme statique**, puis définissez les champs suivants :
5. Vérifiez que [Toujours utiliser HTTPS](https://developers.cloudflare.com/ssl/edge-certificates/additional-options/always-use-https/) est activé et que le [mode de chiffrement](https://developers.cloudflare.com/ssl/origin-configuration/ssl-modes/) est défini, au moins sur **Complet** pour le domaine personnalisé de votre choix.



## Configurer Auth0

Appelez le point de terminaison [Mettre à jour la configuration du domaine personnalisé](https://auth0.com/docs/api/management/v2#!/Custom_Domains/patch_custom_domains_by_id) d’Auth0 Management API avec la charge utile suivante dans le corps de la requête :