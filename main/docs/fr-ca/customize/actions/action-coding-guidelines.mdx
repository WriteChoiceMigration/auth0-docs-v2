---
og:description: Write clear, concise, and secure Actions code with our coding guidelines.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Directives de codage d’actions
og:url: https://auth0.com/docs/
permalink: action-coding-guidelines
title: Directives de codage d’actions
twitter:description: Write clear, concise, and secure Actions code with our coding
  guidelines.
twitter:title: Directives de codage d’actions
---

Suivez les directives ci-dessous pour écrire un code d’actions performant, sécurisé et clair pour un environnement de production simplifié.

## Principes de base des actions

* Utilisez le nombre minimum de demandes HTTP possible et définissez un délai d’attente raisonnable (moins de 10 secondes) pour éviter les demandes accumulées lors de la connexion.
* Use [application metadata](/docs/get-started/applications/configure-application-metadata) to filter for specific applications to determine if an Action should be run.

  + Veiller à ce que les Actions qui fournissent une vérification ou déclenchent une MFA ne puissent être contournées de façon non intentionnelle ou malveillante.
* Bases du codage

  + Vérifier la stricte égalité `===` avec toutes les données entrantes ou stockées.
* Use [transaction metadata](/docs/customize/actions/transaction-metadata) to share data between [post-login triggers](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger) during the same execution.

  + Exécutez un linter de code, comme [ESLint](), et un analyseur, comme [Semgrep](), pour améliorer la qualité du code et trouver les problèmes automatiquement.
* Base en matière de sécurité

  + Ne pas écrire de secrets ou d’artefacts de code sensibles en texte brut dans le cadre de votre code d’actions. Utilisez plutôt le [Gestionnaire de secrets]() ou tirez parti de votre propre gestionnaire en l’intégrant dans le code d’actions.
* Ensure that Actions, which provide verification or trigger <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=MFA">MFA</Tooltip>, cannot be bypassed unintentionally or maliciously.
* Utilisez toujours des URL HTTPS pour les redirections et les appels d’API.
* Use `event.request.hostname` for the domain used in Authentication API calls; this could be the default Auth0 tenant domain or a [custom domain](/docs/customize/custom-domains).

## Surveiller les données entrantes pouvant être modifiées (paramètres d’URL, agent utilisateur, etc.).

* Codage défensif
* [Détecter les erreurs]() et traiter au besoin.
* Run a code linter, like [ESLint](https://eslint.org), and an analyzer, like [Semgrep](https://semgrep.dev/docs/getting-started/), to improve code quality and find issues automatically.

## Journalisation

* Do not write secrets or sensitive code artifacts in plain text as part of your Actions code. Instead, use the [Secrets Manager](/docs/customize/actions/write-your-first-action#add-a-secret) or leverage your own manager by integrating it within the Actions code.
* Rester en dessous du maximum de 256 caractères enregistrés par Action.
* Dépendances
* Utiliser des packages approuvés et maintenus.
* Vérifier les CVE en cours à l’aide de [la fonction d’audit de `npm`]() ou d’un vérificateur de dépendance automatisé connecté à un référentiel.

## Utilisez la dernière version d’un package lorsque cela est possible.

* [Catch errors](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling#exception_handling_statements) and handle as necessary.
* Vérifier si un courriel est vérifié avec `event.user.email_verified` s’il est utilisé dans un contexte sensible ou de haute sécurité.

## Différentes connexions fournissent des données de profil utilisateur différentes; le seul [champ du profil utilisateur](/users/user-profiles/user-profile-structure) garanti est le `user_id`.

* Rediriger les actions dans le flux de connexion
* Le jeton retourné par `api.redirect.encodeToken` est signé mais pas chiffré, donc les données sensibles ou PII ne doivent pas être incluses dans la charge utile.

## Le flux de connexion s’exécute après une connexion réussie, qui comprend :

* Authentification unique (aucun formulaire de connexion n’est affiché)
* Check for outstanding CVEs using [`npm`'s audit feature](https://docs.npmjs.com/cli/v6/commands/npm-audit) or an automated dependency checker connected to a repository.
* échange de jetons d’actualisation (sans interaction utilisateur)

## Les mots de passe RO (informations d’identification recueillies à partir d’une application et échangées avec le point de terminaison du jeton)

* Les Actions qui redirigent doivent tenir compte des cas ci-dessus et refuser l’accès si une interaction est requise ou permettre intentionnellement le contournement, ce qui place la charge sur l’application demandant la connexion.
* Different Connections provide different user profile data; the only guaranteed [user profile field](/docs/manage-users/user-accounts/user-profiles/user-profile-structure) is the `user_id`.

## Redirect Actions in the Login Flow

* The token returned by `api.redirect.encodeToken` is signed but not encrypted, so sensitive data or PII should not be included in the payload.
* The Login Flow runs after a successful login, which includes:

  + SSO (no login form shown)
  + silent authentication (checking a session using `prompt=none` in the authorization URL)
  + refresh token exchange (no user interaction)
  + RO password grants (credentials gathered from an application and exchanged with the token endpoint)
* Actions that redirect need to take the above cases into account and either deny access if interaction is required or intensionally allow bypassing, which puts the burden on the application requesting login.