---
og:description: Learn how to write an Action, which includes choosing a flow, creating
  an Action and configuring it, and binding it to the flow.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Write Your First Action (Programmer votre première action)
og:url: https://auth0.com/docs/
permalink: write-your-first-action
title: Write Your First Action (Programmer votre première action)
twitter:description: Learn how to write an Action, which includes choosing a flow,
  creating an Action and configuring it, and binding it to the flow.
twitter:title: Write Your First Action (Programmer votre première action)
---

This guide will walk you through how to create and deploy your first Action using the <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip>. When you finish, you should understand the basic functionality that you will use with all Actions and you will be familiar with the programming model. What you will learn constitutes the foundation of writing any Action, regardless of its purpose or the flow.

## L’objectif : notifier Slack lorsque l’utilisateur se connecte

Vous créez une action qui envoie un message à un canal Slack lorsqu’un utilisateur se connecte. Ce tutoriel utilise le déclencheur Post-connexion en exemple, mais les informations fournies ici s’appliquent à tous les types de déclencheurs.

To accomplish this task, you will do the following:

* Pour accomplir cette tâche, procédez comme suit  :
* [Créez une action](#create-an-action)
* [Ajoutez un secret](#add-a-secret)
* [Ajoutez une dépendance](#add-a-dependency)
* [Enregistrez le brouillon](#save-the-draft)
* [Ajoutez une logique personnalisée](#add-custom-logic)
* [Testez une action](#test-an-action)
* [Déployez une action](#deploy-the-action)
* [Joignez une action à un flux](#attach-the-action-to-a-flow)

## [Voir les résultats d’une action dans les journaux des locataires](#observe-actions-in-tenant-logs)

Because this Action will be sending messages to a Slack channel, you need to [create an Incoming Webhook for a Slack Workspace](https://api.slack.com/messaging/webhooks). Once you have a Slack Webhook URL, you may continue with this guide.

## Comme cette action enverra des messages à un canal Slack, vous devez [créer un lien de rappel HTTP entrant pour un espace de travail Slack](). Une fois que vous aurez obtenu l’URL du lien de rappel HTTP Slack, vous pourrez lire la suite de ce guide.

Créer une action

1. Navigate to [Auth0 Dashboard > Actions > Library,](https://manage.auth0.com/#/actions/library) then select **Create Action** > **Build from scratch**.
2. Enter a **Name** and select the **Login / Post Login** trigger since you’ll be adding an Action to the Login flow, then select **Create.**

Pour faire fonctionner une action dans un flux spécifique, vous devez d’abord créer l’action et ensuite l’ajouter à un flux.

<Frame>![Actions Code Editor](/images/cdy7uua7fh8z/12Q8OEuDI39eWuWsrVVwN0/ff7dd385d33aee704e1cb603f43c679b/2025-02-28_13-27-14.png)</Frame>

## L’éditeur de code d’actions s’affiche :

Créer une action à partir d’un modèle

1. Navigate to [Auth0 Dashboard > Actions > Library](https://manage.auth0.com/#/actions/library), then select **Create Action.**
2. Select **Choose from template**.
3. Select the template that you would like to use for building an Action.
4. You should now see a read-only preview of the code within the template. To proceed, select **Use this template**.
5. Enter a name, and select **Create**.

## La galerie des modèles d’actions offre une variété de modèles de démarrage pour la création d’une action. Pour créer une action à partir d’un modèle :

Each Action can contain Secret values, which are suitable for holding sensitive information, such as <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=Access+Tokens">Access Tokens</Tooltip> and API Keys. Let’s store the Slack Webhook URL as a Secret.

1. Select the Key Icon from the code editor's left sidebar
2. Select **Add Secret**.
3. Give the Secret the following name: `SLACK_WEBHOOK_URL`.
4. Paste in the Webhook URL provided by Slack and select **Create**.

Chaque action peut contenir des valeurs de secret, qui permettent de conserver des informations sensibles, comme des jetons d’accès et des clés d’API. Stockons l’URL du lien de rappel HTTP Slack en tant que secret.

<Frame>![Actions Code Editor - Your Secret has been added in the Secrets section.](/images/cdy7uua7fh8z/4FyFtKRSIYuigxE9U8TkEJ/9598b5909694631ca673f748abf2268a/Screen_Shot_2022-02-09_at_3.24.05_PM.png)</Frame>

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Once a Secret has been created, its value will never be revealed. Auth0 encrypts all Secrets and stores them securely.

</Callout>

## Vous verrez que le secret a été ajouté à l’action et que vous pouvez utiliser le nouveau secret au moyen d’un code intelligent complet en tapant `event.secrets`.

You’ll be using the [`@slack/webhook` `npm` package](https://www.npmjs.com/package/@slack/webhook) to make it easy to send a message to Slack. You can use nearly any public `npm` package in an Action as long as it can be installed without relying on [native add-ons](https://www.npmjs.com/package/node-gyp).

Vous allez utiliser le package [`@slack/webhook``npm`]() pour faciliter l’envoi d’un message à Slack. Vous pouvez utiliser pratiquement n’importe quel package `npm` public dans une action, à condition qu’il puisse être installé sans dépendre de [modules complémentaires natifs]().

1. Select the Dependency icon (cube icon) in the sidebar.
2. For **Name**, enter `@slack/webhook`.

   Pour ajouter la dépendance :
3. Select **Create**, and the Dependency should be added to the Action:

   <Frame>![Actions Code Editor: Your dependency has been added.](/images/cdy7uua7fh8z/Jmzvgydo204pBLikzuDJy/1d9a614b4c92f27afbbdd2b2af3b3c0b/Screen_Shot_2022-02-23_at_11.28.41_AM.png)</Frame>

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

When you save this Action, the latest version of your dependency will be resolved and replaced with a specific version number to keep future updates to the package from breaking your Action.

</Callout>

## Par défaut, votre action utilisera la dernière version de la dépendance au moment où elle a été ajoutée.

Enregistrer le brouillon

## Sélectionnez **Enregistrer le brouillon**. Votre action est enregistrée, mais pas encore exécutée dans le cadre d’un flux d’utilisateurs. Avec les actions, vous avez la possibilité de créer, de modifier et de tester des actions avant qu’elles n’affectent le trafic de votre locataire Auth0. Si le comportement de l’action vous convient, vous pouvez déployer l’action et l’ajouter à un flux ultérieurement.

Ajouter une logique personnalisée

Every Action has an event object that contains read-only, contextual information relevant to the associated trigger. If you start typing `event.` in the Editor, you should be presented with all the available properties of the event. To learn more about which information is available on each trigger, read [Explore Flows and Triggers](/docs/customize/actions/explore-triggers).

Chaque action possède un objet d’événement qui contient des informations contextuelles en lecture seule relatives au déclencheur associé. Si vous commencez à taper `event.` dans l’éditeur, toutes les propriétés possibles de l’événement devraient s’afficher. Pour en savoir plus sur les informations relatives à chaque déclencheur, consultez la section [Explorer les flux et les déclencheurs](/actions/explore-triggers).

```javascript lines
const { IncomingWebhook } = require('@slack/webhook');

exports.onExecutePostLogin = async (event, api) => {
    const url = event.secrets.SLACK_WEBHOOK_URL;
    const webhook = new IncomingWebhook(url);

    // Send the notification
    await webhook.send({ text: "Logging In..." });
};
```






Utilisons notre action pour notifier Slack. Ajoutez ce code à votre action :

## Sélectionnez **Enregistrer le brouillon** pour enregistrer votre action.

Tester l’action

1. Select the Test (triangle) icon in the sidebar. In the Payload section, you’ll see editable JSON data relevant to the trigger that you selected when you created the Action.

   <Frame>![Actions Code Editor: Test Runner panel](/images/cdy7uua7fh8z/4MSu8EfpMLNJpcYtrwP7Jf/66480a0434c89eadb809012bca890037/Screen_Shot_2022-02-10_at_10.01.10_AM.png)</Frame>
2. Select the **Run** button, and you should see a message appear in your Slack channel.

## Avant d’exécuter cette action dans votre locataire avec un trafic utilisateur réel, testez-la pour vous assurer qu’elle se comporte comme prévu.

Déployer l’action

Maintenant que nous sommes certains que l’action fonctionne comme prévu, il est temps de la déployer.

Sélectionnez **Déployer**. Le déploiement d’une action prend une capture d’écran de l’action à ce moment-là et l’enregistre en tant que **Version de l’action**.

<Frame>![Actions: Version History](/images/cdy7uua7fh8z/53sn70cXoxUHibc3Bmk7Og/193af512ac2b58f3d60ab36ca5499d90/Screen_Shot_2022-02-10_at_10.02.47_AM.png)</Frame>

Sélectionnez **Historique des versions**, et vous devriez voir l’action enregistrée comme étant la version 1.

## Attach the Action to a Flow

Attacher l’action à un flux

1. Navigate to [Auth0 Dashboard > Actions > Flows](https://manage.auth0.com/#/actions/flows) to see a list of the available Flows:
2. Select the [Login flow](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger) and drag `my-slack-action` into the flow.

   <Frame>![Actions Flows: Login Flow](/images/cdy7uua7fh8z/6hU7sKWtGzSx9Z8dhsXbvp/0253fb4e9eac1133cc9626385622c54e/Login_Action_-_English.png)</Frame>
3. Select **Apply**.

The Action is now running for real user traffic within your tenant. If you’d like a more robust testing environment, consider [setting up multiple Auth0 environments](/docs/get-started/auth0-overview/create-tenants/set-up-multiple-environments).

## L’action s’exécute maintenant dans votre locataire pour un trafic d’utilisateurs réels. Si vous souhaitez disposer d’un environnement de test plus robuste, envisagez de [mettre en place plusieurs environnements Auth0](/get-started/create-tenants/set-up-multiple-environments).

Now that your Action is running as part of the Login flow, Auth0 captures information about each Action execution in the tenant logs. To view this, navigate to [Auth0 Dashboard > Monitoring > Logs](https://manage.auth0.com/#/logs), and select a **Successful Login** event.

Maintenant que votre action s’exécute dans le cadre du flux Connexion, Auth0 capture des informations sur chaque exécution d’action dans les journaux du locataire. Pour l’afficher, allez à [Auth0 Dashboard > Surveillance > Journaux](%24%7Bmanage_url%7D/#/logs) et sélectionnez un événement **Connexion réussie**.

<Frame>![Tenant Logs: Action Details view](/images/cdy7uua7fh8z/61k82wmsXSb9M3wOExM4jH/51fae3a36a8ecddeec08bc45da468e2b/Action_logs_-_English.png)</Frame>

## Vous devriez voir un aperçu des **Détails de l’action** qui contient des informations sur toutes les actions qui ont été exécutées dans le cadre de ce flux.

Now that you’ve written your first Action, check out [Explore Flows and Triggers](/docs/customize/actions/explore-triggers) to learn how to perform some common tasks with Actions.