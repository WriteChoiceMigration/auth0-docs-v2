---
og:description: Learn how you can render Forms using Actions.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Rendre des formulaires à l’aide d’Actions
og:url: https://auth0.com/docs/
permalink: render
title: Rendre des formulaires à l’aide d’Actions
twitter:description: Learn how you can render Forms using Actions.
twitter:title: Rendre des formulaires à l’aide d’Actions
---

Once you create a form, you can render it with [Actions](/docs/customize/actions) using the `api.prompt.render()` method:

```javascript lines
// Example using the post-login trigger

exports.onExecutePostLogin = async (event, api) => {
  api.prompt.render(':form_id');
}

exports.onContinuePostLogin = async (event, api) => {
  // Add your logic after completing the form
}
```






Remplacez form_id par l’ID du formulaire. Vous pouvez localiser l’ID dans l’URL du formulaire, par exemple :  `ap_pUMG...` ou sélectionnez-le dans l’onglet de l’éditeur de formulaires **Embed**.
Dans les [Éditeur de code d’Actions](/docs/customize/actions/write-your-first-action#create-an-action), vous pouvez définir la logique métier pour décider quand et comment rendre le formulaire.

```javascript lines
exports.onExecutePostLogin = async (event, api) => {

  // Only render the form if user is missing company_name metadata
  if (!event.user.user_metadata.company_name) {
    api.prompt.render(':form_id');
  }
}

exports.onContinuePostLogin = async (event, api) => {
  // Add your logic after completing the form
}
```






Pour en savoir plus sur ces objets, consultez :

* [Event Object](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-event-object): Learn about the Event objects and properties.
* [API object](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-api-object): Learn about the API objects and methods.

## Renseigner les valeurs des champs existants et des champs masqués (côté client)

Vous pouvez renseigner des valeurs pour les champs existants et les champs masqués en utilisant la propriété `fields` comme second argument dans votre méthode de rendu.

Dans l’exemple ci-dessous, la valeur `Jane` remplit le champ `first_name`.

```javascript lines
exports.onExecutePostLogin = async (event, api) => {
  api.prompt.render(':form_id', {
    fields: {
      first_name: 'Jane',
    }
  });
}

exports.onContinuePostLogin = async (event, api) => {
  // Add your logic after completing the form
}
```






<Warning>

Do not populate sensitive information, populated values are exposed to the browser (client-side).

</Warning>

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Make sure that the field `ID` referenced in the second argument is available client-side in your [nodes and components](/docs/customize/forms/nodes-and-components); otherwise, the value will not populate.

</Callout>

## Injecter des données personnalisées avec des variables partagées (côté serveur)

Vous pouvez injecter des variables côté serveur en utilisant la propriété `vars` comme second argument dans votre méthode de rendu. Cela peut servir à injecter des informations sensibles sans les exposer côté client.

Dans l’exemple ci-dessous, la valeur `123456789` remplit la variable `external_user_id`.

```javascript lines
exports.onExecutePostLogin = async (event, api) => {
  api.prompt.render(':form_id', {
    vars: {
      external_user_id: '123456789',
    }
  });
}

exports.onContinuePostLogin = async (event, api) => {
  // Add your logic after completing the form
}
```






<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

Shared variables `{{vars.*}}` do not have data type restrictions.

Shared variables `{{vars.*}}` are always automatically masked.

Unlike when populating `{{fields.*}}` variables, the `{{vars.*}}` property does not need to exist in your form before injecting values.

You can use the `{{vars.*}}` property to reference shared variables in your Forms and its linked Flows. To learn more, read [Variables](/docs/customize/forms/variables).

</Callout>

## Champs et données de variables partagées dans Actions

Fields and shared variables data collected, in your forms, is automatically available with the `event.prompt` in the resume function of the current action:

* La propriété `id`, avec l’identifiant d’invite que vous affichez.
* L’objet `fields`, qui contient toutes vos données de champs et de champs cachés.
* L’objet `vars`, qui contient toutes vos données de variables partagées.



<Accordion title="Example of event.prompt object">

```json lines
{
  "id": "ap_fuVuFiiQWN3mTEujWTy966",
  "fields": {
    "first_name": "Jane",
    "company_name": "Okta"
  },
  "vars": {
    "external_crm_uuid": "f8f32e6f-2329-49bd-bf21-fa8b0bea2652",
    "api_hostname": "api.example.com"
  }
}
```






</Accordion>



In the example below, the `api.user.setUserMetadata` populates the `user_metadata` `company_name` attribute with the `event.prompt.fields.company_name` property that was collected from your form.

```javascript lines
exports.onExecutePostLogin = async (event, api) => {
  api.prompt.render(':form_id');
}

exports.onContinuePostLogin = async (event, api) => {
  api.user.setUserMetadata('company_name', event.prompt.fields.company_name);
}
```






## Restrictions et limites

* You cannot [redirect](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/redirect-with-actions) a user and render a form in the same Action. If you need to use both, consider using different Actions.
* Vous ne pouvez rendre qu’un seul formulaire par Action. Si vous devez rendre plusieurs formulaires, vous devez l’effectuer dans différentes Actions.
* Le même formulaire ne peut pas être rendu plus d’une fois sur le même déclencheur.
  Par exemple, si vous avez un déclencheur `post-login` avec deux Actions, vous ne pouvez pas rendre le même formulaire dans les deux Actions, vous devez créer des formulaires différents pour chaque Action.
* La taille maximale de la propriété `fields` est de 24 Ko.
* La méthode `api.prompt.render()` est disponible dans les déclencheurs suivants :

  + [post-login](/docs/customize/actions/explore-triggers/signup-and-login-triggers/login-trigger/post-login-api-object)
  + [post-challenge](/docs/customize/actions/explore-triggers/password-reset-triggers/post-challenge-trigger/post-challenge-api-object)