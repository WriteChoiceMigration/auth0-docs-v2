---
og:description: Learn how to use Amazon Web Services (AWS) Session Tags to implement
  role-based access control (RBAC) for AWS APIs and Resources.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Utiliser les balises de session Amazon Web Services pour le contrôle d'accès
  basé sur les rôles (RBAC)
og:url: https://auth0.com/docs/
permalink: session-tags
title: Utiliser les balises de session Amazon Web Services pour le contrôle d'accès
  basé sur les rôles (RBAC)
twitter:description: Learn how to use Amazon Web Services (AWS) Session Tags to implement
  role-based access control (RBAC) for AWS APIs and Resources.
twitter:title: Utiliser les balises de session Amazon Web Services pour le contrôle
  d'accès basé sur les rôles (RBAC)
---

Avec les balises de session Amazon Web Services (AWS), vous pouvez marquer les ressources et attribuer aux utilisateurs des paires clé/valeur, ce qui vous permet de mettre en œuvre un contrôle d’accès basé sur les rôles (RBAC) pour les API et les ressources AWS.

Dans l’exemple inclus dans ce guide, nous allons marquer nos ressources AWS avec des étiquettes de session AWS, puis créer une politique pour un rôle AWS IAM qui permettra aux utilisateurs ayant ce rôle et les étiquettes appropriées d’effectuer des actions particulières sur nos ressources AWS. Nous créerons ensuite une règle dans Auth0 qui attachera notre rôle AWS IAM et les étiquettes de session AWS appropriées à un utilisateur Auth0 et les fera passer par des assertions SAML dans le jeton. Cet exemple s’appuie sur l’exemple fourni dans [Configurer Amazon Web Services pour l’authentification unique](/integrations/aws/configure-amazon-web-services-for-sso).

Pour utiliser les balises de session AWS avec les API et les ressources AWS, vous devez :

1. Tag AWS instances.
2. Create a specialized AWS IAM role.
3. Create an Auth0 rule.
4. Test your configuration.

## Prérequis

* You’ll need an [Amazon Web Services (AWS) account](https://portal.aws.amazon.com/billing/signup#/start) for which you are an administrator.[](/integrations/aws/configure-amazon-web-services-for-sso)
* [ConfigureR AWS pour la SSO](/integrations/aws/configure-amazon-web-services-for-sso)[](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html#ec2-launch-instance)[](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html#ec2-launch-instance)
* [Set up some AWS VM Instances](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EC2_GetStarted.html#ec2-launch-instance). For the example in this guide, we use three separate instances.

### Instances de balises AWS

Add tags to your AWS resources. Follow instructions in [Amazon Elastic Compute Cloud User Guide for Linux Instances: Adding and Deleting Tags on an Individual Resource](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html#adding-or-deleting-tags).

You should have created three instances. Add the following tags:



### Create a specialized AWS IAM role

Create an IAM role using the AWS SAML identity provider you set up during the prerequisites. Follow the instructions in [AWS Identity and Access Management User Guide: Creating a Role for SAML 2.0 Federation (Console)](https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_create_for-idp_saml.html).

While setting up your role, make sure you use the following parameters:



When asked to **Attach permissions policies**, create a policy with the following JSON and name it `VirtualMachineAccessByCostCenter`.



Once the policy has been created, refresh the policy list for the role, then filter and select the new policy.

When reviewing your settings, make sure you use the following parameters:



### Create an Auth0 rule

Pour mapper le rôle AWS et les étiquettes à un utilisateur, vous devez [créer une règle](/rules/create-rules) dans Auth0. Ces valeurs seront ensuite transmises aux assertions SAML dans le jeton. Pour l’exemple :





### Tester la configuration

You should now be able to log in to the AWS Console using an Auth0 user and test your implementation.

To log in, you will need the SSO login for the AWS Console. To find it:

1. Go to [Dashboard > Applications > Applications](%24%7Bmanage_url%7D/#/applications) and select the name of the Application to view.
2. On the **Addons** tab, enable the **SAML2 Web App** add-on.
3. On the **Usage** tab, locate **Identity Provider Login URL**.
4. Go to the indicated URL.
5. Once you have signed in, from **EC2**, select **Instances**. Click one of the instances tagged with a `CostCenter` of `marketing`, and click **Actions** > **Instance State** > **Stop**. Notice that the action completes successfully.
6. Click the instance tagged with a `CostCenter` of `engineering`, and click **Actions** > **Instance State** > **Stop**. Notice that the action fails with an error.