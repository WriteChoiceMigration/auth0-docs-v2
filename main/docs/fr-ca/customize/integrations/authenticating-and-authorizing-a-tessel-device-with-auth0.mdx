---
og:description: How to authenticate and authorize a Tessel device with Auth0.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Authentification et autorisation d’un appareil Tessel avec Auth0
og:url: https://auth0.com/docs/
permalink: authenticating-and-authorizing-a-tessel-device-with-auth0
title: Authentification et autorisation d’un appareil Tessel avec Auth0
twitter:description: How to authenticate and authorize a Tessel device with Auth0.
twitter:title: Authentification et autorisation d’un appareil Tessel avec Auth0
---

[Tessel](https://tessel.io) is an amazing board. Not only it has a great hardware spec and a great extensibility story, you can program it in Javascript! When it was announced on Kickstarter we immediately supported it and waited long weeks to get hold of one.

<Frame>![Tessel - Tessel Ports Diagram](/images/cdy7uua7fh8z/5mSnxvHvgWrHtCwk35z4Db/891c39e289c58d97c7a4047084d118a5/TM-00-04-ports.png)</Frame>

Elle est enfin arrivée et nous avons pu écrire notre premier programme : obtenir un jeton d’Auth0 et appeler une API.

Tessel aims for full compatibility with Javascript. Most of core Node modules also work, but not all of them. See [the Tessle docs in Github](https://github.com/tessel/docs/blob/master/compatibility.md) for more details.

## L’exemple

Cet exemple est simple :

1. We call the Resource Owner endpoint on Auth0 with device credentials
2. Get a token back
3. We use the token to call an API

<Frame>![Tessel - Tessel to Auth0 Flow Diagram](/images/cdy7uua7fh8z/3iyOfO564gkbyQSsvTJE9c/a981ca1166d1384ba2e5e7dd72f5a255/2023-09-22_13-14-21.png)</Frame>

```javascript lines expandable
var http = require('https');
var tessel = require('tessel');

tessel.syncClock(function () {

  var device_id = 'tessel-01';
  var password = 'THE TESSEL PASSWORD';

  authenticate(device_id, password, function(e,token){

    if(e) return console.log("Error:" + e);

    getDeviceProfile(token.access_token, function(e, profile){
      console.log("Device profile:");
      console.log(profile);
    });
  });

  function getDeviceProfile(token, done){
    request('{yourDomain}',
          '/userinfo',
          'GET',
          {
          "Content-type": "application/json",
          "Authorization": "Bearer " + token
        },
        null,
        function(e,response){
          if(e) return done(e);
          done(null, JSON.parse(response));
        });
  }

  function authenticate(device_id, password, done)
  {
    request('{yourDomain}',
          '/oauth/ro',
          'POST',
          {
          "Content-type": "application/json",
        },
        JSON.stringify({
            client_id:   '{yourClientId}',
            username:    device_id,
            password:    password,
            connection:  'devices',
            grant_type:  "password",
            scope: 'openid'
          }),
          function(e,response){
            if(e) return done(e);
            done(null, JSON.parse(response));
        });
  }

  function request(host, path, method, headers, body, done){
    var options = {
      hostname: host,
      path: path,
      method: method,
      headers: headers
    };

    var req = http.request(options, function(res) {
      res.setEncoding('utf8');

      var response = "";

      res.on('data', function (chunk) {
        response += chunk;
      });

      res.on('end', function(){
        done(null, response);
        });
    });

    req.on('error', function(e) {
      done(e);
    });

    if( body ) req.write(body);
    req.end();
  }
});
```






Points forts du code à noter :

1. This is 99% compatible with Node (the only device specific module.is `tessel` that we only use to make sure all SSL calls happen with adequate time references.
2. The `request` function, is a simple wrapper on `http` module functions. The `request` module doesn't currently work in Tessel.

The <Tooltip tip="Resource Owner: Entity (such as a user or application) capable of granting access to a protected resource." cta="View Glossary" href="/docs/glossary?term=Resource+Owner">Resource Owner</Tooltip> endpoint requires credentials (such as username/password), so the backend user store connected to Auth0 needs to support this (like a Database connection or Active Directory).

## Configuration Tessel

* Exécutez `tessel update` pour vous assurer que vous installez le dernier micrologiciel avec le support SSL.
* Vous aurez évidemment besoin d’une connexion au web. Vous pouvez configurer le WiFi avec la commande `tessel wifi`.
* Envoyez toujours les informations d’identification (telles que `nom d’utilisateur`/`mot de passe`) sur des réseaux sécurisés.

## Résumé

Tessel est génial. Nous voyons beaucoup de potentiel. Cet exemple montre à quel point il est facile de le connecter avec Auth0.