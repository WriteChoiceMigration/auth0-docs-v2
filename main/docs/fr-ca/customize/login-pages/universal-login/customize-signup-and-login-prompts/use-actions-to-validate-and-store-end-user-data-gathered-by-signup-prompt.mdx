---
og:description: Learn how to use Auth0 Actions to validate and store end-user data.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Utiliser les actions pour valider et stocker les données de l’utilisateur
  final recueillies par les personnalisations de l’invite d’inscription (1)
og:url: https://auth0.com/docs/
permalink: use-actions-to-validate-and-store-end-user-data-gathered-by-signup-prompt
title: Utiliser les actions pour valider et stocker les données de l’utilisateur final
  recueillies par les personnalisations de l’invite d’inscription (1)
twitter:description: Learn how to use Auth0 Actions to validate and store end-user
  data.
twitter:title: Utiliser les actions pour valider et stocker les données de l’utilisateur
  final recueillies par les personnalisations de l’invite d’inscription (1)
---

Vous pouvez utiliser la [Personnalisation de l’invite d’inscription](/brand-and-customize/customize-signup-and-login-prompts) avec le déclencheur `pre-user-registration` pour ajouter les données fournies par l’utilisateur final (comme le numéro de téléphone ou l’emplacement d’un utilisateur) de l’invite d’inscription à `user_metadata`. En option, vous pouvez valider ces données et afficher une erreur de validation dans l’invite.

### Conditions préalables

* Le locataire a un [Domaine personnalisé](/custom-domains) vérifié
* Le locataire a un [Modèle de page](/login/universal-login/universal-experience/customize-templates) défini

### Ajouter un champ à l’invite d’inscription

Utilisez la [Management API](https://auth0.com/docs/api/management/v2/prompts/put-custom-text-by-language) pour insérer un champ personnalisé dans une invite à l’aide de l’un des [Points d’entrée](https://auth0.com/docs/sign-up-prompt-customizations#-signup-prompt-entry-points). Cet exemple ajoute le contenu suivant au point d’insertion `ulp-container-form-content-start` :



Le résultat est une section First Name (Prénom) dans l’invite d’inscription :

### Créer une action dans le déclencheur d’enregistrement préalable des utilisateurs

Vous pouvez créer une action d’inscription personnalisée en allant sur [**Actions > Library (Bibliothèque) > Build Custom (Créer une action personnalisée)**](https://manage.auth0.com/dashboard/us/dev-6endizjt/actions/library)**.**

Dans l’éditeur de code, mettez à jour le gestionnaire `onExecutePreUserRegistration` :



En option, vous pouvez valider l’entrée de l’utilisateur et envoyer une erreur de validation en appelant la méthode `api.validation.error`, puis déployer l’action :



### Ajouter l’Action au flux

Naviguez vers [**Actions > Flows (Flux) > Pre User Registration (Pré-enregistrement de l’utilisateur) > Add Action (Ajouter une action) > Custom (Personnalisée)**](https://manage.auth0.com/dashboard/us/dev-6endizjt/actions/flows/pre-user-signup/), puis faites glisser et déposez votre nouvelle action dans le flux d’enregistrement et sélectionnez **Apply (Appliquer)**.

### Tester l’action

Créez un compte dans votre flux de test et laissez le champ **First Name (Prénom)** vide. Vous verrez une erreur lors de la soumission :

Après avoir saisi un nom dans le champ **First Name (Prénom)**, vous pouvez soumettre le formulaire avec succès :

### Vérifier que les données ont été sauvegardées sur `user_metadata`

Naviguez vers [**User Management (Gestion des utilisateurs) > Users (Utilisateurs)**](https://manage.auth0.com/dashboard/us/dev-6endizjt/users), puis confirmez que les données ont été sauvegardées en affichant l’onglet Details (Détails) :