---
og:description: Learn how to configure Rich Authorization Requests (RAR) for a resource
  server.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configurer les Demandes d’autorisation enrichies (RAR)
og:url: https://auth0.com/docs/
permalink: configure-rich-authorization-requests
title: Configurer les Demandes d’autorisation enrichies (RAR)
twitter:description: Learn how to configure Rich Authorization Requests (RAR) for
  a resource server.
twitter:title: Configurer les Demandes d’autorisation enrichies (RAR)
---



## Prérequis

Avant de configurer les RAR pour une API, il faut d’abord configurer :

* Un [domaine personnalisé](/custom-domains).
* Un modèle de [pages de connexion universelles personnalisées](/login/universal-login/universal-experience/customize-templates). Consultez le document [Modèles de pages API](/customize/universal-login-pages/universal-login-page-templates#page-templates-api) pour savoir comment personnaliser un modèle de page de connexion universelle à l’aide du Management API.

## Configurer le serveur de ressources

### Définir la politique de consentement

La politique de consentement détermine quand et comment Auth0 affiche l’invite de consentement à l’utilisateur final.

Le serveur de ressources (c’est-à-dire l’API) enregistré dans un locataire Auth0 doit définir à l’avance la politique de consentement à appliquer pour autoriser la demande RAR.

La politique de consentement par défaut est `null `ou non définie. Auth0 prend également en charge la politique de consentement `transactional-authorization-with-mfa` qui couvre le cas d’utilisation de l’autorisation transactionnelle qui nécessite toujours le consentement explicite du propriétaire de la ressource (c’est-à-dire l’utilisateur final). Le tableau ci-dessous résume le comportement de la politique de consentement d’Auth0 :





### Enregistrer les types `authorization_details`.

Le serveur de ressources doit enregistrer les types `authorization_details` qui sont acceptés, de la même manière qu’il enregistre les permissions autorisées. Assurez-vous que `authorization_details` respecte ces exigences :

* Maximum de 5 Ko
* La valeur doit être un jeton JSON valide
* Doit être un tableau d’objets
* Maximum de 5 entrées dans le tableau
* Chaque objet doit avoir une propriété `type` (qui est préenregistrée sur l’API)
* Maximum de 10 propriétés par objet
* La longueur maximale des noms de propriété est de 255
* La longueur maximale de la valeur de propriété est de 255
* Maximum de 5 niveaux d’objets imbriqués
* Les noms de propriétés ne peuvent contenir que les caractères suivants :  `a-zA-Z0-9_.-`

``

Vous pouvez enregistrer des types `authorization_details` avec l’[Auth0 Dashboard](https://manage.auth0.com/) ou avec la [Management API](https://auth0.com/docs/api/management/v2).



### Créer un serveur de ressources pour les demandes RAR

La requête POST suivante crée et configure un serveur de ressources pour recevoir des demandes RAR :



## Définir une invite de consentement personnalisée pour afficher les détails de l’autorisation

Pour afficher les détails de l’autorisation d’une demande RAR dans l’écran de consentement, vous devez configurer l’invite `customized-consent` avec les partiels de modèle appropriés.

La demande PUT suivante configure les éléments partiels du consentement personnalisé :



Le modèle de consentement personnalisé rend les détails de l’autorisation dans l’invite de consentement suivante qu’Auth0 affiche à l’utilisateur final :

Pour en savoir plus sur la personnalisation de l’invite de consentement, consultez [Personnaliser les nouvelles pages de connexion universelle](/login/universal-login/universal-experience/customize-templates) et [Personnaliser la nouvelle connexion universelle avec l’éditeur sans code](/customize-themes).