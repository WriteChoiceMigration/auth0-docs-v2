---
og:description: Learn how to configure Rich Authorization Requests (RAR) for a resource
  server.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configurer les Demandes d’autorisation enrichies (RAR)
og:url: https://auth0.com/docs/
permalink: configure-rich-authorization-requests
title: Configurer les Demandes d’autorisation enrichies (RAR)
twitter:description: Learn how to configure Rich Authorization Requests (RAR) for
  a resource server.
twitter:title: Configurer les Demandes d’autorisation enrichies (RAR)
---

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

To use Highly Regulated Identity features, you must have an Enterprise Plan with the Highly Regulated Identity add-on. Refer to [Auth0 Pricing](https://auth0.com/pricing/) for details.

</Callout>

Using [Rich Authorization Requests (RAR)](https://datatracker.ietf.org/doc/html/draft-ietf-oauth-rar), clients can request and obtain <Tooltip tip="Fine-grained Authorization (FGA): Auth0 product allowing individual users access to specific objects or resources." cta="View Glossary" href="/docs/glossary?term=fine-grained+authorization">fine-grained authorization</Tooltip> data from <Tooltip tip="Resource Owner: Entity (such as a user or application) capable of granting access to a protected resource." cta="View Glossary" href="/docs/glossary?term=resource+owners">resource owners</Tooltip>, such as end users, during the [Authorization Code Flow](/docs/get-started/authentication-and-authorization-flow/authorization-code-flow) and [Client-Initiated Backchannel Authentication Flow](/docs/get-started/authentication-and-authorization-flow/client-initiated-backchannel-authentication-flow).

In a Rich Authorization Request, the `authorization_details` parameter is a JSON array of objects. You can render the `authorization_details`, containing transaction details, in a consent prompt to the user in <Tooltip tip="Multi-factor authentication (MFA): User authentication process that uses a factor in addition to username and password such as a code via SMS." cta="View Glossary" href="/docs/glossary?term=Multi-factor+Authentication">Multi-factor Authentication</Tooltip> challenges.

To configure Rich Authorization Requests for a <Tooltip tip="Resource Server: Server hosting protected resources. Resource servers accept and respond to protected resource requests." cta="View Glossary" href="/docs/glossary?term=resource+server">resource server</Tooltip>, you must:

1. Configure the consent policy for the resource server.
2. La politique de consentement détermine quand et comment Auth0 affiche l’invite de consentement à l’utilisateur final. for the resource server.
3. Configure the resource server to accept Rich Authorization Requests.

## Un modèle de [pages de connexion universelles personnalisées](/login/universal-login/universal-experience/customize-templates). Consultez le document [Modèles de pages API](/customize/universal-login-pages/universal-login-page-templates#page-templates-api) pour savoir comment personnaliser un modèle de page de connexion universelle à l’aide du Management API.

Configurer le serveur de ressources

Définir la politique de consentement

<table class="table"><thead>
<tr>
<th><strong>Is it a Rich Authorization Request?</strong></th>
<th><strong>MFA Required?</strong></th>
<th><strong>Consent policy is <code>standard</code> or undefined</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>No</td>
<td>No</td>
<td>Standard consent is shown unless there is a grant that includes the requested access.</td>
</tr>
<tr>
<td>Yes</td>
<td>No</td>
<td>Customized consent is shown.</td>
</tr>
<tr>
<td>Yes</td>
<td>Yes, with an authentication factor that is not a push notification</td>
<td>Customized consent is shown after the user fulfills the MFA challenge.</td>
</tr>
<tr>
<td>Yes</td>
<td>Yes, with a push notification factor</td>
<td>No consent is shown. The consent is handled in the mobile application that receives the push notification challenge.</td>
</tr>
</tbody>
</table>

<Tabs><Tab title="Auth0 Dashboard">

Set the consent policy in your API settings using the Auth0 Dashboard.

1. Navigate to [Auth0 Dashboard > Applications > APIs](https://manage.auth0.com/#/apis).
2. Select the **Settings** tab.
3. Under **Access Settings**, choose the **Standard** consent policy.
4. Save your changes.

<Frame>![Dashboard > Applications > APIs > Settings > Access Settings](/images/cdy7uua7fh8z/3gr8Sf98gh8CUkjnlodNk/cf33985b1e5b62082d46e4f5c8bbed6f/Screenshot_2025-03-31_at_8.22.45_PM.png)</Frame>

</Tab><Tab title="Management API">

To set the consent policy for a resource server or API using the Management API, send a `PATCH` request to the [Update a resource server](https://auth0.com/docs/api/management/v2/resource-servers/patch-resource-servers-by-id) endpoint. In the `PATCH` request, set the `consent_policy` to `standard`:

```bash wrap lines
curl --location --request PATCH 'https://$tenant/api/v2/resource-servers/$resource-server-id' \ --header 'Authorization: Bearer $management_access_token' \ --header 'Content-Type: application/json' \ --data-raw '{ "consent_policy": "standard" }'
```






</Tab></Tabs>

### Register authorization_details types

Le serveur de ressources (c’est-à-dire l’API) enregistré dans un locataire Auth0 doit définir à l’avance la politique de consentement à appliquer pour autoriser la demande RAR.

La politique de consentement par défaut est `null `ou non définie. Auth0 prend également en charge la politique de consentement `transactional-authorization-with-mfa` qui couvre le cas d’utilisation de l’autorisation transactionnelle qui nécessite toujours le consentement explicite du propriétaire de la ressource (c’est-à-dire l’utilisateur final). Le tableau ci-dessous résume le comportement de la politique de consentement d’Auth0 :

* Enregistrer les types `authorization_details`.
* Le serveur de ressources doit enregistrer les types `authorization_details` qui sont acceptés, de la même manière qu’il enregistre les permissions autorisées. Assurez-vous que `authorization_details` respecte ces exigences :
* Maximum de 5 Ko
* La valeur doit être un jeton JSON valide
* Doit être un tableau d’objets
* Maximum de 5 entrées dans le tableau
* Chaque objet doit avoir une propriété `type` (qui est préenregistrée sur l’API)
* Maximum de 10 propriétés par objet
* La longueur maximale des noms de propriété est de 255
* Property names can only contain the following characters: `a-zA-Z0-9_.-`

You can register `authorization_details` types with the [Auth0 Dashboard](https://manage.auth0.com/) or [Management API](https://auth0.com/docs/api/management/v2).

<Tabs><Tab title="Auth0 Dashboard">

You can add `authorization_details` in the Auth0 Dashboard.

1. Navigate to [Auth0 Dashboard > Applications > APIs](https://manage.auth0.com/#/apis).
2. Select the **Permissions** tab.
3. Under **Add an Authorization Details type**, you can add multiple `authorization_details` types for your resource server. Enter an `authorization_details` type and then select the **+Add** option.

You can see the `authorization_details` types for your resource server under **List of Authorization Details Types**:

<Frame>![](/images/cdy7uua7fh8z/6qRpmbZiqaU8pSFDuWzUAy/951c827a307791de8df9cecd8f817351/Screenshot_2025-04-07_at_3.45.36_PM.png)</Frame>

</Tab><Tab title="Management API">

To register  `authorization_details` types with the Management API, you need to send a `PATCH` request to the [Update a resource server](https://auth0.com/docs/api/management/v2/resource-servers/patch-resource-servers-by-id) endpoint.

The following code sample adds the `payment_initiation` and `money_transfer` types under `authorization_details` for a resource server:

```bash lines
curl --location --request PATCH 'https://$tenant/api/v2/resource-servers/$resource-server-id' \
  --header 'Authorization: Bearer $management_access_token' \
  --header 'Content-Type: application/json' \
  --data-raw '{
  "authorization_details": [{"type": "payment_initiation"}, {"type": "money_transfer"}]
  }'
```






</Tab></Tabs>

### Create a new resource server with authorization_details types

Vous pouvez enregistrer des types `authorization_details` avec l’[Auth0 Dashboard]() ou avec la [Management API]().

```bash lines
curl --location --request POST 'https://$tenant/api/v2/resource-servers' \
  --header 'Authorization: Bearer $management_access_token' \
  --header 'Content-Type: application/json' \
  --data-raw '{
  "name": "Payments API",
  "identifier": "https://payments.api/",
  "consent_policy": "standard",
  "authorization_details": [{"type": "payment_initiation"}]
  }'
```