---
og:description: Learn how to set up your customer edge for mTLS authentication.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Configurer le réseau de périphérie client
og:url: https://auth0.com/docs/
permalink: set-up-the-customer-edge
title: Configurer le réseau de périphérie client
twitter:description: Learn how to set up your customer edge for mTLS authentication.
twitter:title: Configurer le réseau de périphérie client
---

This section explains how to set up the customer edge network. The specifics of configuring different edge networks are out of the scope of this document. For more information, see the [custom domains](/docs/customize/custom-domains) documentation.

The customer’s edge domain must match the registered <Tooltip tip="Custom Domain: Third-party domain with a specialized, or vanity, name." cta="View Glossary" href="/docs/glossary?term=custom+domain">custom domain</Tooltip>. If mTLS endpoint aliases are enabled, the customer edge must also accept requests on the subdomain used by the mTLS aliases. All requests that arrive at the mTLS subdomain should request a client TLS certificate and verify that the certificate is registered for use. For more information, see [Verify the client certificate](#verify-the-client-certificate).

L’établissement de la liaison mTLS se produit avant que l’infrastructure de périphérie puisse déterminer le chemin demandé. Une fois la session TLS établie, le client peut souhaiter inspecter le chemin et transmettre uniquement les demandes pour les points de terminaison suivants :

* `/oauth/token`
* `/oauth/par`
* `/userinfo`

If your installation aims for FAPI compliance, additional requirements related to TLS are placed on your edge network. For more information, see the [FAPI1 Baseline](https://openid.net/specs/openid-financial-api-part-1-1_0.html#tls-and-dnssec-considerations), [FAPI1 Advanced](https://openid.net/specs/openid-financial-api-part-2-1_0.html#tls-considerations), and [FAPI2 Baseline](https://openid.net/specs/fapi-2_0-baseline.html#name-network-layer-protections) specifications.

## Vérifier le certificat client

Le réseau de périphérie client effectue des validations qui dépendent du type attendu du certificat client. Pour éviter les problèmes et pièges de sécurité courants, utilisez lorsque cela est possible, une bibliothèque de validation de certificats agréée. Lorsque la validation du certificat client échoue, le comportement attendu dépend de l’installation et sort du cadre de ce document.

### Certificats signés par une autorité de certification (CA)

Lorsqu’un certificat est signé par une autorité de certification, la chaîne de confiance du certificat doit être vérifiée, y compris le certificat racine. Le certificat peut également être comparé à une liste d’autorisations ou de refus pour garantir que le certificat est enregistré et n’a pas été révoqué. N’utilisez pas une autorité de certification publique (par exemple LetsEncrypt) pour signer vos certificats clients, car il existe un risque d’usurpation de l’identité de vos clients.

### Certificats auto-signés

Les certificats auto-signés ne sont pas soutenus par une chaîne de confiance, une chaîne de certificats ne peut donc pas être vérifiée. Au lieu de cela, l’empreinte du certificat peut être vérifiée par rapport à une base de données de certificats enregistrés ou transmise directement à Auth0 pour effectuer cette vérification.

## Transmettre la demande

Once the certificate is verified, requests are forwarded along with several special headers from the customer to the same endpoint on the custom domain’s forwarding target at [Auth0's edge network](/docs/customize/custom-domains/self-managed-certificates). The forwarded request must include the following headers:

* La clé API de domaine personnalisé comme en-tête `cname-api-key`.
* Le certificat client comme en-tête `client-certificate`. **Remarque** : Étant donné que les en-têtes HTTP doivent être du texte, le certificat doit être converti en un composant URL codé PEM. La valeur de l’en-tête est limitée à 4096 octets. Par conséquent, seul le premier certificat de la chaîne doit être transmis à Auth0.
* L’état de vérification de l’autorité de certification du certificat client sous la forme de l’en-tête `client-certificate-ca-verified`. L’en-tête `client-certificate-ca-verified` peut avoir les valeurs suivantes :

  + **SUCCÈS** : indique que le certificat client est valide et a été vérifié par une autorité de certification.
  + **FAILED:** indicates that the presented client certificate is valid, however the certificate's trust chain has NOT been verified by a certificate authority. In other words, it’s a self-signed certificate. May include an optional failure reason.

Si votre configuration prend uniquement en charge les certificats signés par une autorité de certification, vous n’avez pas besoin de transférer les certificats auto-signés au réseau de périphérie Auth0 et vous pouvez mettre fin à la demande plus tôt. Cependant, si vos clients sont configurés pour s’authentifier à l’aide de certificats auto-signés, Auth0 s’attend à ce que votre réseau de périphérie envoie un en-tête `client-certificate-ca-verified:FAILED`. En fonction de cette valeur d’en-tête, Auth0 sait quelle méthode d’authentification client a été utilisée et quelles informations d’identification client doivent être vérifiées.

## Learn more

* [Authenticate with mTLS](/docs/get-started/authentication-and-authorization-flow/authenticate-with-mtls)
* [Configure mTLS Authentication for a Tenant](/docs/get-started/applications/configure-mtls/configure-mtls-for-a-tenant)
* [Configure mTLS Authentication for a Client](/docs/get-started/applications/configure-mtls/configure-mtls-for-a-client)