---
og:description: An integration guide to multi-tenant architectures that must accommodate
  application instances for multiple Auth0 Organizations.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Architecture à organizations multiples
og:url: https://auth0.com/docs/
permalink: multiple-organization-architecture
sidebarTitle: Architecture à organizations multiples
title: Architecture à organizations multiples
twitter:description: An integration guide to multi-tenant architectures that must
  accommodate application instances for multiple Auth0 Organizations.
twitter:title: Architecture à organizations multiples
---

Il existe plusieurs cas d’utilisation où les utilisateurs appartiennent à des organizations tierces qui se sont inscrites aux services que vous fournissez. Ces utilisateurs peuvent être des employés d’une organization tierce, des clients, ou une combinaison des deux. Quelle que soit la situation, ce guide vous fournira un aperçu de haut niveau des cas d’utilisation courants pour les applications multilocataires.

Les applications B2B s’efforcent de créer une expérience utilisateur agréable pour les employés et les clients des entreprises qu’elles servent. Pour cela, les fournisseurs de services dans les environnements B2B permettent souvent à chaque organization qui utilise leur service d’ajouter une certaine identité visuelle à celui-ci. Par exemple, supposons que vous travaillez pour AwesomeSaaS (une société de logiciels SaaS) et que votre entreprise utilise Human0, une application RH pour la gestion des avantages sociaux et d’autres fonctions RH. Vous accédez à votre application RH, et lorsque vous vous connectez, l’expérience de connexion est personnalisée pour afficher le logo d’AwesomeSaaS et utiliser les couleurs d’AwesomeSaaS.

En tant que fournisseur de services B2B concevant une intégration avec Auth0, vous devrez envisager si vos clients (c’est-à-dire, les organizations tierces) autoriseront ou non les utilisateurs d’autres organizations à se connecter à leur instance de l’application, et si ces utilisateurs doivent être partagés entre les organizations ou isolés à une seule organization.

Pour illustrer les différents cas d’utilisation. Travel0 est une entreprise fictive qui propose des services d’agence de voyage en ligne. Travel 0 possède plusieurs applications, mais, pour les besoins de ce travail, nous nous concentrerons sur deux d’entre elles, qui sont commercialisées directement auprès des entreprises.

* ** Réservations corporatives Travel0** : fournit aux organizations une application en ligne où leurs employés peuvent se connecter et réserver des déplacements liés au travail. Les organizations clientes de cette aplication comprennent :

  + **Hoekstra & Associates** : un petit cabinet d’avocats avec seulement quelques employés. Ils ne disposent pas d’un service informatique et n’ont ni le temps ni les ressources pour apprendre à configurer un fournisseur d’identité d’entreprise (IdP).
  + **Gupta & Smith Law** : un cabinet d’avocats plus important, mais qui n’a également pas de service informatique et n’a ni le temps ni les ressources pour apprendre à configurer un fournisseur d’identité d’entreprise (IdP).
  + **MetaHexa Bank** : une grande organization financière. Ils fournissent des services bancaires et d’assurance et disposent de leur propre fournisseur d’identité (IdP).
  + **Many Student University (MSU)** : une grande université avec plusieurs campus, où chaque campus possède son propre fournisseur d’identité (IdP).
* **Travel0 Adventure Management** : permet aux organizations de créer et de commercialiser des aventures telles que le rafting en eau vive. Les guides (qui sont des travailleurs indépendants ou des employés de certaines organizations de voyage ou d’événements tierces) peuvent utiliser cette application pour créer un compte et gérer les programmes pour diriger des aventures. Les organizations clientes de cette aplication comprennent :

  + **AdventureZ** : un grand organisateur de circuits/événements. Ils ont leur propre fournisseur d’identité (IdP) qu’ils utilisent pour leurs employés. Ils ont rarement besoin de pigistes car ils ont suffisamment de guides en interne, dont certains ne travaillent que pendant les périodes chargées. Ils permettent également à leurs guides de travailler en tant que pigistes pour d’autres entreprises.
  + **Rocky Mountain High Adventures** : un nouveau groupe faisant son entrée sur le marché pour la première fois. Les cofondateurs dirigent des visites. Ils font principalement appel à des pigistes pour obtenir de l’aide pendant les périodes chargées.
  + **Suzie’s Rafting and Ziplines** : cette entreprise existe depuis longtemps. Ils ont une équipe de guides gérant la plupart de leurs événements, mais ils emploient également des pigistes lorsqu’ils sont occupés.

## Terminologie

Plusieurs des mots utilisés dans les instructions fournies peuvent avoir plusieurs significations différentes. Prenez un moment pour lire chaque définition afin de savoir clairement, en lisant les exemples, qui remplit quel rôle :

* **Auth0 Tenant** (otherwise known as **<Tooltip tip="Authorization Server: Centralized server that contributes to defining the boundaries of a user’s access. For example, your authorization server can control the data, tasks, and features available to a user." cta="View Glossary" href="/docs/glossary?term=Authorization+Server">Authorization Server</Tooltip>**)**:** Tenant that you create in Auth0. It is an instance of an Authorization Server and represents one or more user domains.
* **Auth0 Organizations:** Refers to the Auth0 Tenant feature designed to support organizations. An instance of an [Auth0 Organization](/docs/manage-users/organizations/organizations-overview) will typically refer to a specific customer of yours.
* **Employee**: Person who works for your company. They will typically have an account in your <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=Identity+Provider">Identity Provider</Tooltip> (IdP) and may need admin access to one or more Organization Tenant instances. We will only use the term Employee to refer to Employees of your company. For users who belong to your customers' Organizations, see **Organization User**.
* **Fournisseur d’identité (IdP)** : service, comme Auth0, qui gère l’authentification des utilisateurs et, en option, fournit des informations de profil utilisateur et/ou la gestion des identifiants. Le service peut également fournir la délégation de la validation des identifiants et la gestion des profils via l’utilisation d’un fournisseur d’identité tiers (tel que Microsoft Entra ID, Google, Facebook, etc.).
* **Organization:** Third-party company that is one of you customers. You may refer to an organization instance that is created for your application as a tenant; we will refer to it as an **Organization Tenant** to avoid confusing it with an Auth0 Tenant.
* **Locataire d’organization** : fait référence à un locataire qui peut être créé pour votre client dans le cadre de votre abonnement/fourniture d’application. Cela est différent d’un locataire Auth0.
* **Utilisateur de l’organization** : personne qui se connecte à l’application en tant que membre d’une organization. Il peut s’agir d’un employé (de l’organization) ou d’un client. Tout utilisateur mentionné dans un contexte organisationnel peut être considéré comme un utilisateur de l’organization.

## Isolation des utilisateurs

Il est important de déterminer le type d’application que vous fournissez en matière d’isolement des utilisateurs de l’organization. Il existe deux approches fondamentales concernant la manière et l’endroit où chacun de ces utilisateurs est stocké : Les [utilisateurs isolés par organization](#users-isolated-by-organization) et les [utilisateurs partagés entre organizations](#users-shared-between-organizations).

<Frame>![Architecture Scenarios - Multitenancy - Diagram - Multiple organizations shared decision](/images/cdy7uua7fh8z/5PIUlQgG5PmnzaWjtD6J5t/9956e135a587611c234ece90ab7e3af4/multiple-org-shared-decision.png)</Frame>

Le diagramme de flux ci-dessus décrit le processus de prise de décision. Vous devez également déterminer si un [accès de type administratif](#administrative-access-to-organizations) est requis pour une instance d’organization. Cela peut être pour un employé de votre organization qui agit en tant qu’administrateur pour une ou plusieurs organizations, ou pour un autre tiers fournissant des services de centre d’assistance ou services similaires.

Les sections suivantes fournissent des détails pour chaque approche de l’isolement des utilisateurs de l’organization. Prêtez une attention particulière aux scénarios atypiques associés à chacun (c’est-à-dire lorsque les utilisateurs ont besoin d’accéder à plus d’une organization), car ces types de cas d’utilisation déterminent souvent quelle approche correspond le plus étroitement à vos exigences.

### Utilisateurs isolés par organization

Chaque organization a son propre ensemble d’utilisateurs, et les utilisateurs ne peuvent pas et ne devraient pas pouvoir accéder à d’autres organizations. S’ils tentent de le faire, ils devraient être rejetés comme non autorisés. Si vous le désirez, vous pouvez contraindre vos utilisateurs à créer un compte distinct pour chaque organization à laquelle ils appartiennent. En tant que personne, ils seraient considérés comme au moins deux utilisateurs différents.

Dans ce scénario, un utilisateur est directement lié à l’organzsation à laquelle il appartient ou à laquelle il a accès. Les utilisateurs ont deux options pour se connecter : A) ils créent des identifiants dans le stockage d’identité provisionné pour l’organization appropriée (c’est-à-dire la connexion de base de données Identifiant utilisateur/mot de passe dans votre locataire Auth0), ou B) ils se connectent en utilisant le fournisseur d’identité (IdP) de leur propre organization. Dans ce cas d’utilisation, il ne serait pas logique qu’un utilisateur fasse partie de plusieurs organizations, et la meilleure pratique consiste à créer une identité distincte pour chaque organization. Voici un exemple de ce à quoi pourrait ressembler la réservation d’entreprise Travel0, représenté sous forme de diagramme :

<Frame>![Architecture Scenarios - Multitenancy - Diagram - Isolated users](/images/cdy7uua7fh8z/42jUyjrrYapzZaxEsCTvw6/3722ece70744d0853a39e0c51fe6c380/isolated-users.png)</Frame>

Sally est un utilisateur typique : elle est employée chez MetaHexa Bank et ne peut accéder qu’à l’instance de réservation d’entreprise de MetaHexa Bank sur Travel0.

Pat, par contre, est une utilisatrice atypique. Pat est une adjointe (technicienne) juridique indépendante. Elle travaille donc à la fois pour Hoekstra & Associates et Gupta & Smith Law. Elle utilisera une identité d’utilisateur distincte pour chaque entreprise lorsqu’elle se connectera à la plateforme de réservation d’entreprise Travel0. Cette méthode présente plusieurs avantages, notamment la réduction des risques d’erreurs en obligeant Pat à créer deux personnalités distinctes, une pour chaque cabinet d’avocats. Lorsque Pat réserve un voyage, elle doit se connecter séparément à l'instance dédiée à l'organization afin d'effectuer la réservation.

La situation de Pat est probablement un cas d’utilisation rare. Cependant, elle illustre ce qui doit être pris en compte lors de la détermination des exigences d’isolation des utilisateurs. Si vous souhaitez isoler les utilisateurs de l’organization à laquelle ils sont associés, cela nécessite la création d’identités d’utilisateurs distinctes. Dans ce cas, il y a une identité distincte pour Pat lorsqu’elle accède à l’instance de réservation d’entreprise de Hoekstra & Associates, et une autre pour accéder à l’instance de réservation d’entreprise de Gupta & Smith Law.

#### Cas d’utilisation lors de l’isolement par organization

Les applications qui isolent les utilisateurs par organization prennent généralement en charge trois cas d’utilisation différents. Pour les exemples de cette section, nous utiliserons les scénarios d’application de réservation d’entreprise Travel0 décrits dans notre introduction. Travel0 est le client Auth0.

* **Organizations that either don’t have their own IdP or don’t know how to use it**. These tend to be smaller organizations that don’t have an IT department available to configure <Tooltip tip="Single Sign-On (SSO): Service that, after a user logs into one applicaton, automatically logs that user in to other applications." cta="View Glossary" href="/docs/glossary?term=Single+Sign-On">Single Sign-On</Tooltip> (SSO) with the organization’s Identity Provider (IdP), or else don’t have an organization IdP fit for the task. In our Travel0 Corporate Booking example, Hoekstra & Associates is such an organization.
* Les **organizations qui préfèrent configurer leur propre IdP** afin que leurs employés n’aient pas à créer un nouvel ensemble d’identifiants pour votre application. La plupart des organiszations appartiennent à cette catégorie. Dans notre exemple de réservation corporative Travel0, MetaHexa Bank est une telle organization.
* **Les organizations qui nécessitent plusieurs options d’authentification**. Des exemples de ce type d’organization comprennent celles qui acquièrent fréquemment de nouvelles entreprises, des organizations comme les écoles qui permettent au personnel et aux parents de se connecter à la même application, et des organizations qui invitent des partenaires ou des clients à se connecter à leur instance d’application (c’est-à-dire les organizations interentreprises orienté client). Dans nos exemples, Many Student University (MSU) serait une telle organization.

For the first two types of organizations, the solution tends to be fairly straightforward. These organizations are considered Single IdP organizations, and the approach is almost always the same. To learn more, read [Single Identity Provider Organizations](/docs/get-started/architecture-scenarios/multiple-organization-architecture/single-identity-provider-organizations).

Organizations that have more than one IdP for the organization trend toward a higher order of intricacy, but there are a few approaches that can minimize complexity. To learn more, read [Multiple Identity Provider Organizations](/docs/get-started/architecture-scenarios/multiple-organization-architecture/multiple-idp-orgs).

### Utilisateurs partagés entre les organizations

Un utilisateur peut être affilié à plusieurs organizations, et il serait pratique pour lui de ne pas avoir à posséder un identifiant/compte distinct lorsqu’il navigue d’une organization à l’autre. Les organizations peuvent toujours utiliser leur propre fournisseur d’identité dans de tels cas.

<Frame>![Architecture Scenarios - Multitenancy - Diagram - Shared users](/images/cdy7uua7fh8z/3z920KV1sDj6v0xUM1PLy4/fb82e123670dd1f0abd789f5b0d59ca1/shared-users.png)</Frame>

Dans ce scénario, l’utilisateur n’est plus directement lié à l’organization à laquelle il appartient ou à laquelle il a accès. Les utilisateurs ont désormais deux options pour se connecter : A) ils créent leurs propres identifiants dans le stockage d’identité généralement fourni (c’est-à-dire dans une seule base de données « Identifiant utilisateur/mot de passe » dans votre locataire Auth0), au lieu d’un magasin d’identité spécifiquement alloué à l’organization dans votre locataire Auth0, ou B) ils se connectent en utilisant le fournisseur d’identité (IdP) de leur propre organization. Une fois qu’un utilisateur a établi son identité, il se voit accorder l’autorisation d’accéder à chacune des organizations auxquelles il devrait avoir accès. Cela peut se traduire par l’accès à une seule organization ou à plusieurs. Les utilisateurs doivent comprendre qu’ils peuvent utiliser les mêmes identifiants pour se connecter à l’instance de chaque organization. En utilisant la gestion des aventures de Travel0 comme exemple, le diagramme ci-dessus montre à quoi cela pourrait ressembler.

Jonno est un utilisateur typique. Jonno est un employé de Suzie’s Rafting and Ziplines. Jonno peut uniquement se connecter à l’instance de gestion des aventures de Travel0 fournie pour créer et guider des aventures pour Suzie’s Rafting and Ziplines. Les identifiants de Jonno sont stockés soit dans une connexion de base de données associée avec le locataire Auth0 Voyage0, soit dans l’IdP de Suzie’s Rafting and Ziplines (selon qu’ils souhaitent ou non gérer leurs identités utilisateur).

Sumana est une utilisatrice atypique. Elle est employée par AdventureZ, mais, puisque cette entreprise coordonne aussi les possibilités de travail à la pige pour les petites sociétés de guides durant la haute saison, Sumana a été invitée à travailler comme pigiste pour Rocky Mountain High Adventures. Elle peut ainsi accéder aux instances d’AdventureZ et de Rocky Mountain de Travel0 Adventure Management. Cependant, comme elle n'a jamais été invitée comme guide chez Suzie's Rafting and Ziplines, elle n'est pas autorisée à accéder à cette instance.

Sumana doit avoir la même identité pour les deux organizations parce que le service de guide implique l'utilisation d'un système d'évaluation et que les évaluations de Sumana doivent être transférées et combinées entre les organizations avec lesquelles elle travaille. Les identifiants de Sumana, comme ceux de Jonno, sont stockés soit dans une connexion de base de données employée par le locataire Auth0 de Travel0, soit dans l'IdP d'AdventureZ (selon qu'AdventureZ souhaite ou non gérer les identités des utilisateurs). L'endroit où ses identifiants sont stockés n'a aucune incidence sur les instances de l'organization auxquelles elle a accès.

### Accès administratif aux organizations

There are scenarios where you will need to provide administrative access across your organizations. Typically, this will be for administrative tasks outside of user Profile/Account management (as described in [Profile Management](/docs/get-started/architecture-scenarios/multiple-organization-architecture/single-identity-provider-organizations/profile-management)), and you may need to provide access to your employees as well as to third parties.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

**Best Practice**

Always enable Multi-factor Authentication (MFA) for Auth0 Tenant administrators who are provided access via the Auth0 Dashboard. Note that you must follow a different process to enable MFA for an Auth0 Tenant administrator than you do to enable MFA for the Auth0 Tenant itself. To learn how to enable MFA for an Auth0 Tenant Administrator, see [Manage Dashboard Access with Multi-factor Authentication](/docs/get-started/manage-dashboard-access/add-change-remove-mfa).

</Callout>

The <Tooltip tip="Auth0 Dashboard: Auth0's main product to configure your services." cta="View Glossary" href="/docs/glossary?term=Auth0+Dashboard">Auth0 Dashboard</Tooltip> can be configured via [role-based access control](/docs/get-started/manage-dashboard-access/feature-access-by-role), which will allow you to define specific roles for your employees across your Auth0 Tenant deployment as a whole. You can even leverage your own corporate IdP to provide Auth0 Tenant Administrator authentication for your employees, as well as extended Tenant Administrator access to trusted third-parties.

For other administrative access, you will typically want to build your own API and/or application, which you will use in conjunction with the Auth0 <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>. Providing administrative access to your Auth0 Tenant via the Auth0 Dashboard for a wide range of users is not recommended. While building such an application/API is beyond the scope of this document, it’s recommended that you seek help from [Auth0 Professional Services](/docs/get-started/professional-services) before embarking on such an endeavor.

## Learn more

* [Single Identity Provider Organizations](/docs/get-started/architecture-scenarios/multiple-organization-architecture/single-identity-provider-organizations)
* [Multiple Identity Provider Organizations](/docs/get-started/architecture-scenarios/multiple-organization-architecture/multiple-idp-orgs)