---
og:description: Describes how to build an assertion to use Private Key JWT Authentication.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Authentification avec clé privée JWT
og:url: https://auth0.com/docs/
permalink: authenticate-with-private-key-jwt
title: Authentification avec clé privée JWT
twitter:description: Describes how to build an assertion to use Private Key JWT Authentication.
twitter:title: Authentification avec clé privée JWT
---

Vous devez effectuer deux étapes lorsque vous vous authentifiez avec `private_key_jwt` :

1. Construire l’assertion client. Cette assertion est un jeton Web JSON signé par la clé privée lorsque vous avez généré la paire de clés. Pour savoir comment générer une paire de clés, lisez [Configurer l’authentification par clé privée JWT](/applications/configure-private-key-jwt).
2. Utiliser l’assertion pour vous authentifier auprès d’Auth0.

## Construire l’assertion

Vous pouvez utiliser l’une des trousses SDK Auth0 pour qu’elle crée une assertion automatiquement pour vous. Si vous n’utilisez pas nos trousses SDK, vous devrez créer l’assertion vous-même.

L’assertion est un jeton Web JSON (JWT) qui doit contenir les propriétés et les demandes suivantes :



* En-tête

* `alg` : L’algorithme utilisé pour signer l’assertion. L’algorithme doit correspondre à l’algorithme spécifié lors de la création de l’identifiant de l’application.
* `kid`**:** (facultatif) Le `kid` de l’identifiant généré par Auth0. Le `kid` est créé lors de la création de l’identifiant.
* Charge utile

* `iss`**:** L’ID client de votre application. Vous trouverez cette valeur dans les paramètres de votre application sous [Auth0 Dashboard > Applications > Applications](https://manage.auth0.com/dashboard/#/applications/), onglet **Settings (Paramètres)**.
* `sub`**:** L’ID client de votre application. Vous pouvez également trouver cette valeur dans les paramètres de votre application. Vous trouverez cette valeur dans les paramètres de votre application sous [Auth0 Dashboard > Applications > Applications](https://manage.auth0.com/dashboard/#/applications/), onglet **Settings (Paramètres)**.
* `aud`**: **L’URL du locataire Auth0 ou du domaine personnalisé qui reçoit l’assertion. Par exemple : `https://{yourTenant}.auth0.com/`**. **Inclure la barre oblique finale.
* `iat ` (facultatif) et `exp` : Les affirmations « Issued At » (Émis le) et « Expiration » (expiré) sont définies sur les horodatages corrects. L’assertion client est un jeton à usage unique, et nous recommandons le délai d’expiration le plus court possible. Auth0 prend en charge un maximum de 5 minutes pour la durée de vie d’un jeton.
* `jti` : Un identifiant de demande unique créé par le client. Nous recommandons d’utiliser le format UUID (Identifiant universellement unique).

Le jeton doit ensuite être signé avec la clé privée que vous avez générée lorsque vous avez créé ou configuré votre application pour l’authentification par clé privée JWT. Pour savoir comment procéder, consultez la spécification [Jeton Web JSON](https://www.rfc-editor.org/rfc/rfc7519#section-7.1).

Nous vous recommandons de construire le jeton à l’aide d’outils standard ou de bibliothèques tierces qui prennent en charge cette fonctionnalité dès le départ, plutôt que de l’implémenter vous-même à partir de zéro.  Pour en savoir plus sur les bibliothèques prises en charge, lisez la liste sur [JWT.io](https://jwt.io/libraries).

### Exemple

Dans l’exemple ci-dessous, le script Node.js utilise un [jose package](https://github.com/panva/jose) pour générer l’assertion :



Exemple d’assertion client signée avec une clé privée :

Correspond à :



Après avoir généré le jeton JWT avec les informations requises, vous êtes prêt à authentifier votre application par rapport à Auth0.

## Échanger une assertion contre des jetons d’accès



Pour échanger l’assertion JWT contre un jeton d’accès, appelez le [point de terminaison](https://auth0.com/docs/api/authentication#authenticate-user) de jeton de l’Authentication API avec les paramètres suivants :

* `$client_assertion`: Affirmation JWT
* `$resource_server_identifier` : identifiant du serveur de ressources. Pour en savoir plus, lisez [Enregistrer des API](/get-started/set-up-apis).



## Points de terminaison pris en charge

Outre le point de terminaison [https://$tenant/oauth/token](https://auth0.com/docs/api/authentication#get-token), les points de terminaison suivants de l’Authentication API Auth0 prennent en charge l’authentification `private_key_jwt` pour les applications configurées :

* [POST /oauth/revoke](https://auth0.com/docs/api/authentication#revoke-refresh-token)
* [POST /mfa/challenge](https://auth0.com/docs/api/authentication#challenge-request)
* [POST /passwordless/start](https://auth0.com/docs/api/authentication#get-code-or-link)

## Limites des assertions

La longueur maximale de l’assertion JWT est de 2048 octets.

Les demandes contenues dans l’assertion sont soumises aux limites suivantes :

* `iss` : 64 caractères
* `sub` : 64 caractères
* `jti` : 64 caractères
* `alg` : 16 caractères