---
og:description: Learn how to use JWT-Secured Authorization Requests (JAR) with the
  Authorization Code Flow.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Flux de code d’autorisation avec les demandes d’autorisation sécurisées
  par JWT (JAR)
og:url: https://auth0.com/docs/
permalink: authorization-code-flow-with-jar
title: Flux de code d’autorisation avec les demandes d’autorisation sécurisées par
  JWT (JAR)
twitter:description: Learn how to use JWT-Secured Authorization Requests (JAR) with
  the Authorization Code Flow.
twitter:title: Flux de code d’autorisation avec les demandes d’autorisation sécurisées
  par JWT (JAR)
---

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

To use Highly Regulated Identity features, you must have an Enterprise Plan with the Highly Regulated Identity add-on. Refer to [Auth0 Pricing](https://auth0.com/pricing/) for details.

</Callout>

[JWT-Secured Authorization Request (JAR)](https://datatracker.ietf.org/doc/html/rfc9101) is an extension of the OAuth2 protocol and adds a layer of security to protect the integrity of authorization request parameters.

## La [demande d’autorisation sécurisée par JWT (JAR)]() est une extension du protocole OAuth2 et ajoute une couche de sécurité pour protéger l’intégrité des paramètres de la demande d’autorisation.

To use JAR, you must first [generate an RSA key pair](/docs/secure/application-credentials/generate-rsa-key-pair). Then, register the public key with Auth0 as explained in [Configure JWT-Secured Authorization Requests](/docs/get-started/applications/configure-jar).

During the authorization code flow, the client application takes the parameters they would like to send to the `/authorize` or `/oauth/par` endpoints and wraps them in a [JSON Web Token (JWT)](/docs/secure/tokens/json-web-tokens), which they then sign using the private key.

The <Tooltip tip="Authorization Server: Centralized server that contributes to defining the boundaries of a user’s access. For example, your authorization server can control the data, tasks, and features available to a user." cta="View Glossary" href="/docs/glossary?term=authorization+server">authorization server</Tooltip> verifies the signature with your application's public key. If the signature is valid, the authorization server extracts the request parameters from JAR and processes the request as usual. As a result, the parameter values are guaranteed to come from a known source, and cannot be tampered with or accessed by intermediaries.

## Le serveur d’autorisation vérifie la signature avec la clé publique de votre application. Si la signature est valide, le serveur d’autorisation extrait les paramètres de la demande du JAR et traite la demande comme d’habitude. Par conséquent, les valeurs des paramètres sont garanties comme provenant d’une source connue et ne peuvent pas être modifiées ou consultées par des intermédiaires

To generate a JAR request, you need to first create a [JSON Web Token (JWT)](/docs/secure/tokens/json-web-tokens). Use the [Auth0 JWT library](https://jwt.io/libraries) to help you generate a <Tooltip tip="JSON Web Token (JWT): Standard ID Token format (and often Access Token format) used to represent claims securely between two parties." cta="View Glossary" href="/docs/glossary?term=JWT">JWT</Tooltip> in your preferred language.

### Pour générer une requête JAR, vous devez d’abord créer un [jeton Web JSON (JWT)](/security/tokens/json-web-tokens). Utilisez la [bibliothèque Auth0 JWT]() pour vous aider à générer un JWT dans votre langue préférée.

En-tête

* Pour une requête JAR, l’en-tête JWT doit contenir les champs suivants :
* `alg` : L’algorithme utilisé pour signer le JWT. Doit être RS256, RS384 ou PS256.

The header may also contain a `kid` field that identifies the key used to sign the JWT. If a `kid` is present, Auth0 will look for a public key registered during [JAR configuration](/docs/get-started/applications/configure-jar) that has a matching key ID and use that key to verify the JWT’s signature.

### L’en-tête peut également contenir un champ `kid` qui identifie la clé utilisée pour signer le JWT. Si la valeur `kid` est présente, Auth0 recherchera une clé publique enregistrée lors de la [configuration du JAR](/configure-jar) et dont l’ID correspond à la clé, et utilisera cette clé pour vérifier la signature du JWT.

Charge utile

* La charge utile JWT doit contenir les demandes suivantes :
* `aud`: This must be your tenant’s domain, with the protocol and a trailing forward slash. For example, `https://your_domain.auth0.com/`

`aud` : doit être le domaine de votre locataire, avec le protocole et une barre oblique de fin. Par exemple, `

* Le JWT doit également contenir tous les paramètres obligatoires pour l’appel à `/authorize`. Par exemple :
* `response_type`: Indicates to Auth0 which <Tooltip tip="OAuth 2.0: Authorization framework that defines authorization protocols and workflows." cta="View Glossary" href="/docs/glossary?term=OAuth+2.0">OAuth 2.0</Tooltip> flow you want to perform. Use `code` for Authorization Code Grant Flow.

The JWT may contain any of the optional parameters for the <Tooltip tip="Authorization Flow: Authorization grant (or workflow) specified in the OAuth 2.0 framework." cta="View Glossary" href="/docs/glossary?term=authorization+flow">authorization flow</Tooltip> that is being requested, such as `audience`, `scope`, `state`, `redirect_uri`, among others.

Le JWT peut contenir n’importe quel paramètre optionnel pour le flux d’autorisation demandé, tel que `audience`, `scope`, `state`, `redirect_uri`, entre autres.

* De plus, le JWT peut contenir les demandes facultatives suivantes :
* `iat` : doit être une date numérique.
* `nbf` : doit être une date numérique, représentant une période antérieure.
* `exp` : doit être une date numérique, représentant une période future.

### `jti` : doit être une chaîne de caractères ne dépassant pas 64 octets.

The following JavaScript code sample demonstrates how to build and sign a JWT using JavaScript and the [jsonwebtoken library](https://www.npmjs.com/package/jsonwebtoken?activeTab=readme). It outputs the generated JWT to the console:

```javascript lines expandable
const jwt = require('jsonwebtoken');
const crypto = require("crypto");
const fs = require('fs');

const privateKey = fs.readFileSync('[PATH TO YOUR PEM FILE]');
const client_id = '[YOUR CLIENT ID]';
const nonce = crypto.randomBytes(16).toString('hex');

const requestObject = jwt.sign(
{
  iss: client_id,    
  aud: 'https://your_tenant.auth0.com/', // your tenant's domain
  client_id,
  response_type: "code",
  scope: "openid profile",
  redirect_uri : "https://myapp.com/callback" // your app's callback URL
  nonce
},
privateKey,
{
  keyid: '[YOUR KID]', // optional key id (kid) value from your public key
  algorithm: 'RS256',
  header: {
    typ: 'oauth-authz-req+jwt',
  },
});

console.log(requestObject);
```






### L’exemple de code JavaScript suivant montre comment générer et signer un JWT en utilisant JavaScript [bibliothèque jsonwebtoken](). Il produit le JWT généré dans la console :

To call the `/authorize` endpoint using your signed JWT, open a new browser window. Pass your <Tooltip tip="Client ID: Identification value given to your registered resource from Auth0." cta="View Glossary" href="/docs/glossary?term=Client+ID">Client ID</Tooltip> as the `client_id` parameter and the signed and URL-encoded JWT as the `request` parameter.

```bash lines
# MacOS
open "https://your_tenant.auth0.com/authorize?client_id=[YOUR CLIENT ID]&request=[URL ENCODED JWT]"

# Windows
explorer "https://your_tenant.auth0.com/authorize?client_id=[YOUR CLIENT ID]&request=[URL ENCODED JWT]"
```






## Learn more

* [Configure JWT-secured Authorization Requests (JAR)](/docs/get-started/applications/configure-jar)