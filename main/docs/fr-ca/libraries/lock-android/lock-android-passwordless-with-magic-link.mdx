---
description: ''
og:description: Passwordless with Magic Link with Lock.Android
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 'Lock.Android : Connexion sans mot de passe avec Magic Links'
og:url: https://auth0.com/docs/
permalink: lock-android-passwordless-with-magic-link
title: 'Lock.Android : Connexion sans mot de passe avec Magic Links'
twitter:description: Passwordless with Magic Link with Lock.Android
twitter:title: 'Lock.Android : Connexion sans mot de passe avec Magic Links'
---

In order to avoid asking the user to input the one-time password sent for <Tooltip tip="Passwordless: Form of authentication that does not rely on a password as the first factor." cta="View Glossary" href="/docs/glossary?term=passwordless">passwordless</Tooltip> authentication in Android apps, we introduced the ability to send a link that the user can tap to login without any manual input involved.

Ces liens comprennent le même **code** que celui utilisé dans le flux habituel sans mot de passe, mais en configurant correctement ces liens, ils s’ouvriront directement dans votre application.

## Configuration d’Auth0 Dashboard

Go to your [application settings](https://manage.auth0.com/#/applications/{yourClientId}/settings) and click **Show Advanced Settings** at the bottom of the page. Then in the "Device Settings" tab, you will need to provide both the Android Application's Package Name and certificate Key Hash.

* **Nom du package d’application** : le nom du package, tel qu’il est déclaré dans le manifeste de l’application. Il est également présent dans le fichier `app/build.gradle` en tant qu’attribut `applicationId`. Si les deux valeurs sont différentes, utilisez celle de `applicationId`. Voici un exemple : `com.example.android.myapp`
* **Hachages de clé** : les empreintes SHA256 des certificats de signature de notre application Android. Vous pouvez en inclure plusieurs en les séparant par des virgules. Les empreintes des keystores de version et de débogage peuvent être indiquées ici. La section ci-dessous explique comment les obtenir. Voici un exemple : `DE:1A:5B:75:27:AA:48:D5:A6:72:2F:76:43:95:9B:79:C6:86:1A:5B:75:27:AA:48:D5:A6:73:FE`.

Après avoir défini les valeurs, n’oubliez pas de cliquer sur **Enregistrer les modifications**.

### Obtenir l’empreinte numérique de votre certificat de signature

Utilisez la commande suivante pour générer l’empreinte numérique à l’aide de l’interface de ligne de commande Java keytool :

`keytool -list -v -keystore my-release-key.keystore`

ou pour obtenir la clé de débogage par défaut :

`keytool -list -v -keystore ~/.android/debug.keystore -alias androiddebugkey -storepass android -keypass android`

The value required by the dashboard is the one listed as "SHA256". You can read more about Keystores in this [official article](https://developer.android.com/studio/publish/app-signing).

### Activer la connexion au courriel

Passwordless using Magic Link works only with the passwordless connection of type "email". Go to Dashboard > [Authentication](https://manage.auth0.com/#/applications/authentication) for Passwordless connections and click on **Email**. A popup will open and the HTML + Liquid email template will become editable. Verify that the body contains a conditional like this:

```liquid lines
{% if send == 'link' or send == 'link_ios' or send == 'link_android' %}
Your verification link is: {{ link }}
{% elsif send == 'code' %}
Your verification code is: {{ code }}
{% endif %}
```

## Configuration de la trousse SDK

Now that the Auth0 application is configured follow the instructions and set up PasswordlessLock with `Lock.Android` as seen in the [passwordless docs](/docs/libraries/lock-android/lock-android-passwordless).

### Utilisation de la trousse SDK

Lock’s Passwordless authentifie les utilisateurs en leur envoyant un courriel contenant un mot de passe à usage unique qui, dans ce cas, sera un LIEN au lieu d’un code. Si vous avez suivi le guide pour la connexion classique sans mot de passe, il vous suffit de supprimer l’appel `useCode()` et de le remplacer par `useLink()`.

Enfin, lancez le gadget logiciel `PasswordlessLock` à partir de votre activité.

```kotlin lines
startActivity(lock.newIntent(this))
```

Après la demande du LIEN, l’écran suivant indique que l’utilisateur doit cliquer sur le LIEN pour se connecter. Si cela n’est pas possible, l’utilisateur peut toujours saisir le code qui sera visible après avoir cliqué sur le lien figurant dans le courriel reçu.

## Facultatif : Utiliser les liens de l’application Android

La bibliothèque Lock est prête à être utilisée avec les Liens d’application. Cette fonctionnalité, accessible à partir de la version 6.0 (niveau API 23) d’Android, permet à une application de se désigner comme gestionnaire par défaut d’un type de lien donné, sans afficher la boîte de dialogue de désambiguïsation qui demande à l’utilisateur s’il doit utiliser le navigateur ou son application pour ouvrir le lien.

Cela fonctionne tant que l’utilisateur n’a pas déjà choisi une application par défaut pour gérer ce modèle d’URI dans les paramètres de l’appareil Android.

Automatic handling of links requires the cooperation of your app and the Auth0 website. The app must declare the association with the website and request that the system verifies it. The website must, in turn, provide that verification by publishing a [Digital Asset Links](https://developers.google.com/digital-asset-links/) file.

Auth0 will generate the [Digital Asset Links](https://developers.google.com/digital-asset-links/) file automatically for you when you configure the App Package Name and Key Hash as shown before. If you've followed all the steps in this article, the file should be available and will be verified the next time your android application is installed.

You could find more information about App Links in the [Android docs](https://developer.android.com/training/app-links/index.html).