---
description: ''
og:description: A widget that provides a frictionless login and signup experience
  for your native iOS apps.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Lock.swift
og:url: https://auth0.com/docs/
permalink: lock-swift
title: Lock.swift
twitter:description: A widget that provides a frictionless login and signup experience
  for your native iOS apps.
twitter:title: Lock.swift
---

This reference guide will show you how to implement the Lock user interface, and give you the details on configuring and customizing Lock in order to use it as the UI for your authentication needs. However, if you'd like to learn how to do more with Auth0 and Swift, such as how to save, call and refresh <Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=Access+Tokens">Access Tokens</Tooltip>, get user profile info, and more, check out the [Auth0.swift SDK](/docs/libraries/auth0-swift). Or, take a look at the [Swift Quickstart](/docs/quickstart/native/ios-swift) to walk through complete examples and see options, both for using Lock as the interface, and for using a custom interface.

Check out the [Lock.swift repository](https://github.com/auth0/Lock.swift) on GitHub.

## Exigences

* iOS 9+
* Xcode 11.4+ / 12.x
* Swift 4.x / 5.x

## Installer

### Cocoapods

If you are using [Cocoapods](https://cocoapods.org), add this line to your `Podfile`:

`pod 'Lock', '~> 2.0'`

Exécutez ensuite `pod install`.
For more information on Cocoapods, check [their official documentation](https://guides.cocoapods.org/using/getting-started.html).

### Carthage

If you are using [Carthage](https://github.com/Carthage/Carthage), add the following line to your `Cartfile`:

`github "auth0/Lock.swift" ~> 2.0`
Exécutez ensuite `carthage bootstrap`.
For more information about Carthage usage, check [their official documentation](https://github.com/Carthage/Carthage#if-youre-building-for-ios-tvos-or-watchos).

### SPM

Si vous utilisez le Swift Package Manager, ouvrez le menu suivant dans Xcode :

**Fichier > Packages Swift > Ajouter une dépendance à un package...**

À l’invite **Sélectionner le référentiel de packages**, ajoutez cette URL :

`https://github.com/auth0/Lock.swift.git`

Appuyez ensuite sur **Suivant** et effectuez les étapes suivantes.

<Callout icon="file-lines" color="#0EA5E9" iconType="regular">

For further reference on SPM, check the [official documentation](https://developer.apple.com/documentation/swift_packages/adding_package_dependencies_to_your_app).

</Callout>

## Configuration

### Intégrer avec votre application

Lock doit être informé lorsque l’application doit ouvrir une URL. Vous pouvez le faire dans le fichier `AppDelegate`.

```swift lines
func application(_ app: UIApplication, open url: URL, options: [UIApplication.OpenURLOptionsKey : Any] = [:]) -> Bool {
  return Lock.resumeAuth(url, options: options)
}
```

### Importer Lock

Importez **Lock** là où vous en avez besoin

`import lock`

### Identifiants Auth0

In order to use Lock you need to provide your Auth0 <Tooltip tip="Client ID: Identification value given to your registered resource from Auth0." cta="View Glossary" href="/docs/glossary?term=Client+Id">Client Id</Tooltip> and Domain, which can be found in your [Auth0 Dashboard](https://manage.auth0.com/#), under your Application's settings.

Dans votre bundle d’applications, vous pouvez ajouter un fichier `plist` nommé `Auth0.plist`, qui comprendra vos identifiants au format suivant.

```xml lines
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
  <key>ClientId</key>
  <string>{yourClientId}</string>
  <key>Domain</key>
  <string>{yourDomain}</string>
</dict>
</plist>
```

## Implémentation de Lock Classic

Lock Classic traite les authentifications utilisant les connexions de base de données, sociales et d’entreprise.

### Mode conforme à l’OIDC

Nous recommandons fortement d’utiliser cette trousse SDK en mode conforme à l’OIDC. Lorsque ce mode est activé, il force la trousse SDK à utiliser le pipeline d’authentification d’Auth0 actuel et l’empêche d’atteindre des points de terminaison obsolètes. Par défaut, cette valeur est `false`.

```swift lines
.withOptions {
    $0.oidcConformant = true
}
```

Pour afficher Lock, ajoutez l’extrait de code suivant à votre UIViewController.

```swift lines
Lock
    .classic()
    // withConnections, withOptions, withStyle, and so on
    .withOptions {
      $0.oidcConformant = true
      $0.scope = "openid profile"
    }
    .onAuth { credentials in
      // Let's save our credentials.accessToken value
    }
    .present(from: self)
```

## Utiliser la bibliothèque Auth0.Swift pour accéder au profil utilisateur

Pour accéder aux informations du profil utilisateur, vous aurez besoin de la bibliothèque `Auth0.Swift` :

```swift lines
Auth0
   .authentication()
   .userInfo(withAccessToken: accessToken)
   .start { result in
       switch result {
       case .success(let profile):
           print("User Profile: \(profile)")
       case .failure(let error):
           print("Failed with \(error)")
       }
   }
```

Check out the [Auth0.Swift Library Documentation](/docs/libraries/auth0-swift) for more information about its uses.

## Spécifier des connexions

Lock chargera automatiquement les connexions configurées pour votre application. Si vous souhaitez remplacer le comportement par défaut, vous pouvez manuellement spécifier les connexions à présenter aux utilisateurs en tant qu’options d’authentification. Vous allez pour cela appeler la méthode et fournir une fermeture qui puisse spécifier la ou les connexions.

Ajout d’une connexion de base de données :

```swift lines
.withConnections {
    connections.database(name: "Username-Password-Authentication", requiresUsername: true)
}
```

Ajout de plusieurs connexions sociales :

```swift lines
.withConnections {
    connections.social(name: "facebook", style: .Facebook)
    connections.social(name: "google-oauth2", style: .Google)
}
```

## Style et personnalisation

Lock dispose de nombreuses options de personnalisation pour vous permettre d’appliquer votre image de marque à Lock en utilisant `withStyle`. Par exemple en changeant la couleur principale et le texte d’en-tête de votre gadget logiciel Lock :

### Personnaliser votre titre, logo et couleur principale

```swift lines
.withStyle {
  $0.title = "Company LLC"
  $0.logo = LazyImage(named: "company_logo")
  $0.primaryColor = UIColor(red: 0.6784, green: 0.5412, blue: 0.7333, alpha: 1.0)
}
```

You can see the complete set of styling options to alter the appearance of Lock for your app in the [Customization Guide](/docs/lock-swift-customization).

## Options de configuration

Il existe de nombreuses options pour configurer le comportement de Lock. Voici un exemple de Lock configuré pour qu’il puisse être fermé, afin de le limiter aux seuls noms d’utilisateurs (et pas aux adresses courriel) et pour ne montrer que les écrans Se connecter et Réinitialiser le mot de passe.

```swift lines
Lock
  .classic()
  .withOptions {
    $0.closable = true
    $0.usernameStyle = [.Username]
    $0.allow = [.Login, .ResetPassword]
  }
```

You can see the complete set of behavior configuration options to alter the way Lock works for your app in the [Configuration Guide](/docs/libraries/lock-swift/lock-swift-configuration-options).

## Prise en charge du gestionnaire de mots de passe

By default, password manager support using [1Password](https://1password.com/) is enabled for database connections. 1Password support will still require the user to have the 1Password app installed for the option to be visible in the login and signup screens. You can disable 1Password support using the enabled property of the passwordManager.

```swift lines
.withOptions {
    $0.passwordManager.enabled = false
}
```

Par défaut, `appIdentifier` sera défini sur l’identifiant de bundle de l’application et `displayName` sera défini sur le nom d’affichage de l’application. Vous pouvez les personnaliser comme suit :

```swift lines
.withOptions {
    $0.passwordManager.appIdentifier = "www.myapp.com"
    $0.passwordManager.displayName = "My App"
}
```

Vous devrez ajouter ce qui suit à l’`info.plist` de votre application :

```xml lines
<key>LSApplicationQueriesSchemes</key>
<array>
    <string>org-appextension-feature-password-management</string>
</array>
```

## Learn more

* [Lock.swift: Style Customization Options](/docs/lock-swift-customization)
* [Lock.swift: Configuration Options](/docs/libraries/lock-swift/lock-swift-configuration-options)
* [Lock.swift: Custom Fields at Signup](/docs/libraries/lock-swift/lock-swift-custom-fields-at-signup)
* [Lock.swift Internationalization](/docs/customize/internationalization-and-localization/lock-swift-internationalization)
* [Logout](/docs/authenticate/login/logout)