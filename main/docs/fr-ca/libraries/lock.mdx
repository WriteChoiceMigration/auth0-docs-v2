---
description: ''
og:description: A widget that provides a frictionless login and signup experience
  for your web apps.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Lock pour le Web
og:url: https://auth0.com/docs/
permalink: lock
title: Lock pour le Web
twitter:description: A widget that provides a frictionless login and signup experience
  for your web apps.
twitter:title: Lock pour le Web
---

Lock is an embeddable login form that can be [configured to your needs](/docs/libraries/lock/lock-configuration). Lock enables you to easily add social <Tooltip tip="Identity Provider (IdP): Service that stores and manages digital identities." cta="View Glossary" href="/docs/glossary?term=identity+providers">identity providers</Tooltip>, so that your users can log in seamlessly using any desired provider.

<Warning>

Embedded login for web applications uses [cross-origin authentication](/docs/authenticate/login/cross-origin-authentication) unless you [configure a custom domain](/docs/customize/custom-domains) for your tenant. Cross-origin authentication uses third-party cookies to allow for secure authentication transactions across different origins.

</Warning>

## Installation de Lock

Vous pouvez installer Lock de différentes façons. Sélectionnez l’une des sources d’installation suivantes convenant le mieux à votre environnement et à votre application.

### Sources d’installation

Install via [npm](https://npmjs.org):
`npm install auth0-lock`

Install via [bower](http://bower.io):

`bower install auth0-lock`

Include via our CDN (Replace `.x` and `.y` with the latest minor and patch release numbers from the [Lock Github repository](https://github.com/auth0/lock/releases):

Latest Minor Release:`<script src="https://cdn.auth0.com/js/lock/11.x/lock.min.js"></script>`Latest Patch Release:
`<script src="https://cdn.auth0.com/js/lock/11.x.y/lock.min.js"></script>`

It is recommended that production applications use a specific patch version, or at the very least a specific minor version. Regardless of the method by which Lock is included, the recommendation is that the version should be locked down and only manually updated, to ensure that those updates do not adversely affect your implementation. Check the [GitHub repository](https://github.com/auth0/lock/releases) for a current list of releases.

### Mobile

Si vous visez des audiences mobiles, Auth0 conseille d’ajouter la balise meta suivante à le `head` de votre application :

`<meta name="viewport" content="width=device-width, initial-scale=1"/>`

### Regroupement des dépendances

If you are using browserify or webpack to build your project and bundle its dependencies, after installing the `auth0-lock` module, you will need to bundle it with all its dependencies. Examples are available for [Browserify](https://github.com/auth0/lock/tree/master/examples/bundling/browserify) and [webpack](https://github.com/auth0/lock/tree/master/examples/bundling/webpack).

### Authentification inter-origine

<Warning>

Embedded login for web applications uses [cross-origin authentication](/docs/authenticate/login/cross-origin-authentication) unless you [configure a custom domain](/docs/customize/custom-domains) for your tenant. Cross-origin authentication uses third-party cookies to allow for secure authentication transactions across different origins.

</Warning>

Embedding Lock within your application requires [cross-origin authentication](/docs/authenticate/login/cross-origin-authentication) to be properly configured. Specifically, you need to set the **Allowed Web Origins** property to the domain making the request. You can find this field in the [Application Settings](https://manage.auth0.com/#/applications/{yourClientId}/settings).

## Assurez-vous de lire concernant les limites de l’authentification inter-origine avant de mettre en place une connexion intégrée avec Lock.

### Step Utilisation

First, you'll need to initialize a new `Auth0Lock` object, and provide it with your Auth0 <Tooltip tip="Client ID: Identification value given to your registered resource from Auth0." cta="View Glossary" href="/docs/glossary?term=client+ID">client ID</Tooltip> (the unique client ID for each Auth0 application, which you can get from the [management dashboard](https://manage.auth0.com/#)) and your Auth0 domain (for example `yourname.auth0.com`).


```js lines
// Initializing our Auth0Lock
var lock = new Auth0Lock(
  '{yourClientId}',
  '{yourDomain}'
);
```

### Step Vous devrez d’abord initialiser un nouvel objet `Auth0Lock` et lui donner votre ID client Auth0 (l’ID client unique pour chaque application Auth0, que vous pouvez obtenir du [Management Dashboard](%24%7Bmanage_url%7D)) et votre domaine Auth0 (par exemple, `yourname.auth0.com`).

2. Authentification et obtention des informations utilisateur


```js lines expandable
var Auth = (function() {

  var wm = new WeakMap();
  var privateStore = {};
  var lock;

  function Auth() {
    this.lock = new Auth0Lock(
      '<{yourClientId}>',
      '<{yourDomain}>'
    );
    wm.set(privateStore, {
      appName: "example"
    });
  }

  Auth.prototype.getProfile = function() {
    return wm.get(privateStore).profile;
  };

  Auth.prototype.authn = function() {
    // Listening for the authenticated event
    this.lock.on("authenticated", function(authResult) {
      // Use the token in authResult to getUserInfo() and save it if necessary
      this.getUserInfo(authResult.accessToken, function(error, profile) {
        if (error) {
          // Handle error
          return;
        }

        //we recommend not storing Access Tokens unless absolutely necessary
        wm.set(privateStore, {
          accessToken: authResult.accessToken
        });

        wm.set(privateStore, {
          profile: profile
        });

      });
    });
  };
  return Auth;
}());
```

Ensuite, écoutez en utilisant la méthode `on` pour l’événement `authentifié`. Lorsque l’événement survient, utilisez le `accessToken` reçu pour appeler la méthode `getUserInfo` et acquérir les informations du profil de l’utilisateur (selon les besoins).

`<h2>Welcome <span id="nick" class="nickname"></span></h2>`

Bienvenue

### Step Notez que si vous stockez le profil utilisateur, vous voudrez appliquer `JSON.stringify` à l’objet du profil, puis, lors d’une utilisation ultérieure, lui appliquer un `JSON.parse`, car il devra être stocké en `localStorage` en tant que chaîne plutôt que d’objet JSON.

3. Affichage de Lock

Vous affichez ici le gadget logiciel Lock après que l’utilisateur ait cliqué sur un bouton de connexion. Vous pouvez tout aussi bien afficher Lock automatiquement lors de l’arrivée sur une page en utilisant simplement `lock.show();`.

```js lines
document.getElementById('btn-login').addEventListener('click', function() {
  lock.show();
});
```

## Cela affichera le gadget logiciel Lock, et associé à ce qui précède, vous êtes désormais prêt à gérer les connexions.

Lock's <Tooltip tip="Passwordless: Form of authentication that does not rely on a password as the first factor." cta="View Glossary" href="/docs/glossary?term=Passwordless">Passwordless</Tooltip> Mode is only available in Lock v11.2.0 and later. Please use the [latest release of Lock](https://github.com/auth0/lock/releases) for this feature!

Le mode sans mot de passe de Lock est disponible uniquement dans Lock v11.2.0 et versions ultérieures. Nous vous conseillons d’utiliser la [dernière version de Lock]() pour cette fonctionnalité!

Vous pouvez utiliser le mode sans mot de passe de Lock pour permettre aux utilisateurs de s’authentifier en utilisant uniquement un courriel ou un numéro de téléphone cellulaire. Ils recevront le code et ensuite le saisiront, ou cliqueront sur le lien, et ils pourront être authentifiés sans avoir à se souvenir d’un mot de passe.


```js lines
var lockPasswordless = new Auth0LockPasswordless(
 '{yourClientId}',
 '{yourDomain}'
);
```

### Pour mettre en œuvre le mode sans mot de passe dans Lock, initialisez Lock d’une manière légèrement différente avec `Auth0LockPasswordless` plutôt que `Auth0Lock` :

Options Sans mot de passe

De plus, le mode sans mot de passe de Lock dispose de quelques options de configuration qui lui sont propres.

```js lines
var passwordlessOptions = {
  allowedConnections: ['sms']
}
```

Remember to enable the passwordless connection of your choice in the [Dashboard](https://manage.auth0.com/#) under **Connections -> Passwordless**, and then to enable it for your application, that way when Lock tries to use it, it is already set up and linked to the application.

N’oubliez pas d’activer la connexion sans mot de passe de votre choix dans [Dashboard](%24%7Bmanage_url%7D), sous **Connexions > Sans mot de passe**, puis de l’activer pour votre application; ainsi, lorsque Lock essaye de l’utiliser, elle est déjà configurée et associée à l’application.

```js lines
var passwordlessOptions = {
  allowedConnections: ['email'],
  passwordlessMethod: 'code'
}
```

### Si vous décidez d’utiliser `email`, vous devez sélectionner une autre option si vous souhaitez que vos utilisateurs reçoivent un code à saisir ou un «  lien magique » à utiliser. Il s’agit de l’option `passwordlessMethod`, qui prend les valeurs de `code` ou `link`.


```js lines
var passwordlessOptions = {
  allowedConnections: ['email'],
  passwordlessMethod: 'code',
  auth: {
    redirectUrl: 'http://localhost:3000/callback',   
    responseType: 'token id_token',
    params: {
      scope: 'openid email'               
    }          
  }
}

var lockPasswordless = new Auth0LockPasswordless(
 '{yourClientId}',
 '{yourDomain}',
 passwordlessOptions
);
```

### Single Sign-On with embedded authentication

Apps with embedded login must meet two criteria in order to have <Tooltip tip="Single Sign-On (SSO): Service that, after a user logs into one applicaton, automatically logs that user in to other applications." cta="View Glossary" href="/docs/glossary?term=Single+Sign-on">Single Sign-on</Tooltip> (SSO).

1. Both of the applications attempting SSO must be first-party applications. SSO with third-party applications will not work.
2. They need to make use of custom domains and have both the applications which intend to have SSO as well as the Auth0 tenant on the same domain. Traditionally, Auth0 domains are in the format `foo.auth0.com`, but custom domains allow you to use the same domain for each of the applications in question as well as your Auth0 tenant, preventing the risk of CSRF attacks.

Our recommendation is to use <Tooltip tip="Universal Login: Your application redirects to Universal Login, hosted on Auth0's Authorization Server, to verify a user's identity." cta="View Glossary" href="/docs/glossary?term=Universal+Login">Universal Login</Tooltip> instead of setting up SSO in embedded login scenarios. Universal Login is the most reliable and stable way to perform SSO, and is the only way to do so if you must use multiple domains for your applications, or use [third-party applications](/docs/get-started/applications/confidential-and-public-applications/enable-third-party-applications).

## Exemple de connexion sans mot de passe

Codes d’erreur et descriptions

Lorsque Lock est utilisé pour une connexion intégrée, il utilise le point de terminaison `/co/authenticate`, qui comporte les erreurs suivantes.

| **Status** | **Code** | **Description** |
| --- | --- | --- |
| 400 | invalid\_request | Invalid request body. All and only of client\_id, credential\_type, username, otp, realm are required. |
| 401 | unauthorized\_client | Cross origin login not allowed. |
| 400 | unsupported\_credential\_type | Unknown credential type parameter. |
| 400 | invalid\_request | Unknown realm non-existent-connection. |
| 403 | access\_denied | Wrong email or password. |
| 403 | access\_denied | Authentication error |
| 403 | blocked\_user | Blocked user |
| 401 | password\_leaked | This login attempt has been blocked because the password you're using was previously disclosed through a data breach (not in this application). |
| 429 | too\_many\_attempts | Your account has been blocked after multiple consecutive login attempts. We've sent you a notification via your preferred contact method with instructions on how to unblock it. |
| 429 | too\_many\_attempts | We have detected suspicious login behavior and further attempts will be blocked. Please contact the administrator. |

## La description de l’erreur est lisible par un humain. Elle **ne doit pas être analysée par un code** et peut changer à tout moment.

Browser compatibility is ensured for **Chrome**, **Safari**, **Firefox** and **IE >= 10**. Auth0 currently uses [zuul](https://github.com/defunctzombie/zuul) along with [Saucelabs](https://saucelabs.com) to run integration tests on each push.

## Learn more

* [Lock API Reference](/docs/libraries/lock/lock-api-reference)
* [Lock Configuration Options](/docs/libraries/lock/lock-configuration)