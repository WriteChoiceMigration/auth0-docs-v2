---
description: ''
og:description: Securing local development servers to work with samesite cookies
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: HTTPS en développement
og:url: https://auth0.com/docs/
permalink: secure-local-development
title: HTTPS en développement
twitter:description: Securing local development servers to work with samesite cookies
twitter:title: HTTPS en développement
---

Local development environments typically run over http (ie: `http://localhost`) out of the box. This guide will discuss when you should run a local server over https and how to configure https on localhost.

## Quand utiliser un serveur HTTPS local

Les navigateurs Web se comportent différemment avec HTTP  qu’avec HTTPS. Pour tenir compte de ces différences, vous pourriez avoir besoin que votre serveur de développement serve des pages sur HTTPS. Par exemple :

* Lorsque votre page est servie sur HTTPS, les requêtes pour charger des ressources depuis une URL HTTP seront bloquées. Vous pourriez vouloir ce comportement localement pour éviter des bugs qui ne se déclencheraient que dans l’environnement de production, ou parce que vous ne voulez pas effectuer par erreur de requêtes HTTP contenant des informations sensibles.
* Cookies using a Secure attribute or [SameSite](https://auth0.com/blog/browser-behavior-changes-what-developers-need-to-know/) attribute set to None will not be sent across insecure channels, disrupting authentication and other functionality.

## Comment configurer un serveur local sécurisé

The idea is to run a web server in front of your local development server that will accept https requests and forward them to your application's web server over http, thus serving your application's requests over https by proxy. This is called an https reverse proxy and we can use an off the shelf product called [Caddy](https://caddyserver.com/v2) to create an https reverse proxy.

Pour ce faire :

1. Téléchargez le fichier exécutable (binaire) de Caddy
2. Exécutez le serveur Web de votre application sur HTTP comme d’habitude.
3. Exécutez le binaire de Caddy en tant que proxy inverse en lui indiquant de diriger le trafic vers le serveur Web de votre application.
4. Visit the reverse proxy web server over https

### Step 1. Téléchargez le fichier exécutable (binaire) de Caddy

Visit https://caddyserver.com/download, select your platform and download the file to your computer.

### Step 2. Exécutez le serveur Web de votre application sur HTTP comme d’habitude.

Exécutez le serveur de développement local de votre application comme d’habitude, par exemple : $ PORT=3000 npm start.

### Step 3. Exécutez le binaire de Caddy en tant que proxy inverse en lui indiquant de diriger le trafic vers le serveur Web de votre application.

Repérez l’emplacement de votre binaire Caddy téléchargé et exécutez la commande suivante pour créer un proxy inverse et diriger les requêtes du port 443 (le port par défaut utilisé pour HTTPS) vers le port de votre application (dans ce cas, 3000) :

```bash wrap lines
/path/to/caddy reverse-proxy --from localhost:443 --to localhost:3000
```

### Step 4. Maintenant, visitez votre serveur Web via HTTPS.

Visit https://localhost and it will serve your application's requests over https

## Exécution de votre application derrière un proxy.

Vous allez peut-être devoir apporter quelques ajustements à votre application lorsqu’elle fonctionne derrière un proxy.

For example in Express.js, although the app will not fail to run, it will incorrectly register the proxy’s IP address as the client IP address unless `trust proxy` is configured, see \<https://expressjs.com/en/guide/behind-proxies.html>