---
description: ''
og:description: Behavior configuration options available with Lock.Swift
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: 'Lock.swift : Options de configuration'
og:url: https://auth0.com/docs/
permalink: lock-swift-configuration-options
title: 'Lock.swift : Options de configuration'
twitter:description: Behavior configuration options available with Lock.Swift
twitter:title: 'Lock.swift : Options de configuration'
---

There are numerous options to configure Lock's behavior listed below. In addition, there are also quite a few options available to alter Lock's appearance and style in the [Style Customization Options](/docs/lock-swift-customization) page.

## Configuration du comportement de Lock

Des options de configuration peuvent être ajoutées à votre initialisation de Lock à l’aide de `withOptions`.

```swift lines
Lock
  .classic()
  .withOptions {
    $0.closable = true
    $0.usernameStyle = [.Username]
    $0.allow = [.Login, .ResetPassword]
  }
  .present(from: self)
```

## Options de comportement

### Fermable

Permet à Lock d’être rejeté par l’utilisateur. Par défaut, cette valeur est définie comme `false`.

```swift lines
.withOptions {
  $0.closable = true
}
```

### permission

Scope used for authentication. By default is `openid`. It will return not only the **<Tooltip tip="Access Token: Authorization credential, in the form of an opaque string or JWT, used to access an API." cta="View Glossary" href="/docs/glossary?term=Access+Token">Access Token</Tooltip>**, but also an **<Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=ID+Token">ID Token</Tooltip>** which is a <Tooltip tip="ID Token: Credential meant for the client itself, rather than for accessing a resource." cta="View Glossary" href="/docs/glossary?term=JSON+Web+Token">JSON Web Token</Tooltip> (JWT) containing user information. See the documentation on [Scopes](/docs/get-started/apis/scopes) for more information about authentication scopes.

```swift lines
.withOptions {
  $0.scope = "openid name email picture"
}
```

#### Jetons d’actualisation

Specifying the `offline_access` permission in your Lock options will autorise a [Refresh Token](/docs/secure/tokens/refresh-tokens) to be returned along with the access\_token and the id\_token. <Tooltip tip="Refresh Token: Token used to obtain a renewed Access Token without forcing users to log in again." cta="View Glossary" href="/docs/glossary?term=Refresh+Tokens">Refresh Tokens</Tooltip> can be saved and used to acquire a new Access Token when the old one expires. For more information about using Jetons d’actualisation for Auth0 authentication, take a look at the reference documentation for the [Auth0.Swift SDK](/docs/libraries/auth0-swift), which you would use to implement Refresh Tokens, or at the [Swift Quickstart Guide](/docs/quickstart/native/ios-swift), which provides a comprehensive example of use of Auth0 in Swift development, including the management of Refresh Tokens.

### termsOfService

By default Lock will use Auth0's [Terms of Service](https://auth0.com/terms) and [Privacy Policy](https://auth0.com/privacy), but other URLs can be filled in to link to other terms and policies.

```swift lines
.withOptions {
  $0.termsOfService = "https://mycompany.com/terms"
  $0.privacyPolicy = "https://mycompany.com/privacy"
}
```

### Afficher les Conditions d’utilisation

Les connexions à la base de données affichent la boîte de dialogue Conditions d’utilisation. La valeur par défaut est  `true`. Veuillez noter que les Conditions d’utilisation seront toujours affichées si le drapeau `mustAcceptTerms` est activé.

```swift lines
.withOptions {
    $0.showTerms = true
}
```

### Exiger que les utilisateurs acceptent les Conditions d’utilisation

La connexion à la base de données nécessite l’acceptation explicite des Conditions d’utilisation.

```swift lines
.withOptions {
    $0.mustAcceptTerms = true
}
```

## Options d’authentification Web

### marge

Décalage d’horloge utilisé pour la validation du jeton d’ID. Il élargit la fenêtre temporelle dans laquelle le jeton d’ID sera toujours considéré comme valide, pour tenir compte de la différence entre l’heure du serveur et l’heure du client. Par défaut elle est de **60 000 millisecondes** (60 secondes).

```swift lines
.withOptions {
  $0.leeway = 30000 // 30 seconds
}
```

### maxAge

Temps écoulé autorisé (en millisecondes) depuis la dernière authentification de l’utilisateur. Utilisé pour la validation du jeton d’ID. Si défini, le jeton d’ID contiendra une demande `auth_time` avec l’horodatage d’authentification. Par défaut `nil`.

```swift lines
.withOptions {
  $0.maxAge = 86400000 // 1 day
}
```

## Options de base de données

### autorise

Quels écrans de base de données seront accessibles; la valeur par défaut est d’activer tous les écrans tels que `.Login, .Signup, .ResetPassword`.

```swift lines
.withOptions {
  $0.allow = [.Login, .ResetPassword]
}
```

### initialScreen

Le premier écran à présenter à l’utilisateur. La valeur par défaut est `.Login`, d’autres options incluent `.Signup` et `.ResetPassword`.

```swift lines
.withOptions {
  $0.initialScreen = .Login
}
```

### usernameStyle

Specify the type of identifier the login will require. The default is either: `[.Username, .Email]`, but it can also accept `[.Username]` or `[.Email]`. However it's important to note that this option is only active if you have set the `requires_username` flag to `true` in your [Auth0 Dashboard](https://manage.auth0.com/#/).

```swift lines
.withOptions {
  $0.usernameStyle = [.Username]
}
```

#### Champs d’inscription personnalisés

When signing up the default information requirements are the user's email and password. You can expand your data capture requirements as needed. Capturing additional signup fields here will store them in the `user_metadata`, which you can read more about in [Metadata](/docs/manage-users/user-accounts/metadata). Note that you must specify the icon to use with your custom text field.

```swift lines
.withOptions {
  $0.customSignupFields = [
    CustomTextField(name: "first_name", placeholder: "First Name", icon: LazyImage(name: "ic_person", bundle: Lock.bundle)),
    CustomTextField(name: "last_name", placeholder: "Last Name", icon: LazyImage(name: "ic_person", bundle: Lock.bundle))
  ]
}
```

Vous pouvez également spécifier des icônes provenant d’autres groupes, comme dans l’exemple suivant :
CustomTextField(name: "slack\_handle", placeholder: "Slack Handle", icon: LazyImage(name: "ic\_slack", bundle: Bundle(identifier: "CustomBundle")))

## Options Entreprise

Il existe également des options de configuration spécifiques aux connexions Enterprise :

### enterpriseConnectionUsingActiveAuth

Par défaut, les connexions Entreprise utiliseront l’authentification Web. Cependant, vous pouvez spécifier quelles connexions utiliseront alternativement l’authentification par informations d’identification et demanderont un nom d’utilisateur et un mot de passe.

```swift lines
.withOptions {
  $0.enterpriseConnectionUsingActiveAuth = ["enterprisedomain.com"]
}
```

### activeDirectoryEmailAsUsername

When in credential authentication mode, should the user require their email as an identifier? The default is `false`, and instead requires a username.

```swift lines
.withOptions {
  $0.activeDirectoryEmailAsUsername = true
}
```

## Options de journalisation

Lock propose des options qui permettent d’activer et de désactiver facilement les capacités de journalisation, ainsi que d’ajuster d’autres paramètres liés à celles-ci.

### logLevel

Par défaut, la valeur est `.off`, les niveaux de journalisation Syslog sont pris en charge.

```swift lines
.withOptions {
  $0.logLevel = .all
}
```

### logHttpRequest

S’il faut ou non enregistrer les requêtes API Auth0.swift. Par défaut, cette valeur est `false`.

```swift lines
.withOptions {
  $0.logHttpRequest = true
}
```

### loggerOutput

Spécifiez le gestionnaire de logger output, par défaut, il utilise la déclaration `print`.

```swift lines
.withOptions {
  $0.loggerOutput = CleanroomLockLogger()
}
```

In the code above, the loggerOutput has been set to use [CleanroomLogger](https://github.com/emaloney/CleanroomLogger). This can typically be achieved by implementing the loggerOutput protocol. You can of course use your favorite logger library. Below is an example of usage handling logger output with CleanroomLogger.

```swift lines
class CleanroomLockLogger: LoggerOutput {
  func message(_ message: String, level: LoggerLevel, filename: String, line: Int) {
    let channel: LogChannel?
    switch level {
    case .debug:
        channel = Log.debug
    case .error:
        channel = Log.error
    case .info:
        channel = Log.info
    case .verbose:
        channel = Log.verbose
    case .warn:
        channel = Log.warning
    default:
        channel = nil
    }
    channel?.message(message, filePath: filename, fileLine: line)
  }
}
```