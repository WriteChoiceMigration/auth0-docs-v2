---
og:description: Describes search query syntax using a subset of the Lucene query syntax
  to refine Auth0 log searches.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Syntaxe de demande de recherche journal
og:url: https://auth0.com/docs/
permalink: log-search-query-syntax
title: Syntaxe de demande de recherche journal
twitter:description: Describes search query syntax using a subset of the Lucene query
  syntax to refine Auth0 log searches.
twitter:title: Syntaxe de demande de recherche journal
---

When searching for logs, you can create queries using a subset of [Lucene query syntax](http://www.lucenetutorial.com/lucene-query-syntax.html) to refine your search.

La chaîne de requête est analysée en séries de termes et d’opérateurs :

* Un terme peut être un mot unique tel que `jane` ou `smith`.
* Un terme peut être une phrase entourée de guillemets (`"customer log"`), qui correspondra à tous les mots de la phrase dans le même ordre.
* Un terme sans nom de champ ne correspondra qu’à ces champs sélectionnés.
* Plusieurs termes peuvent être regroupés entre parenthèses pour former des sous-requêtes.
* Tous les champs de recherche sont sensibles aux majuscules/minuscules.
* Les opérateurs (` AND`, ` OR`, ` NOT`) fonctionnent sur tous les champs de recherche.

## Champs pouvant être recherchés

Les champs suivants peuvent être recherchés et sont sensibles aux majuscules/minuscules :

<table class="table"><thead>
<tr>
<th><strong>Field</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>client_id</code></td>
<td>Client ID related to the event.</td>
</tr>
<tr>
<td><code>client_name</code></td>
<td>Client name related to the event.</td>
</tr>
<tr>
<td><code>connection</code></td>
<td>Connection name related to the event.</td>
</tr>
<tr>
<td><code>connection_id</code></td>
<td>Connection ID related to the event.</td>
</tr>
<tr>
<td><code>description</code></td>
<td>Description of the event.</td>
</tr>
<tr>
<td><code>date</code></td>
<td>Date the event occurred in YYYY-MM-DD format.</td>
</tr>
<tr>
<td><code>hostname</code></td>
<td>Hostname used for the authentication flow.</td>
</tr>
<tr>
<td><code>ip</code></td>
<td>IP address from where the request that caused the log entry originated.</td>
</tr>
<tr>
<td><code>log_id</code></td>
<td>Log ID of the event.</td>
</tr>
<tr>
<td><code>organization_id</code></td>
<td>Organization ID related to the event.</td>
</tr>
<tr>
<td><code>user_id</code></td>
<td>User ID related to the event.</td>
</tr>
<tr>
<td><code>user_name</code></td>
<td>User name related to the event.</td>
</tr>
<tr>
<td><code>user_agent</code></td>
<td>User agent related to the event.</td>
</tr>
<tr>
<td><code>strategy</code></td>
<td>Connection strategy related to the event.</td>
</tr>
<tr>
<td><code>strategy_type</code></td>
<td>Connection strategy type related to the event.</td>
</tr>
<tr>
<td><code>type</code></td>
<td>Type of the event.</td>
</tr>
</tbody>
</table>

## Champs pouvant être recherchés avec des termes nus

Si un terme de recherche est saisi sans nom de champ, la recherche ne portera que sur les champs suivants :

* `client_name`
* `connection`
* `description`
* `ip`
* `log_id`
* `type` :
* `user_name`

## Correspondance exacte

Pour trouver des correspondances exactes, utilisez des guillemets doubles : `description:"Username invalid"`.

Par exemple, pour trouver les journaux dont la description est `Username invalid`, utilisez `q=description:"Username invalid"`.

## Caractères générique

Les recherches par caractères génériques peuvent être effectuées sur des termes en utilisant le caractère astérisque (`*`) pour remplacer zéro ou plusieurs caractères : `user_name:john*`. Ils peuvent être utilisés pour la recherche de préfixes, par exemple `user_name:j*` Pour les autres utilisations des caractères génériques (par ex., la correspondance de suffixes), les littéraux doivent comporter 3 caractères ou plus. Par exemple, `name:*usa` est autorisé, mais `name:*sa` ne l’est pas.

Le point d’interrogation (`?`) n’est pas pris en charge.

Par exemple, pour trouver tous les journaux des utilisateurs dont le nom commence par `john`, utilisez `q=user_name:john*`.

## Plages

Vous pouvez utiliser des plages dans vos requêtes de recherche de journaux. Pour les intervalles inclusifs, utilisez des crochets : `[min TO max]`, et pour les plages exclusives, utilisez des crochets : `{min TO max}`.

Les accolades et les crochets peuvent être combinés avec la même expression de plage. Vous pouvez également utiliser les recherches génériques au sein des plages.

Par exemple, pour trouver tous les journaux du 18 décembre 2018 à aujourd’hui, utilisez `q=date:[2018-12-18 TO *]`.

Si vous souhaitez rechercher des journaux depuis le début de votre période de conservation jusqu’au 19 décembre 2018 inclus, utilisez `q=date:[* TO 2018-12-19}`.

## Exemples de requêtes

Below are some examples to show the kinds of queries you can make with the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip>.

<table class="table"><thead>
<tr>
<th>Use Case</th>
<th>Query</th>
</tr>
</thead>
<tbody>
<tr>
<td>Search all logs with connections that contains "Pass"</td>
<td><code>connection:*pass*</code></td>
</tr>
<tr>
<td>Search all logs for users with a user name that contains "fred"</td>
<td><code>user_name:*fred*</code></td>
</tr>
<tr>
<td>Search all logs with user id's matching exactly "123"</td>
<td><code>user_id:"123"</code></td>
</tr>
<tr>
<td>Search for all logs with a type starting with "s"</td>
<td><code>type:s*</code></td>
</tr>
<tr>
<td>Search for user names that start with "jane" and end with "smith"</td>
<td><code>user_name:jane*smith</code></td>
</tr>
<tr>
<td>Search for all logs in December 2018</td>
<td><code>date:[2018-12 TO 2019-01-01}</code></td>
</tr>
<tr>
<td>Search for all logs from December 10, 2018 forward</td>
<td><code>date:[2018-12-10 TO *]</code></td>
</tr>
<tr>
<td>Search for all logs from January 1, 2019 at 1AM, until, but not including January 1, 2019 at 12:23:45</td>
<td><code>date:[2019-01-01T01:00:00 TO 2019-01-01T12:23:45}</code></td>
</tr>
</tbody>
</table>

## Limites

* Si vous obtenez l’erreur `414 Request-URI Too Large`, cela signifie que votre chaîne de requête est plus longue que la longueur prise en charge. Dans ce cas, affinez votre recherche.
* Les champs du journal ne sont pas symbolisés, donc `description:rule` ne correspondra pas à une description avec la valeur `Create a rule` ou `Update a rule`. Utilisez plutôt `description:*rule`. Voir les recherches génériques et leurs correspondances exactes.
* L’extension de champ `.raw` n’est pas prise en charge. Les champs correspondent à l’intégralité de la valeur fournie et ne sont pas transformés en jetons.

## Pagination

Lors de l’appel des points de terminaison `GET /api/v2/logs` ou `GET /api/v2/users/{user_id}/logs` en utilisant le paramètre `include_totals`, le résultat est un objet JSON contenant un résumé des résultats et des journaux demandés. L’objet JSON ressemble à ceci :

```json lines
{
  "length": 5,
  "limit": 5,
  "logs": [...],
  "start": 0,
  "total": 5
}
```






Lors de la recherche de journaux, le champ **totals** indique le nombre de journaux renvoyés dans la page (comme le champ **length**).

## Learn more

* [View Logs](/docs/deploy-monitor/logs/view-log-events)
* [Log Type Codes](/docs/deploy-monitor/logs/log-event-type-codes)
* [Filter Log Events](/docs/deploy-monitor/logs/log-event-filters)
* [Migrate to Tenant Log Search v3](/docs/troubleshoot/product-lifecycle/past-migrations/migrate-to-tenant-log-search-v3)