---
og:description: Learn how to retrieve logs using the Auth0 Management API get_logs
  endpoint by checkpoint or by search criteria.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Récupérer les événements de journal à l’aide de Management API
og:url: https://auth0.com/docs/
permalink: retrieve-log-events-using-mgmt-api
title: Récupérer les événements de journal à l’aide de Management API
twitter:description: Learn how to retrieve logs using the Auth0 Management API get_logs
  endpoint by checkpoint or by search criteria.
twitter:title: Récupérer les événements de journal à l’aide de Management API
---

You can use the <Tooltip tip="Management API: A product to allow customers to perform administrative tasks." cta="View Glossary" href="/docs/glossary?term=Management+API">Management API</Tooltip> to retrieve up to 100 logs per request using the [/get_logs](https://auth0.com/docs/api/management/v2/#!/Logs/get_logs) endpoint, which supports two types of consumption:

* **Par point de contrôle** : Recommandé si vous souhaitez exporter les événements du journal vers un service externe d’analyse des données.
* **Par critère de recherche** : Utilisé par le Dashboard.

Logs stored by Auth0 are subject to a retention period that is based on your Auth0 subscription. To learn more, read [Log Data Retention](/docs/deploy-monitor/logs/log-data-retention).

Vous pouvez également utiliser ces points de terminaison pour rechercher des journaux :

* `/api/v2/logs/{id}`: Récupère l’entrée de journal unique associée à l’identifiant de journal fourni.
* `/api/v2/users/{user_id}/logs`: Récupère les événements du journal pour un identifiant d’utilisateur spécifique.

## Récupérer les journaux par point de contrôle

Cette méthode vous permet de récupérer les événements plus récents qu’un `log_id` donné. Elle est couramment utilisée pour envoyer vos journaux à un système externe, tel que Splunk, Datadog, Application Insights, Mixpanel, entre autres.
Pour effectuer une recherche par point de contrôle, utilisez les paramètres suivants :
Tout paramètre autre que `from` et `take` sera ignoré. Les journaux sont classés par `log_id`.

Sémantique

<table class="table"><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>from</code></td>
<td>Log event ID to start retrieving logs. You can limit the amount of logs using the <code>take</code> parameter.</td>
</tr>
<tr>
<td><code>take</code></td>
<td>The total amount of entries to retrieve when using the <code>from</code> parameter.</td>
</tr>
</tbody>
</table>

La récupération des journaux par point de contrôle possède la sémantique suivante :

#### Tous les journaux disponibles pour les permissions de votre rôle seront retournés

Les journaux sont classés par `log_id`, plutôt que par l’heure de génération de l’événement, afin d’éviter de sauter des enregistrements antérieurs en raison de délais du système Auth0.

* La pagination est illimitée, ce qui signifie qu’il n’y a pas de limite, contrairement à la limite de `1000` enregistrements lors de la récupération des journaux par critère de recherche.
* Exemple
* Lors de la récupération des journaux par point de contrôle, seule la première demande doit être effectuée manuellement. Chaque demande ultérieure doit être effectuée en utilisant la `prochaine` URL liée à l’intérieur de l’en-tête `Lien`. Cela simplifie le travail d’intégration avec l’API et permet à Auth0 d’effectuer des optimisations sans impacter l’expérience du client.

#### Exemple

Supposons que le nom de votre locataire dans `us` soit `acme`. Pour commencer à récupérer les enregistrements par point de contrôle :
Exemple : `90020211201185132572079310688835925971249535794074878050`.
Récupérer les journaux par critères de recherche
Cette méthode permet d’extraire les événements du journal qui correspondent aux critères de recherche spécifiés ou, si aucun critère n’est utilisé, de dresser la liste de tous les événements. Pour effectuer une recherche par critères, utilisez les paramètres suivants :
Pour consulter la liste des champs et des paramètres de tri pouvant être utilisés dans la requête de recherche, lisez [Syntaxe de la requête de recherche de journaux](/logs/log-search-query-syntax).

#### Limites

Outre la limitation à 100 événements de journal par demande de récupération des journaux, vous ne pouvez paginer que jusqu’à 1000 résultats de recherche.
Si vous obtenez l’erreur `414 Request-URI Too Large`, cela signifie que votre chaîne de requête est plus longue que la longueur prise en charge. Dans ce cas, affinez votre recherche.

1. Grab the `log_id` from any log in your system.
   Example: `90020211201185132572079310688835925971249535794074878050`.
2. Make a request to `https://TENANT_NAME.LOCALITY.auth0.com/api/v2/logs?from=LOG_ID&take=100` to request the next `100` logs newer than the given `LOG_ID`.
3. The HTTP response will contain

   1. A JSON array of `0` to `100` logs newer than the given `LOG_ID`
   2. An HTTP `Link` header with a `next` relation
4. If the result set is empty you will receive an empty array, and the `next` relation will match the same URL you used in the most recent request

## Retrieve logs by search criteria

This method allows you to retrieve logs that match the specified search criteria or, if no criteria is used, lists all logs. To search by criteria use the following parameters:

<table class="table"><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>q</code></td>
<td>Search criteria using Query String Syntax.</td>
</tr>
<tr>
<td><code>page</code></td>
<td>The zero-based page number.</td>
</tr>
<tr>
<td><code>per_page</code></td>
<td>The number of entries per page.</td>
</tr>
<tr>
<td><code>sort</code></td>
<td>The field to use for sorting. Use <code>field:order</code>, where <code>order</code> is <code>1</code> for ascending and <code>-1</code> for descending. For example <code>date:-1</code>.</td>
</tr>
<tr>
<td><code>fields</code></td>
<td>A comma-separated field list to include or exclude (depending on <code>include_fields</code>) from the result. Leave empty to retrieve all fields.</td>
</tr>
<tr>
<td><code>include_fields</code></td>
<td><code>true</code> if the fields specified are to be included in the result, <code>false</code> otherwise. Defaults to <code>true</code>.</td>
</tr>
</tbody>
</table>

To see a list of fields and sort parameters that can be used in the search query, read [Log Search Query Syntax](/docs/deploy-monitor/logs/log-search-query-syntax).

## Limitations

Besides the limitation of 100 logs per request to retrieve logs, you may only paginate through up to 1,000 search results.

If you get the error `414 Request-URI Too Large` this means that your query string is larger than the supported length. In this case, refine your search.

<Card title="Private Cloud search field limitations">

The following fields are searchable only for Private Cloud:

* `user`
* `connection`
* `application`
* `type`
* `ip`

Use double quotes for exact searches (e.g., `application:"test"` will search for all log events specific to the application named `test`, but `application:test` will search log events for applications with "test" in their name.

</Card>

## Learn more

* [Log Type Codes](/docs/deploy-monitor/logs/log-event-type-codes)
* [Log Search Query Syntax](/docs/deploy-monitor/logs/log-search-query-syntax)
* [Log Data Retention](/docs/deploy-monitor/logs/log-data-retention)