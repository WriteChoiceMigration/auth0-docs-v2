---
og:description: Learn how to retrieve logs using the Auth0 Management API get_logs
  endpoint by checkpoint or by search criteria.
og:image: https://cdn2.auth0.com/docs/1.14553.0/img/share-image.png
og:title: Récupérer les événements de journal à l’aide de Management API
og:url: https://auth0.com/docs/
permalink: retrieve-log-events-using-mgmt-api
title: Récupérer les événements de journal à l’aide de Management API
twitter:description: Learn how to retrieve logs using the Auth0 Management API get_logs
  endpoint by checkpoint or by search criteria.
twitter:title: Récupérer les événements de journal à l’aide de Management API
---

Vous pouvez utiliser Management API pour récupérer jusqu’à 100 événements de journal par demande en utilisant le point de terminaison [/get_logs](https://auth0.com/docs/api/management/v2/#!/Logs/get_logs), qui prend en charge deux types de consommation :

* **Par point de contrôle** : Recommandé si vous souhaitez exporter les événements du journal vers un service externe d’analyse des données.
* **Par critère de recherche** : Utilisé par le Dashboard.

Les journaux stockés par Auth0 sont soumis à une période de rétention qui est basée sur votre abonnement Auth0. Pour en savoir plus, lisez [Rétention des données des journaux](/logs/log-data-retention).

Vous pouvez également utiliser ces points de terminaison pour rechercher des journaux :

* `/api/v2/logs/{id}`: Récupère l’entrée de journal unique associée à l’identifiant de journal fourni.
* `/api/v2/users/{user_id}/logs`: Récupère les événements du journal pour un identifiant d’utilisateur spécifique.

## Récupérer les journaux par point de contrôle

Cette méthode vous permet de récupérer les événements plus récents qu’un `log_id` donné. Elle est couramment utilisée pour envoyer vos journaux à un système externe, tel que Splunk, Datadog, Application Insights, Mixpanel, entre autres.

Pour effectuer une recherche par point de contrôle, utilisez les paramètres suivants : 

Tout paramètre autre que `from` et `take` sera ignoré. Les journaux sont classés par `log_id`.

#### Sémantique

La récupération des journaux par point de contrôle possède la sémantique suivante :

* Tous les journaux disponibles pour les permissions de votre rôle seront retournés
* Les journaux sont classés par `log_id`, plutôt que par l’heure de génération de l’événement, afin d’éviter de sauter des enregistrements antérieurs en raison de délais du système Auth0.
* La pagination est illimitée, ce qui signifie qu’il n’y a pas de limite, contrairement à la limite de `1000` enregistrements lors de la récupération des journaux par critère de recherche.

#### Pagination

Lors de la récupération des journaux par point de contrôle, seule la première demande doit être effectuée manuellement. Chaque demande ultérieure doit être effectuée en utilisant la `prochaine` URL liée à l’intérieur de l’en-tête `Lien`. Cela simplifie le travail d’intégration avec l’API et permet à Auth0 d’effectuer des optimisations sans impacter l’expérience du client.

#### Exemple

Supposons que le nom de votre locataire dans `us` soit `acme`. Pour commencer à récupérer les enregistrements par point de contrôle :

1. Récupérez le `log_id` de n’importe quel journal de votre système. 
Exemple : `90020211201185132572079310688835925971249535794074878050`.
2. Faites une demande à `https://TENANT_NAME.LOCALITY.auth0.com/api/v2/logs?from=LOG_ID&take=100 `pour demander les `100` prochains journaux plus récents que le `LOG_ID` donné.
3. La réponse HTTP contiendra

1. Un tableau JSON de `0` à `100` journaux plus récents que l’identifiant `LOG_ID` donné.
2. Un en-tête HTTP `Link` avec une relation `next`.
4. Si l’ensemble des résultats est vide, vous recevrez un tableau vide et la relation `next` correspondra à la même URL que celle que vous avez utilisée dans la demande la plus récente.

## Récupérer les journaux par critères de recherche

Cette méthode permet d’extraire les événements du journal qui correspondent aux critères de recherche spécifiés ou, si aucun critère n’est utilisé, de dresser la liste de tous les événements. Pour effectuer une recherche par critères, utilisez les paramètres suivants : 

Pour consulter la liste des champs et des paramètres de tri pouvant être utilisés dans la requête de recherche, lisez [Syntaxe de la requête de recherche de journaux](/logs/log-search-query-syntax).

## Limites

Outre la limitation à 100 événements de journal par demande de récupération des journaux, vous ne pouvez paginer que jusqu’à 1000 résultats de recherche.

Si vous obtenez l’erreur `414 Request-URI Too Large`, cela signifie que votre chaîne de requête est plus longue que la longueur prise en charge. Dans ce cas, affinez votre recherche.